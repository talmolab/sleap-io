
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://io.sleap.ai/dev/reference/sleap_io/io/slp/">
      
      
        <link rel="prev" href="../nwb/">
      
      
        <link rel="next" href="../utils/">
      
      
      <link rel="icon" href="../../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>slp - sleap-io documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-V7MWLE7LXW"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-V7MWLE7LXW",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-V7MWLE7LXW",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sleap_io.io.slp" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="sleap-io documentation" class="md-header__button md-logo" aria-label="sleap-io documentation" data-md-component="logo">
      
  <img src="../../../../assets/sleap-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            sleap-io documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              slp
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/talmolab/sleap-io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="sleap-io documentation" class="md-nav__button md-logo" aria-label="sleap-io documentation" data-md-component="logo">
      
  <img src="../../../../assets/sleap-logo.png" alt="logo">

    </a>
    sleap-io documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/talmolab/sleap-io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/talmolab/sleap-io/releases" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Core API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Core API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../formats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formats
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Full API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Full API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    sleap_io
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            sleap_io
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    io
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_1" id="__nav_6_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_1_1">
            <span class="md-nav__icon md-icon"></span>
            io
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jabs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    jabs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labelstudio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    labelstudio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    main
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nwb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    nwb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    slp
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    slp
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sleap_io.io.slp" class="md-nav__link">
    <span class="md-ellipsis">
      slp
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video_reading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    video_reading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video_writing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    video_writing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../model/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    model
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_2" id="__nav_6_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_2">
            <span class="md-nav__icon md-icon"></span>
            model
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/camera/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    camera
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/instance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    instance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/labeled_frame/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    labeled_frame
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/labels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    labels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/skeleton/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    skeleton
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/suggestions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    suggestions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../model/video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    video
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    version
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sleap_io.io.slp" class="md-nav__link">
    <span class="md-ellipsis">
      slp
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>slp</h1>

<div class="doc doc-object doc-module">



<h2 id="sleap_io.io.slp" class="doc doc-heading">
            <code>sleap_io.io.slp</code>


<a href="#sleap_io.io.slp" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">

        <p>This module handles direct I/O operations for working with .slp files.</p>








<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="&lt;code&gt;InstanceType&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.InstanceType&lt;/code&gt;)" href="#sleap_io.io.slp.InstanceType">InstanceType</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Enumeration of instance types to integers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;camera_group_to_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;camera_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.camera_group_to_dict&lt;/code&gt;)" href="#sleap_io.io.slp.camera_group_to_dict">camera_group_to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert <code>camera_group</code> to dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;camera_to_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;camera&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.camera_to_dict&lt;/code&gt;)" href="#sleap_io.io.slp.camera_to_dict">camera_to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert <code>camera</code> to dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;embed_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;embed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;png&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.embed_frames&lt;/code&gt;)" href="#sleap_io.io.slp.embed_frames">embed_frames</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Embed frames in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;embed_video&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;video&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frame_inds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;png&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fixed_length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.embed_video&lt;/code&gt;)" href="#sleap_io.io.slp.embed_video">embed_video</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Embed frames of a video in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;embed_videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;embed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.embed_videos&lt;/code&gt;)" href="#sleap_io.io.slp.embed_videos">embed_videos</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Embed videos in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;frame_group_to_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frame_to_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;camera_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.frame_group_to_dict&lt;/code&gt;)" href="#sleap_io.io.slp.frame_group_to_dict">frame_group_to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert <code>frame_group</code> to a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;instance_group_to_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;instance_to_lf_and_inst_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;camera_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.instance_group_to_dict&lt;/code&gt;)" href="#sleap_io.io.slp.instance_group_to_dict">instance_group_to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert <code>instance_group</code> to a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;make_camera&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;camera_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.make_camera&lt;/code&gt;)" href="#sleap_io.io.slp.make_camera">make_camera</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create <code>Camera</code> from a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;make_camera_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;calibration_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.make_camera_group&lt;/code&gt;)" href="#sleap_io.io.slp.make_camera_group">make_camera_group</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create a <code>CameraGroup</code> from a calibration dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;make_frame_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame_group_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;camera_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.make_frame_group&lt;/code&gt;)" href="#sleap_io.io.slp.make_frame_group">make_frame_group</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create a <code>FrameGroup</code> object from a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;make_instance_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance_group_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;camera_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.make_instance_group&lt;/code&gt;)" href="#sleap_io.io.slp.make_instance_group">make_instance_group</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates an <code>InstanceGroup</code> object from a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;make_session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.make_session&lt;/code&gt;)" href="#sleap_io.io.slp.make_session">make_session</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create a <code>RecordingSession</code> from a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;make_video&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;video_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_backend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.make_video&lt;/code&gt;)" href="#sleap_io.io.slp.make_video">make_video</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create a <code>Video</code> object from a JSON dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_instances&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skeletons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tracks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;points&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pred_points&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;format_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_instances&lt;/code&gt;)" href="#sleap_io.io.slp.read_instances">read_instances</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read <code>Instance</code> dataset in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_videos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_labels&lt;/code&gt;)" href="#sleap_io.io.slp.read_labels">read_labels</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_metadata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_metadata&lt;/code&gt;)" href="#sleap_io.io.slp.read_metadata">read_metadata</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read metadata from a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_points&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_points&lt;/code&gt;)" href="#sleap_io.io.slp.read_points">read_points</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read points dataset from a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_pred_points&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_pred_points&lt;/code&gt;)" href="#sleap_io.io.slp.read_pred_points">read_pred_points</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read predicted points dataset from a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_sessions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_sessions&lt;/code&gt;)" href="#sleap_io.io.slp.read_sessions">read_sessions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read <code>RecordingSession</code> dataset from a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_skeletons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_skeletons&lt;/code&gt;)" href="#sleap_io.io.slp.read_skeletons">read_skeletons</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read <code>Skeleton</code> dataset from a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_suggestions&lt;/code&gt;)" href="#sleap_io.io.slp.read_suggestions">read_suggestions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read <code>SuggestionFrame</code> dataset in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_tracks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_tracks&lt;/code&gt;)" href="#sleap_io.io.slp.read_tracks">read_tracks</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read <code>Track</code> dataset in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;read_videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_backend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.read_videos&lt;/code&gt;)" href="#sleap_io.io.slp.read_videos">read_videos</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Read <code>Video</code> dataset in a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;sanitize_filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.sanitize_filename&lt;/code&gt;)" href="#sleap_io.io.slp.sanitize_filename">sanitize_filename</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sanitize a filename to a canonical posix-compatible format.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;serialize_skeletons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;skeletons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.serialize_skeletons&lt;/code&gt;)" href="#sleap_io.io.slp.serialize_skeletons">serialize_skeletons</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Serialize a list of <code>Skeleton</code> objects to JSON-compatible dicts.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;session_to_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;video_to_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frame_to_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.session_to_dict&lt;/code&gt;)" href="#sleap_io.io.slp.session_to_dict">session_to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert <code>RecordingSession</code> to a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;video_to_dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;video&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.video_to_dict&lt;/code&gt;)" href="#sleap_io.io.slp.video_to_dict">video_to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert a <code>Video</code> object to a JSON-compatible dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;embed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_labels&lt;/code&gt;)" href="#sleap_io.io.slp.write_labels">write_labels</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_lfs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_lfs&lt;/code&gt;)" href="#sleap_io.io.slp.write_lfs">write_lfs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write labeled frames, instances and points to a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_metadata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_metadata&lt;/code&gt;)" href="#sleap_io.io.slp.write_metadata">write_metadata</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write metadata to a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_sessions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labeled_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_sessions&lt;/code&gt;)" href="#sleap_io.io.slp.write_sessions">write_sessions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write <code>RecordingSession</code> metadata to a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;suggestions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_suggestions&lt;/code&gt;)" href="#sleap_io.io.slp.write_suggestions">write_suggestions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write track metadata to a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_tracks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tracks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_tracks&lt;/code&gt;)" href="#sleap_io.io.slp.write_tracks">write_tracks</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write track metadata to a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;write_videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;videos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;restore_source&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt; (&lt;code&gt;sleap_io.io.slp.write_videos&lt;/code&gt;)" href="#sleap_io.io.slp.write_videos">write_videos</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Write video metadata to a SLEAP labels file.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="sleap_io.io.slp.InstanceType" class="doc doc-heading">
            <code>InstanceType</code>


<a href="#sleap_io.io.slp.InstanceType" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.IntEnum">IntEnum</span></code></p>


        <p>Enumeration of instance types to integers.</p>











              <details class="quote">
                <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
                <div class="highlight"><pre><span></span><code><a id="__codelineno-0-39" name="__codelineno-0-39"></a><a href="#__codelineno-0-39"><span class="linenos" data-linenos="39 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">InstanceType</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><a href="#__codelineno-0-40"><span class="linenos" data-linenos="40 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Enumeration of instance types to integers.&quot;&quot;&quot;</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><a href="#__codelineno-0-41"><span class="linenos" data-linenos="41 "></span></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><a href="#__codelineno-0-42"><span class="linenos" data-linenos="42 "></span></a>    <span class="n">USER</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><a href="#__codelineno-0-43"><span class="linenos" data-linenos="43 "></span></a>    <span class="n">PREDICTED</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.camera_group_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">camera_group_to_dict</span><span class="p">(</span><span class="n">camera_group</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.camera_group_to_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert <code>camera_group</code> to dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>camera_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;CameraGroup&lt;/code&gt; (&lt;code&gt;sleap_io.CameraGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.CameraGroup">CameraGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>CameraGroup</code> object to convert to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing camera group information with the following keys:
    - cam_n: Camera dictionary containing information for camera at index "n"
        with the following keys:
        name: Camera name.
        size: Image size (height, width) of camera in pixels of size (2,)
            and type int.
        matrix: Intrinsic camera matrix of size (3, 3) and type float64.
        distortions: Radial-tangential distortion coefficients
            [k_1, k_2, p_1, p_2, k_3] of size (5,) and type float64.
        rotation: Rotation vector in unnormalized axis-angle representation
            of size (3,) and type float64.
        translation: Translation vector of size (3,) and type float64.
    - "metadata": Dictionary of optional metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1484" name="__codelineno-0-1484"></a><a href="#__codelineno-0-1484"><span class="linenos" data-linenos="1484 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">camera_group_to_dict</span><span class="p">(</span><span class="n">camera_group</span><span class="p">:</span> <span class="n">CameraGroup</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-1485" name="__codelineno-0-1485"></a><a href="#__codelineno-0-1485"><span class="linenos" data-linenos="1485 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert `camera_group` to dictionary.</span>
<a id="__codelineno-0-1486" name="__codelineno-0-1486"></a><a href="#__codelineno-0-1486"><span class="linenos" data-linenos="1486 "></span></a>
<a id="__codelineno-0-1487" name="__codelineno-0-1487"></a><a href="#__codelineno-0-1487"><span class="linenos" data-linenos="1487 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1488" name="__codelineno-0-1488"></a><a href="#__codelineno-0-1488"><span class="linenos" data-linenos="1488 "></span></a><span class="sd">        camera_group: `CameraGroup` object to convert to a dictionary.</span>
<a id="__codelineno-0-1489" name="__codelineno-0-1489"></a><a href="#__codelineno-0-1489"><span class="linenos" data-linenos="1489 "></span></a>
<a id="__codelineno-0-1490" name="__codelineno-0-1490"></a><a href="#__codelineno-0-1490"><span class="linenos" data-linenos="1490 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1491" name="__codelineno-0-1491"></a><a href="#__codelineno-0-1491"><span class="linenos" data-linenos="1491 "></span></a><span class="sd">        Dictionary containing camera group information with the following keys:</span>
<a id="__codelineno-0-1492" name="__codelineno-0-1492"></a><a href="#__codelineno-0-1492"><span class="linenos" data-linenos="1492 "></span></a><span class="sd">            - cam_n: Camera dictionary containing information for camera at index &quot;n&quot;</span>
<a id="__codelineno-0-1493" name="__codelineno-0-1493"></a><a href="#__codelineno-0-1493"><span class="linenos" data-linenos="1493 "></span></a><span class="sd">                with the following keys:</span>
<a id="__codelineno-0-1494" name="__codelineno-0-1494"></a><a href="#__codelineno-0-1494"><span class="linenos" data-linenos="1494 "></span></a><span class="sd">                name: Camera name.</span>
<a id="__codelineno-0-1495" name="__codelineno-0-1495"></a><a href="#__codelineno-0-1495"><span class="linenos" data-linenos="1495 "></span></a><span class="sd">                size: Image size (height, width) of camera in pixels of size (2,)</span>
<a id="__codelineno-0-1496" name="__codelineno-0-1496"></a><a href="#__codelineno-0-1496"><span class="linenos" data-linenos="1496 "></span></a><span class="sd">                    and type int.</span>
<a id="__codelineno-0-1497" name="__codelineno-0-1497"></a><a href="#__codelineno-0-1497"><span class="linenos" data-linenos="1497 "></span></a><span class="sd">                matrix: Intrinsic camera matrix of size (3, 3) and type float64.</span>
<a id="__codelineno-0-1498" name="__codelineno-0-1498"></a><a href="#__codelineno-0-1498"><span class="linenos" data-linenos="1498 "></span></a><span class="sd">                distortions: Radial-tangential distortion coefficients</span>
<a id="__codelineno-0-1499" name="__codelineno-0-1499"></a><a href="#__codelineno-0-1499"><span class="linenos" data-linenos="1499 "></span></a><span class="sd">                    [k_1, k_2, p_1, p_2, k_3] of size (5,) and type float64.</span>
<a id="__codelineno-0-1500" name="__codelineno-0-1500"></a><a href="#__codelineno-0-1500"><span class="linenos" data-linenos="1500 "></span></a><span class="sd">                rotation: Rotation vector in unnormalized axis-angle representation</span>
<a id="__codelineno-0-1501" name="__codelineno-0-1501"></a><a href="#__codelineno-0-1501"><span class="linenos" data-linenos="1501 "></span></a><span class="sd">                    of size (3,) and type float64.</span>
<a id="__codelineno-0-1502" name="__codelineno-0-1502"></a><a href="#__codelineno-0-1502"><span class="linenos" data-linenos="1502 "></span></a><span class="sd">                translation: Translation vector of size (3,) and type float64.</span>
<a id="__codelineno-0-1503" name="__codelineno-0-1503"></a><a href="#__codelineno-0-1503"><span class="linenos" data-linenos="1503 "></span></a><span class="sd">            - &quot;metadata&quot;: Dictionary of optional metadata.</span>
<a id="__codelineno-0-1504" name="__codelineno-0-1504"></a><a href="#__codelineno-0-1504"><span class="linenos" data-linenos="1504 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1505" name="__codelineno-0-1505"></a><a href="#__codelineno-0-1505"><span class="linenos" data-linenos="1505 "></span></a>    <span class="n">calibration_dict</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1506" name="__codelineno-0-1506"></a><a href="#__codelineno-0-1506"><span class="linenos" data-linenos="1506 "></span></a>    <span class="k">for</span> <span class="n">cam_idx</span><span class="p">,</span> <span class="n">camera</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">camera_group</span><span class="o">.</span><span class="n">cameras</span><span class="p">):</span>
<a id="__codelineno-0-1507" name="__codelineno-0-1507"></a><a href="#__codelineno-0-1507"><span class="linenos" data-linenos="1507 "></span></a>        <span class="n">camera_dict</span> <span class="o">=</span> <span class="n">camera_to_dict</span><span class="p">(</span><span class="n">camera</span><span class="p">)</span>
<a id="__codelineno-0-1508" name="__codelineno-0-1508"></a><a href="#__codelineno-0-1508"><span class="linenos" data-linenos="1508 "></span></a>        <span class="n">calibration_dict</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;cam_</span><span class="si">{</span><span class="n">cam_idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">camera_dict</span>
<a id="__codelineno-0-1509" name="__codelineno-0-1509"></a><a href="#__codelineno-0-1509"><span class="linenos" data-linenos="1509 "></span></a>
<a id="__codelineno-0-1510" name="__codelineno-0-1510"></a><a href="#__codelineno-0-1510"><span class="linenos" data-linenos="1510 "></span></a>    <span class="n">calibration_dict</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">camera_group</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1511" name="__codelineno-0-1511"></a><a href="#__codelineno-0-1511"><span class="linenos" data-linenos="1511 "></span></a>
<a id="__codelineno-0-1512" name="__codelineno-0-1512"></a><a href="#__codelineno-0-1512"><span class="linenos" data-linenos="1512 "></span></a>    <span class="k">return</span> <span class="n">calibration_dict</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.camera_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">camera_to_dict</span><span class="p">(</span><span class="n">camera</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.camera_to_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert <code>camera</code> to dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>camera</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;Camera&lt;/code&gt; (&lt;code&gt;sleap_io.Camera&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.Camera">Camera</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>Camera</code> object to convert to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing camera information with the following keys:
    - "name": Camera name.
    - "size": Image size (width, height) of camera in pixels of size (2,) and type
        int.
    - "matrix": Intrinsic camera matrix of size (3, 3) and type float64.
    - "distortions": Radial-tangential distortion coefficients
        [k_1, k_2, p_1, p_2, k_3] of size (5,) and type float64.
    - "rotation": Rotation vector in unnormalized axis-angle representation of
        size (3,) and type float64.
    - "translation": Translation vector of size (3,) and type float64.
    - Any optional keys containing metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1447" name="__codelineno-0-1447"></a><a href="#__codelineno-0-1447"><span class="linenos" data-linenos="1447 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">camera_to_dict</span><span class="p">(</span><span class="n">camera</span><span class="p">:</span> <span class="n">Camera</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-1448" name="__codelineno-0-1448"></a><a href="#__codelineno-0-1448"><span class="linenos" data-linenos="1448 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert `camera` to dictionary.</span>
<a id="__codelineno-0-1449" name="__codelineno-0-1449"></a><a href="#__codelineno-0-1449"><span class="linenos" data-linenos="1449 "></span></a>
<a id="__codelineno-0-1450" name="__codelineno-0-1450"></a><a href="#__codelineno-0-1450"><span class="linenos" data-linenos="1450 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1451" name="__codelineno-0-1451"></a><a href="#__codelineno-0-1451"><span class="linenos" data-linenos="1451 "></span></a><span class="sd">        camera: `Camera` object to convert to a dictionary.</span>
<a id="__codelineno-0-1452" name="__codelineno-0-1452"></a><a href="#__codelineno-0-1452"><span class="linenos" data-linenos="1452 "></span></a>
<a id="__codelineno-0-1453" name="__codelineno-0-1453"></a><a href="#__codelineno-0-1453"><span class="linenos" data-linenos="1453 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1454" name="__codelineno-0-1454"></a><a href="#__codelineno-0-1454"><span class="linenos" data-linenos="1454 "></span></a><span class="sd">        Dictionary containing camera information with the following keys:</span>
<a id="__codelineno-0-1455" name="__codelineno-0-1455"></a><a href="#__codelineno-0-1455"><span class="linenos" data-linenos="1455 "></span></a><span class="sd">            - &quot;name&quot;: Camera name.</span>
<a id="__codelineno-0-1456" name="__codelineno-0-1456"></a><a href="#__codelineno-0-1456"><span class="linenos" data-linenos="1456 "></span></a><span class="sd">            - &quot;size&quot;: Image size (width, height) of camera in pixels of size (2,) and type</span>
<a id="__codelineno-0-1457" name="__codelineno-0-1457"></a><a href="#__codelineno-0-1457"><span class="linenos" data-linenos="1457 "></span></a><span class="sd">                int.</span>
<a id="__codelineno-0-1458" name="__codelineno-0-1458"></a><a href="#__codelineno-0-1458"><span class="linenos" data-linenos="1458 "></span></a><span class="sd">            - &quot;matrix&quot;: Intrinsic camera matrix of size (3, 3) and type float64.</span>
<a id="__codelineno-0-1459" name="__codelineno-0-1459"></a><a href="#__codelineno-0-1459"><span class="linenos" data-linenos="1459 "></span></a><span class="sd">            - &quot;distortions&quot;: Radial-tangential distortion coefficients</span>
<a id="__codelineno-0-1460" name="__codelineno-0-1460"></a><a href="#__codelineno-0-1460"><span class="linenos" data-linenos="1460 "></span></a><span class="sd">                [k_1, k_2, p_1, p_2, k_3] of size (5,) and type float64.</span>
<a id="__codelineno-0-1461" name="__codelineno-0-1461"></a><a href="#__codelineno-0-1461"><span class="linenos" data-linenos="1461 "></span></a><span class="sd">            - &quot;rotation&quot;: Rotation vector in unnormalized axis-angle representation of</span>
<a id="__codelineno-0-1462" name="__codelineno-0-1462"></a><a href="#__codelineno-0-1462"><span class="linenos" data-linenos="1462 "></span></a><span class="sd">                size (3,) and type float64.</span>
<a id="__codelineno-0-1463" name="__codelineno-0-1463"></a><a href="#__codelineno-0-1463"><span class="linenos" data-linenos="1463 "></span></a><span class="sd">            - &quot;translation&quot;: Translation vector of size (3,) and type float64.</span>
<a id="__codelineno-0-1464" name="__codelineno-0-1464"></a><a href="#__codelineno-0-1464"><span class="linenos" data-linenos="1464 "></span></a><span class="sd">            - Any optional keys containing metadata.</span>
<a id="__codelineno-0-1465" name="__codelineno-0-1465"></a><a href="#__codelineno-0-1465"><span class="linenos" data-linenos="1465 "></span></a>
<a id="__codelineno-0-1466" name="__codelineno-0-1466"></a><a href="#__codelineno-0-1466"><span class="linenos" data-linenos="1466 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1467" name="__codelineno-0-1467"></a><a href="#__codelineno-0-1467"><span class="linenos" data-linenos="1467 "></span></a>    <span class="c1"># Handle optional attributes</span>
<a id="__codelineno-0-1468" name="__codelineno-0-1468"></a><a href="#__codelineno-0-1468"><span class="linenos" data-linenos="1468 "></span></a>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">camera</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">camera</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-1469" name="__codelineno-0-1469"></a><a href="#__codelineno-0-1469"><span class="linenos" data-linenos="1469 "></span></a>    <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">camera</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">list</span><span class="p">(</span><span class="n">camera</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<a id="__codelineno-0-1470" name="__codelineno-0-1470"></a><a href="#__codelineno-0-1470"><span class="linenos" data-linenos="1470 "></span></a>
<a id="__codelineno-0-1471" name="__codelineno-0-1471"></a><a href="#__codelineno-0-1471"><span class="linenos" data-linenos="1471 "></span></a>    <span class="n">camera_dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1472" name="__codelineno-0-1472"></a><a href="#__codelineno-0-1472"><span class="linenos" data-linenos="1472 "></span></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-1473" name="__codelineno-0-1473"></a><a href="#__codelineno-0-1473"><span class="linenos" data-linenos="1473 "></span></a>        <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">size</span><span class="p">,</span>
<a id="__codelineno-0-1474" name="__codelineno-0-1474"></a><a href="#__codelineno-0-1474"><span class="linenos" data-linenos="1474 "></span></a>        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="n">camera</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
<a id="__codelineno-0-1475" name="__codelineno-0-1475"></a><a href="#__codelineno-0-1475"><span class="linenos" data-linenos="1475 "></span></a>        <span class="s2">&quot;distortions&quot;</span><span class="p">:</span> <span class="n">camera</span><span class="o">.</span><span class="n">dist</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
<a id="__codelineno-0-1476" name="__codelineno-0-1476"></a><a href="#__codelineno-0-1476"><span class="linenos" data-linenos="1476 "></span></a>        <span class="s2">&quot;rotation&quot;</span><span class="p">:</span> <span class="n">camera</span><span class="o">.</span><span class="n">rvec</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
<a id="__codelineno-0-1477" name="__codelineno-0-1477"></a><a href="#__codelineno-0-1477"><span class="linenos" data-linenos="1477 "></span></a>        <span class="s2">&quot;translation&quot;</span><span class="p">:</span> <span class="n">camera</span><span class="o">.</span><span class="n">tvec</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
<a id="__codelineno-0-1478" name="__codelineno-0-1478"></a><a href="#__codelineno-0-1478"><span class="linenos" data-linenos="1478 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-1479" name="__codelineno-0-1479"></a><a href="#__codelineno-0-1479"><span class="linenos" data-linenos="1479 "></span></a>    <span class="n">camera_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">camera</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<a id="__codelineno-0-1480" name="__codelineno-0-1480"></a><a href="#__codelineno-0-1480"><span class="linenos" data-linenos="1480 "></span></a>
<a id="__codelineno-0-1481" name="__codelineno-0-1481"></a><a href="#__codelineno-0-1481"><span class="linenos" data-linenos="1481 "></span></a>    <span class="k">return</span> <span class="n">camera_dict</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.embed_frames" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">embed_frames</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">embed</span><span class="p">,</span> <span class="n">image_format</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.embed_frames" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Embed frames in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Labels&lt;/code&gt;" href="../../../../model/#sleap_io.Labels">Labels</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Labels</code> object to embed in the labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>embed</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of tuples of <code>(video, frame_idx)</code> specifying the frames to embed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_format</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image format to use for embedding. Valid formats are "png"
(the default), "jpg" or "hdf5".</p>
              </div>
            </td>
            <td>
                  <code>&#39;png&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>This function will embed the frames in the labels file and update the <code>Videos</code>
and <code>Labels</code> objects in place.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-353" name="__codelineno-0-353"></a><a href="#__codelineno-0-353"><span class="linenos" data-linenos="353 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">embed_frames</span><span class="p">(</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><a href="#__codelineno-0-354"><span class="linenos" data-linenos="354 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><a href="#__codelineno-0-355"><span class="linenos" data-linenos="355 "></span></a>    <span class="n">labels</span><span class="p">:</span> <span class="n">Labels</span><span class="p">,</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><a href="#__codelineno-0-356"><span class="linenos" data-linenos="356 "></span></a>    <span class="n">embed</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Video</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><a href="#__codelineno-0-357"><span class="linenos" data-linenos="357 "></span></a>    <span class="n">image_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><a href="#__codelineno-0-358"><span class="linenos" data-linenos="358 "></span></a><span class="p">):</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><a href="#__codelineno-0-359"><span class="linenos" data-linenos="359 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Embed frames in a SLEAP labels file.</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a><a href="#__codelineno-0-360"><span class="linenos" data-linenos="360 "></span></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><a href="#__codelineno-0-361"><span class="linenos" data-linenos="361 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><a href="#__codelineno-0-362"><span class="linenos" data-linenos="362 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><a href="#__codelineno-0-363"><span class="linenos" data-linenos="363 "></span></a><span class="sd">        labels: A `Labels` object to embed in the labels file.</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><a href="#__codelineno-0-364"><span class="linenos" data-linenos="364 "></span></a><span class="sd">        embed: A list of tuples of `(video, frame_idx)` specifying the frames to embed.</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><a href="#__codelineno-0-365"><span class="linenos" data-linenos="365 "></span></a><span class="sd">        image_format: The image format to use for embedding. Valid formats are &quot;png&quot;</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><a href="#__codelineno-0-366"><span class="linenos" data-linenos="366 "></span></a><span class="sd">            (the default), &quot;jpg&quot; or &quot;hdf5&quot;.</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a><a href="#__codelineno-0-367"><span class="linenos" data-linenos="367 "></span></a>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><a href="#__codelineno-0-368"><span class="linenos" data-linenos="368 "></span></a><span class="sd">    Notes:</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><a href="#__codelineno-0-369"><span class="linenos" data-linenos="369 "></span></a><span class="sd">        This function will embed the frames in the labels file and update the `Videos`</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><a href="#__codelineno-0-370"><span class="linenos" data-linenos="370 "></span></a><span class="sd">        and `Labels` objects in place.</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><a href="#__codelineno-0-371"><span class="linenos" data-linenos="371 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a><a href="#__codelineno-0-372"><span class="linenos" data-linenos="372 "></span></a>    <span class="n">to_embed_by_video</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a><a href="#__codelineno-0-373"><span class="linenos" data-linenos="373 "></span></a>    <span class="k">for</span> <span class="n">video</span><span class="p">,</span> <span class="n">frame_idx</span> <span class="ow">in</span> <span class="n">embed</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><a href="#__codelineno-0-374"><span class="linenos" data-linenos="374 "></span></a>        <span class="k">if</span> <span class="n">video</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_embed_by_video</span><span class="p">:</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><a href="#__codelineno-0-375"><span class="linenos" data-linenos="375 "></span></a>            <span class="n">to_embed_by_video</span><span class="p">[</span><span class="n">video</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><a href="#__codelineno-0-376"><span class="linenos" data-linenos="376 "></span></a>        <span class="n">to_embed_by_video</span><span class="p">[</span><span class="n">video</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_idx</span><span class="p">)</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><a href="#__codelineno-0-377"><span class="linenos" data-linenos="377 "></span></a>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><a href="#__codelineno-0-378"><span class="linenos" data-linenos="378 "></span></a>    <span class="k">for</span> <span class="n">video</span> <span class="ow">in</span> <span class="n">to_embed_by_video</span><span class="p">:</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><a href="#__codelineno-0-379"><span class="linenos" data-linenos="379 "></span></a>        <span class="n">to_embed_by_video</span><span class="p">[</span><span class="n">video</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">to_embed_by_video</span><span class="p">[</span><span class="n">video</span><span class="p">])</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><a href="#__codelineno-0-380"><span class="linenos" data-linenos="380 "></span></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a><a href="#__codelineno-0-381"><span class="linenos" data-linenos="381 "></span></a>    <span class="n">replaced_videos</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a><a href="#__codelineno-0-382"><span class="linenos" data-linenos="382 "></span></a>    <span class="k">for</span> <span class="n">video</span><span class="p">,</span> <span class="n">frame_inds</span> <span class="ow">in</span> <span class="n">to_embed_by_video</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><a href="#__codelineno-0-383"><span class="linenos" data-linenos="383 "></span></a>        <span class="n">video_ind</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">video</span><span class="p">)</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><a href="#__codelineno-0-384"><span class="linenos" data-linenos="384 "></span></a>        <span class="n">embedded_video</span> <span class="o">=</span> <span class="n">embed_video</span><span class="p">(</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><a href="#__codelineno-0-385"><span class="linenos" data-linenos="385 "></span></a>            <span class="n">labels_path</span><span class="p">,</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><a href="#__codelineno-0-386"><span class="linenos" data-linenos="386 "></span></a>            <span class="n">video</span><span class="p">,</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a><a href="#__codelineno-0-387"><span class="linenos" data-linenos="387 "></span></a>            <span class="n">group</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;video</span><span class="si">{</span><span class="n">video_ind</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><a href="#__codelineno-0-388"><span class="linenos" data-linenos="388 "></span></a>            <span class="n">frame_inds</span><span class="o">=</span><span class="n">frame_inds</span><span class="p">,</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><a href="#__codelineno-0-389"><span class="linenos" data-linenos="389 "></span></a>            <span class="n">image_format</span><span class="o">=</span><span class="n">image_format</span><span class="p">,</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a><a href="#__codelineno-0-390"><span class="linenos" data-linenos="390 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><a href="#__codelineno-0-391"><span class="linenos" data-linenos="391 "></span></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><a href="#__codelineno-0-392"><span class="linenos" data-linenos="392 "></span></a>        <span class="n">labels</span><span class="o">.</span><span class="n">videos</span><span class="p">[</span><span class="n">video_ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">embedded_video</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a><a href="#__codelineno-0-393"><span class="linenos" data-linenos="393 "></span></a>        <span class="n">replaced_videos</span><span class="p">[</span><span class="n">video</span><span class="p">]</span> <span class="o">=</span> <span class="n">embedded_video</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><a href="#__codelineno-0-394"><span class="linenos" data-linenos="394 "></span></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><a href="#__codelineno-0-395"><span class="linenos" data-linenos="395 "></span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">replaced_videos</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a><a href="#__codelineno-0-396"><span class="linenos" data-linenos="396 "></span></a>        <span class="n">labels</span><span class="o">.</span><span class="n">replace_videos</span><span class="p">(</span><span class="n">video_map</span><span class="o">=</span><span class="n">replaced_videos</span><span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.embed_video" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">embed_video</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">video</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">frame_inds</span><span class="p">,</span> <span class="n">image_format</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="n">fixed_length</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.embed_video" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Embed frames of a video in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>video</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Video</code> object to embed in the labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the group to store the embedded video in. Image data will be
stored in a dataset named <code>{group}/video</code>. Frame indices will be stored
in a data set named <code>{group}/frame_numbers</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>frame_inds</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of frame indices to embed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>image_format</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image format to use for embedding. Valid formats are "png"
(the default), "jpg" or "hdf5".</p>
              </div>
            </td>
            <td>
                  <code>&#39;png&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fixed_length</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code> (the default), the embedded images will be padded to the
length of the largest image. If <code>False</code>, the images will be stored as
variable length, which is smaller but may not be supported by all readers.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An embedded <code>Video</code> object.</p>
<p>If the video is already embedded, the original video will be returned. If not,
a new <code>Video</code> object will be created with the embedded data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-234" name="__codelineno-0-234"></a><a href="#__codelineno-0-234"><span class="linenos" data-linenos="234 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">embed_video</span><span class="p">(</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a><a href="#__codelineno-0-235"><span class="linenos" data-linenos="235 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><a href="#__codelineno-0-236"><span class="linenos" data-linenos="236 "></span></a>    <span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><a href="#__codelineno-0-237"><span class="linenos" data-linenos="237 "></span></a>    <span class="n">group</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><a href="#__codelineno-0-238"><span class="linenos" data-linenos="238 "></span></a>    <span class="n">frame_inds</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><a href="#__codelineno-0-239"><span class="linenos" data-linenos="239 "></span></a>    <span class="n">image_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a><a href="#__codelineno-0-240"><span class="linenos" data-linenos="240 "></span></a>    <span class="n">fixed_length</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><a href="#__codelineno-0-241"><span class="linenos" data-linenos="241 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Video</span><span class="p">:</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><a href="#__codelineno-0-242"><span class="linenos" data-linenos="242 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Embed frames of a video in a SLEAP labels file.</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><a href="#__codelineno-0-243"><span class="linenos" data-linenos="243 "></span></a>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><a href="#__codelineno-0-244"><span class="linenos" data-linenos="244 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><a href="#__codelineno-0-245"><span class="linenos" data-linenos="245 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><a href="#__codelineno-0-246"><span class="linenos" data-linenos="246 "></span></a><span class="sd">        video: A `Video` object to embed in the labels file.</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><a href="#__codelineno-0-247"><span class="linenos" data-linenos="247 "></span></a><span class="sd">        group: The name of the group to store the embedded video in. Image data will be</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><a href="#__codelineno-0-248"><span class="linenos" data-linenos="248 "></span></a><span class="sd">            stored in a dataset named `{group}/video`. Frame indices will be stored</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><a href="#__codelineno-0-249"><span class="linenos" data-linenos="249 "></span></a><span class="sd">            in a data set named `{group}/frame_numbers`.</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><a href="#__codelineno-0-250"><span class="linenos" data-linenos="250 "></span></a><span class="sd">        frame_inds: A list of frame indices to embed.</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><a href="#__codelineno-0-251"><span class="linenos" data-linenos="251 "></span></a><span class="sd">        image_format: The image format to use for embedding. Valid formats are &quot;png&quot;</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><a href="#__codelineno-0-252"><span class="linenos" data-linenos="252 "></span></a><span class="sd">            (the default), &quot;jpg&quot; or &quot;hdf5&quot;.</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><a href="#__codelineno-0-253"><span class="linenos" data-linenos="253 "></span></a><span class="sd">        fixed_length: If `True` (the default), the embedded images will be padded to the</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><a href="#__codelineno-0-254"><span class="linenos" data-linenos="254 "></span></a><span class="sd">            length of the largest image. If `False`, the images will be stored as</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a><a href="#__codelineno-0-255"><span class="linenos" data-linenos="255 "></span></a><span class="sd">            variable length, which is smaller but may not be supported by all readers.</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><a href="#__codelineno-0-256"><span class="linenos" data-linenos="256 "></span></a>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><a href="#__codelineno-0-257"><span class="linenos" data-linenos="257 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a><a href="#__codelineno-0-258"><span class="linenos" data-linenos="258 "></span></a><span class="sd">        An embedded `Video` object.</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a><a href="#__codelineno-0-259"><span class="linenos" data-linenos="259 "></span></a>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><a href="#__codelineno-0-260"><span class="linenos" data-linenos="260 "></span></a><span class="sd">        If the video is already embedded, the original video will be returned. If not,</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><a href="#__codelineno-0-261"><span class="linenos" data-linenos="261 "></span></a><span class="sd">        a new `Video` object will be created with the embedded data.</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><a href="#__codelineno-0-262"><span class="linenos" data-linenos="262 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><a href="#__codelineno-0-263"><span class="linenos" data-linenos="263 "></span></a>    <span class="c1"># Load the image data and optionally encode it.</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><a href="#__codelineno-0-264"><span class="linenos" data-linenos="264 "></span></a>    <span class="n">imgs_data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><a href="#__codelineno-0-265"><span class="linenos" data-linenos="265 "></span></a>    <span class="k">for</span> <span class="n">frame_idx</span> <span class="ow">in</span> <span class="n">frame_inds</span><span class="p">:</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><a href="#__codelineno-0-266"><span class="linenos" data-linenos="266 "></span></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">video</span><span class="p">[</span><span class="n">frame_idx</span><span class="p">]</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><a href="#__codelineno-0-267"><span class="linenos" data-linenos="267 "></span></a>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><a href="#__codelineno-0-268"><span class="linenos" data-linenos="268 "></span></a>        <span class="k">if</span> <span class="n">image_format</span> <span class="o">==</span> <span class="s2">&quot;hdf5&quot;</span><span class="p">:</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><a href="#__codelineno-0-269"><span class="linenos" data-linenos="269 "></span></a>            <span class="n">img_data</span> <span class="o">=</span> <span class="n">frame</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><a href="#__codelineno-0-270"><span class="linenos" data-linenos="270 "></span></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><a href="#__codelineno-0-271"><span class="linenos" data-linenos="271 "></span></a>            <span class="k">if</span> <span class="s2">&quot;cv2&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><a href="#__codelineno-0-272"><span class="linenos" data-linenos="272 "></span></a>                <span class="n">img_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><a href="#__codelineno-0-273"><span class="linenos" data-linenos="273 "></span></a>                    <span class="n">cv2</span><span class="o">.</span><span class="n">imencode</span><span class="p">(</span><span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">frame</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><a href="#__codelineno-0-274"><span class="linenos" data-linenos="274 "></span></a>                <span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int8&quot;</span><span class="p">)</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a><a href="#__codelineno-0-275"><span class="linenos" data-linenos="275 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><a href="#__codelineno-0-276"><span class="linenos" data-linenos="276 "></span></a>                <span class="k">if</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><a href="#__codelineno-0-277"><span class="linenos" data-linenos="277 "></span></a>                    <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><a href="#__codelineno-0-278"><span class="linenos" data-linenos="278 "></span></a>                <span class="n">img_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><a href="#__codelineno-0-279"><span class="linenos" data-linenos="279 "></span></a>                    <span class="n">iio</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;&lt;bytes&gt;&quot;</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">image_format</span><span class="p">),</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><a href="#__codelineno-0-280"><span class="linenos" data-linenos="280 "></span></a>                    <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;int8&quot;</span><span class="p">,</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><a href="#__codelineno-0-281"><span class="linenos" data-linenos="281 "></span></a>                <span class="p">)</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><a href="#__codelineno-0-282"><span class="linenos" data-linenos="282 "></span></a>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><a href="#__codelineno-0-283"><span class="linenos" data-linenos="283 "></span></a>        <span class="n">imgs_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">img_data</span><span class="p">)</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><a href="#__codelineno-0-284"><span class="linenos" data-linenos="284 "></span></a>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><a href="#__codelineno-0-285"><span class="linenos" data-linenos="285 "></span></a>    <span class="c1"># Write the image data to the labels file.</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><a href="#__codelineno-0-286"><span class="linenos" data-linenos="286 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><a href="#__codelineno-0-287"><span class="linenos" data-linenos="287 "></span></a>        <span class="k">if</span> <span class="n">image_format</span> <span class="o">==</span> <span class="s2">&quot;hdf5&quot;</span><span class="p">:</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a><a href="#__codelineno-0-288"><span class="linenos" data-linenos="288 "></span></a>            <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><a href="#__codelineno-0-289"><span class="linenos" data-linenos="289 "></span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">/video&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">imgs_data</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s2">&quot;gzip&quot;</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><a href="#__codelineno-0-290"><span class="linenos" data-linenos="290 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><a href="#__codelineno-0-291"><span class="linenos" data-linenos="291 "></span></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><a href="#__codelineno-0-292"><span class="linenos" data-linenos="292 "></span></a>            <span class="k">if</span> <span class="n">fixed_length</span><span class="p">:</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a><a href="#__codelineno-0-293"><span class="linenos" data-linenos="293 "></span></a>                <span class="n">img_bytes_len</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a><a href="#__codelineno-0-294"><span class="linenos" data-linenos="294 "></span></a>                <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">imgs_data</span><span class="p">:</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a><a href="#__codelineno-0-295"><span class="linenos" data-linenos="295 "></span></a>                    <span class="n">img_bytes_len</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">img_bytes_len</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">img</span><span class="p">))</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a><a href="#__codelineno-0-296"><span class="linenos" data-linenos="296 "></span></a>                <span class="n">ds</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a><a href="#__codelineno-0-297"><span class="linenos" data-linenos="297 "></span></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">/video&quot;</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a><a href="#__codelineno-0-298"><span class="linenos" data-linenos="298 "></span></a>                    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">imgs_data</span><span class="p">),</span> <span class="n">img_bytes_len</span><span class="p">),</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><a href="#__codelineno-0-299"><span class="linenos" data-linenos="299 "></span></a>                    <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;int8&quot;</span><span class="p">,</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a><a href="#__codelineno-0-300"><span class="linenos" data-linenos="300 "></span></a>                    <span class="n">compression</span><span class="o">=</span><span class="s2">&quot;gzip&quot;</span><span class="p">,</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a><a href="#__codelineno-0-301"><span class="linenos" data-linenos="301 "></span></a>                <span class="p">)</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a><a href="#__codelineno-0-302"><span class="linenos" data-linenos="302 "></span></a>                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">imgs_data</span><span class="p">):</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><a href="#__codelineno-0-303"><span class="linenos" data-linenos="303 "></span></a>                    <span class="n">ds</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">img</span><span class="p">)]</span> <span class="o">=</span> <span class="n">img</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><a href="#__codelineno-0-304"><span class="linenos" data-linenos="304 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><a href="#__codelineno-0-305"><span class="linenos" data-linenos="305 "></span></a>                <span class="n">ds</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a><a href="#__codelineno-0-306"><span class="linenos" data-linenos="306 "></span></a>                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">/video&quot;</span><span class="p">,</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><a href="#__codelineno-0-307"><span class="linenos" data-linenos="307 "></span></a>                    <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">imgs_data</span><span class="p">),),</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><a href="#__codelineno-0-308"><span class="linenos" data-linenos="308 "></span></a>                    <span class="n">dtype</span><span class="o">=</span><span class="n">h5py</span><span class="o">.</span><span class="n">special_dtype</span><span class="p">(</span><span class="n">vlen</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="s2">&quot;int8&quot;</span><span class="p">)),</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><a href="#__codelineno-0-309"><span class="linenos" data-linenos="309 "></span></a>                <span class="p">)</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><a href="#__codelineno-0-310"><span class="linenos" data-linenos="310 "></span></a>                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">imgs_data</span><span class="p">):</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><a href="#__codelineno-0-311"><span class="linenos" data-linenos="311 "></span></a>                    <span class="n">ds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">img</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><a href="#__codelineno-0-312"><span class="linenos" data-linenos="312 "></span></a>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><a href="#__codelineno-0-313"><span class="linenos" data-linenos="313 "></span></a>        <span class="c1"># Store metadata.</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><a href="#__codelineno-0-314"><span class="linenos" data-linenos="314 "></span></a>        <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_format</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><a href="#__codelineno-0-315"><span class="linenos" data-linenos="315 "></span></a>        <span class="n">video_shape</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">shape</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><a href="#__codelineno-0-316"><span class="linenos" data-linenos="316 "></span></a>        <span class="p">(</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><a href="#__codelineno-0-317"><span class="linenos" data-linenos="317 "></span></a>            <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;frames&quot;</span><span class="p">],</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><a href="#__codelineno-0-318"><span class="linenos" data-linenos="318 "></span></a>            <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">],</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><a href="#__codelineno-0-319"><span class="linenos" data-linenos="319 "></span></a>            <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">],</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><a href="#__codelineno-0-320"><span class="linenos" data-linenos="320 "></span></a>            <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;channels&quot;</span><span class="p">],</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><a href="#__codelineno-0-321"><span class="linenos" data-linenos="321 "></span></a>        <span class="p">)</span> <span class="o">=</span> <span class="n">video_shape</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><a href="#__codelineno-0-322"><span class="linenos" data-linenos="322 "></span></a>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><a href="#__codelineno-0-323"><span class="linenos" data-linenos="323 "></span></a>        <span class="c1"># Store frame indices.</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><a href="#__codelineno-0-324"><span class="linenos" data-linenos="324 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">/frame_numbers&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">frame_inds</span><span class="p">)</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><a href="#__codelineno-0-325"><span class="linenos" data-linenos="325 "></span></a>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><a href="#__codelineno-0-326"><span class="linenos" data-linenos="326 "></span></a>        <span class="c1"># Store source video.</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><a href="#__codelineno-0-327"><span class="linenos" data-linenos="327 "></span></a>        <span class="k">if</span> <span class="n">video</span><span class="o">.</span><span class="n">source_video</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><a href="#__codelineno-0-328"><span class="linenos" data-linenos="328 "></span></a>            <span class="c1"># If this is already an embedded dataset, retain the previous source video.</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><a href="#__codelineno-0-329"><span class="linenos" data-linenos="329 "></span></a>            <span class="n">source_video</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">source_video</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><a href="#__codelineno-0-330"><span class="linenos" data-linenos="330 "></span></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><a href="#__codelineno-0-331"><span class="linenos" data-linenos="331 "></span></a>            <span class="n">source_video</span> <span class="o">=</span> <span class="n">video</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a><a href="#__codelineno-0-332"><span class="linenos" data-linenos="332 "></span></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><a href="#__codelineno-0-333"><span class="linenos" data-linenos="333 "></span></a>        <span class="c1"># Create a new video object with the embedded data.</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><a href="#__codelineno-0-334"><span class="linenos" data-linenos="334 "></span></a>        <span class="n">embedded_video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><a href="#__codelineno-0-335"><span class="linenos" data-linenos="335 "></span></a>            <span class="n">filename</span><span class="o">=</span><span class="n">labels_path</span><span class="p">,</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><a href="#__codelineno-0-336"><span class="linenos" data-linenos="336 "></span></a>            <span class="n">backend</span><span class="o">=</span><span class="n">VideoBackend</span><span class="o">.</span><span class="n">from_filename</span><span class="p">(</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><a href="#__codelineno-0-337"><span class="linenos" data-linenos="337 "></span></a>                <span class="n">labels_path</span><span class="p">,</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><a href="#__codelineno-0-338"><span class="linenos" data-linenos="338 "></span></a>                <span class="n">dataset</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">/video&quot;</span><span class="p">,</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><a href="#__codelineno-0-339"><span class="linenos" data-linenos="339 "></span></a>                <span class="n">grayscale</span><span class="o">=</span><span class="n">video</span><span class="o">.</span><span class="n">grayscale</span><span class="p">,</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><a href="#__codelineno-0-340"><span class="linenos" data-linenos="340 "></span></a>                <span class="n">keep_open</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><a href="#__codelineno-0-341"><span class="linenos" data-linenos="341 "></span></a>            <span class="p">),</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><a href="#__codelineno-0-342"><span class="linenos" data-linenos="342 "></span></a>            <span class="n">source_video</span><span class="o">=</span><span class="n">source_video</span><span class="p">,</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><a href="#__codelineno-0-343"><span class="linenos" data-linenos="343 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><a href="#__codelineno-0-344"><span class="linenos" data-linenos="344 "></span></a>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><a href="#__codelineno-0-345"><span class="linenos" data-linenos="345 "></span></a>        <span class="n">grp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">require_group</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">/source_video&quot;</span><span class="p">)</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><a href="#__codelineno-0-346"><span class="linenos" data-linenos="346 "></span></a>        <span class="n">grp</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><a href="#__codelineno-0-347"><span class="linenos" data-linenos="347 "></span></a>            <span class="n">video_to_dict</span><span class="p">(</span><span class="n">source_video</span><span class="p">),</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><a href="#__codelineno-0-348"><span class="linenos" data-linenos="348 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><a href="#__codelineno-0-349"><span class="linenos" data-linenos="349 "></span></a>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><a href="#__codelineno-0-350"><span class="linenos" data-linenos="350 "></span></a>    <span class="k">return</span> <span class="n">embedded_video</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.embed_videos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">embed_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">embed</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.embed_videos" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Embed videos in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file to save.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Labels&lt;/code&gt;" href="../../../../model/#sleap_io.Labels">Labels</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Labels</code> object to save.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>embed</code>
            </td>
            <td>
                  <code><span title="bool">bool</span> | <span title="str">str</span> | <span title="list">list</span>[<span title="tuple">tuple</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frames to embed in the saved labels file. One of <code>None</code>, <code>True</code>,
<code>"all"</code>, <code>"user"</code>, <code>"suggestions"</code>, <code>"user+suggestions"</code>, <code>"source"</code> or list
of tuples of <code>(video, frame_idx)</code>.</p>
<p>If <code>None</code> is specified (the default) and the labels contains embedded
frames, those embedded frames will be re-saved to the new file.</p>
<p>If <code>True</code> or <code>"all"</code>, all labeled frames and suggested frames will be
embedded.</p>
<p>If <code>"source"</code> is specified, no images will be embedded and the source video
will be restored if available.</p>
<p>This argument is only valid for the SLP backend.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-399" name="__codelineno-0-399"></a><a href="#__codelineno-0-399"><span class="linenos" data-linenos="399 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">embed_videos</span><span class="p">(</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a><a href="#__codelineno-0-400"><span class="linenos" data-linenos="400 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">Labels</span><span class="p">,</span> <span class="n">embed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Video</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a><a href="#__codelineno-0-401"><span class="linenos" data-linenos="401 "></span></a><span class="p">):</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><a href="#__codelineno-0-402"><span class="linenos" data-linenos="402 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Embed videos in a SLEAP labels file.</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a><a href="#__codelineno-0-403"><span class="linenos" data-linenos="403 "></span></a>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a><a href="#__codelineno-0-404"><span class="linenos" data-linenos="404 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a><a href="#__codelineno-0-405"><span class="linenos" data-linenos="405 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file to save.</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a><a href="#__codelineno-0-406"><span class="linenos" data-linenos="406 "></span></a><span class="sd">        labels: A `Labels` object to save.</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a><a href="#__codelineno-0-407"><span class="linenos" data-linenos="407 "></span></a><span class="sd">        embed: Frames to embed in the saved labels file. One of `None`, `True`,</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a><a href="#__codelineno-0-408"><span class="linenos" data-linenos="408 "></span></a><span class="sd">            `&quot;all&quot;`, `&quot;user&quot;`, `&quot;suggestions&quot;`, `&quot;user+suggestions&quot;`, `&quot;source&quot;` or list</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a><a href="#__codelineno-0-409"><span class="linenos" data-linenos="409 "></span></a><span class="sd">            of tuples of `(video, frame_idx)`.</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a><a href="#__codelineno-0-410"><span class="linenos" data-linenos="410 "></span></a>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a><a href="#__codelineno-0-411"><span class="linenos" data-linenos="411 "></span></a><span class="sd">            If `None` is specified (the default) and the labels contains embedded</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a><a href="#__codelineno-0-412"><span class="linenos" data-linenos="412 "></span></a><span class="sd">            frames, those embedded frames will be re-saved to the new file.</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a><a href="#__codelineno-0-413"><span class="linenos" data-linenos="413 "></span></a>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a><a href="#__codelineno-0-414"><span class="linenos" data-linenos="414 "></span></a><span class="sd">            If `True` or `&quot;all&quot;`, all labeled frames and suggested frames will be</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a><a href="#__codelineno-0-415"><span class="linenos" data-linenos="415 "></span></a><span class="sd">            embedded.</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a><a href="#__codelineno-0-416"><span class="linenos" data-linenos="416 "></span></a>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a><a href="#__codelineno-0-417"><span class="linenos" data-linenos="417 "></span></a><span class="sd">            If `&quot;source&quot;` is specified, no images will be embedded and the source video</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><a href="#__codelineno-0-418"><span class="linenos" data-linenos="418 "></span></a><span class="sd">            will be restored if available.</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a><a href="#__codelineno-0-419"><span class="linenos" data-linenos="419 "></span></a>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a><a href="#__codelineno-0-420"><span class="linenos" data-linenos="420 "></span></a><span class="sd">            This argument is only valid for the SLP backend.</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a><a href="#__codelineno-0-421"><span class="linenos" data-linenos="421 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a><a href="#__codelineno-0-422"><span class="linenos" data-linenos="422 "></span></a>    <span class="k">if</span> <span class="n">embed</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a><a href="#__codelineno-0-423"><span class="linenos" data-linenos="423 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a><a href="#__codelineno-0-424"><span class="linenos" data-linenos="424 "></span></a>    <span class="k">if</span> <span class="n">embed</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a><a href="#__codelineno-0-425"><span class="linenos" data-linenos="425 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="p">[(</span><span class="n">lf</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">lf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">lf</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">user_labeled_frames</span><span class="p">]</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a><a href="#__codelineno-0-426"><span class="linenos" data-linenos="426 "></span></a>    <span class="k">elif</span> <span class="n">embed</span> <span class="o">==</span> <span class="s2">&quot;suggestions&quot;</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a><a href="#__codelineno-0-427"><span class="linenos" data-linenos="427 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="p">[(</span><span class="n">sf</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">sf</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">suggestions</span><span class="p">]</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a><a href="#__codelineno-0-428"><span class="linenos" data-linenos="428 "></span></a>    <span class="k">elif</span> <span class="n">embed</span> <span class="o">==</span> <span class="s2">&quot;user+suggestions&quot;</span><span class="p">:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a><a href="#__codelineno-0-429"><span class="linenos" data-linenos="429 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="p">[(</span><span class="n">lf</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">lf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">lf</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">user_labeled_frames</span><span class="p">]</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a><a href="#__codelineno-0-430"><span class="linenos" data-linenos="430 "></span></a>        <span class="n">embed</span> <span class="o">+=</span> <span class="p">[(</span><span class="n">sf</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">sf</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">suggestions</span><span class="p">]</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a><a href="#__codelineno-0-431"><span class="linenos" data-linenos="431 "></span></a>    <span class="k">elif</span> <span class="n">embed</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a><a href="#__codelineno-0-432"><span class="linenos" data-linenos="432 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="p">[(</span><span class="n">lf</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">lf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">lf</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a><a href="#__codelineno-0-433"><span class="linenos" data-linenos="433 "></span></a>        <span class="n">embed</span> <span class="o">+=</span> <span class="p">[(</span><span class="n">sf</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">)</span> <span class="k">for</span> <span class="n">sf</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">suggestions</span><span class="p">]</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a><a href="#__codelineno-0-434"><span class="linenos" data-linenos="434 "></span></a>    <span class="k">elif</span> <span class="n">embed</span> <span class="o">==</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a><a href="#__codelineno-0-435"><span class="linenos" data-linenos="435 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a><a href="#__codelineno-0-436"><span class="linenos" data-linenos="436 "></span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">embed</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a><a href="#__codelineno-0-437"><span class="linenos" data-linenos="437 "></span></a>        <span class="n">embed</span> <span class="o">=</span> <span class="n">embed</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a><a href="#__codelineno-0-438"><span class="linenos" data-linenos="438 "></span></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a><a href="#__codelineno-0-439"><span class="linenos" data-linenos="439 "></span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid value for embed: </span><span class="si">{</span><span class="n">embed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><a href="#__codelineno-0-440"><span class="linenos" data-linenos="440 "></span></a>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a><a href="#__codelineno-0-441"><span class="linenos" data-linenos="441 "></span></a>    <span class="n">embed_frames</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">embed</span><span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.frame_group_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">frame_group_to_dict</span><span class="p">(</span><span class="n">frame_group</span><span class="p">,</span> <span class="n">labeled_frame_to_idx</span><span class="p">,</span> <span class="n">camera_group</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.frame_group_to_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert <code>frame_group</code> to a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;FrameGroup&lt;/code&gt; (&lt;code&gt;sleap_io.FrameGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.FrameGroup">FrameGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>FrameGroup</code> object to convert to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frame_to_idx</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.LabeledFrame&lt;/code&gt;" href="../../../../model/#sleap_io.LabeledFrame">LabeledFrame</a>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of <code>LabeledFrame</code> to index in
<code>Labels.labeled_frames</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>camera_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;CameraGroup&lt;/code&gt; (&lt;code&gt;sleap_io.CameraGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.CameraGroup">CameraGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>CameraGroup</code> object that determines the order of the <code>Camera</code>
objects when converting to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of the <code>FrameGroup</code> with keys:
    - "instance_groups": List of dictionaries for each <code>InstanceGroup</code> in the
        <code>FrameGroup</code>. See <code>instance_group_to_dict</code> for what each dictionary
        contains.
    - "frame_idx": Frame index for the <code>FrameGroup</code>.
    - Any optional keys containing metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1401" name="__codelineno-0-1401"></a><a href="#__codelineno-0-1401"><span class="linenos" data-linenos="1401 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">frame_group_to_dict</span><span class="p">(</span>
<a id="__codelineno-0-1402" name="__codelineno-0-1402"></a><a href="#__codelineno-0-1402"><span class="linenos" data-linenos="1402 "></span></a>    <span class="n">frame_group</span><span class="p">:</span> <span class="n">FrameGroup</span><span class="p">,</span>
<a id="__codelineno-0-1403" name="__codelineno-0-1403"></a><a href="#__codelineno-0-1403"><span class="linenos" data-linenos="1403 "></span></a>    <span class="n">labeled_frame_to_idx</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-1404" name="__codelineno-0-1404"></a><a href="#__codelineno-0-1404"><span class="linenos" data-linenos="1404 "></span></a>    <span class="n">camera_group</span><span class="p">:</span> <span class="n">CameraGroup</span><span class="p">,</span>
<a id="__codelineno-0-1405" name="__codelineno-0-1405"></a><a href="#__codelineno-0-1405"><span class="linenos" data-linenos="1405 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-1406" name="__codelineno-0-1406"></a><a href="#__codelineno-0-1406"><span class="linenos" data-linenos="1406 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert `frame_group` to a dictionary.</span>
<a id="__codelineno-0-1407" name="__codelineno-0-1407"></a><a href="#__codelineno-0-1407"><span class="linenos" data-linenos="1407 "></span></a>
<a id="__codelineno-0-1408" name="__codelineno-0-1408"></a><a href="#__codelineno-0-1408"><span class="linenos" data-linenos="1408 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1409" name="__codelineno-0-1409"></a><a href="#__codelineno-0-1409"><span class="linenos" data-linenos="1409 "></span></a><span class="sd">        frame_group: `FrameGroup` object to convert to a dictionary.</span>
<a id="__codelineno-0-1410" name="__codelineno-0-1410"></a><a href="#__codelineno-0-1410"><span class="linenos" data-linenos="1410 "></span></a><span class="sd">        labeled_frame_to_idx: Dictionary of `LabeledFrame` to index in</span>
<a id="__codelineno-0-1411" name="__codelineno-0-1411"></a><a href="#__codelineno-0-1411"><span class="linenos" data-linenos="1411 "></span></a><span class="sd">            `Labels.labeled_frames`.</span>
<a id="__codelineno-0-1412" name="__codelineno-0-1412"></a><a href="#__codelineno-0-1412"><span class="linenos" data-linenos="1412 "></span></a><span class="sd">        camera_group: `CameraGroup` object that determines the order of the `Camera`</span>
<a id="__codelineno-0-1413" name="__codelineno-0-1413"></a><a href="#__codelineno-0-1413"><span class="linenos" data-linenos="1413 "></span></a><span class="sd">            objects when converting to a dictionary.</span>
<a id="__codelineno-0-1414" name="__codelineno-0-1414"></a><a href="#__codelineno-0-1414"><span class="linenos" data-linenos="1414 "></span></a>
<a id="__codelineno-0-1415" name="__codelineno-0-1415"></a><a href="#__codelineno-0-1415"><span class="linenos" data-linenos="1415 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1416" name="__codelineno-0-1416"></a><a href="#__codelineno-0-1416"><span class="linenos" data-linenos="1416 "></span></a><span class="sd">        Dictionary of the `FrameGroup` with keys:</span>
<a id="__codelineno-0-1417" name="__codelineno-0-1417"></a><a href="#__codelineno-0-1417"><span class="linenos" data-linenos="1417 "></span></a><span class="sd">            - &quot;instance_groups&quot;: List of dictionaries for each `InstanceGroup` in the</span>
<a id="__codelineno-0-1418" name="__codelineno-0-1418"></a><a href="#__codelineno-0-1418"><span class="linenos" data-linenos="1418 "></span></a><span class="sd">                `FrameGroup`. See `instance_group_to_dict` for what each dictionary</span>
<a id="__codelineno-0-1419" name="__codelineno-0-1419"></a><a href="#__codelineno-0-1419"><span class="linenos" data-linenos="1419 "></span></a><span class="sd">                contains.</span>
<a id="__codelineno-0-1420" name="__codelineno-0-1420"></a><a href="#__codelineno-0-1420"><span class="linenos" data-linenos="1420 "></span></a><span class="sd">            - &quot;frame_idx&quot;: Frame index for the `FrameGroup`.</span>
<a id="__codelineno-0-1421" name="__codelineno-0-1421"></a><a href="#__codelineno-0-1421"><span class="linenos" data-linenos="1421 "></span></a><span class="sd">            - Any optional keys containing metadata.</span>
<a id="__codelineno-0-1422" name="__codelineno-0-1422"></a><a href="#__codelineno-0-1422"><span class="linenos" data-linenos="1422 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1423" name="__codelineno-0-1423"></a><a href="#__codelineno-0-1423"><span class="linenos" data-linenos="1423 "></span></a>    <span class="c1"># Create dictionary of `Instance` to `LabeledFrame` index (in</span>
<a id="__codelineno-0-1424" name="__codelineno-0-1424"></a><a href="#__codelineno-0-1424"><span class="linenos" data-linenos="1424 "></span></a>    <span class="c1"># `Labels.labeled_frames`) and `Instance` index in `LabeledFrame.instances`.</span>
<a id="__codelineno-0-1425" name="__codelineno-0-1425"></a><a href="#__codelineno-0-1425"><span class="linenos" data-linenos="1425 "></span></a>    <span class="n">instance_to_lf_and_inst_idx</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Instance</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1426" name="__codelineno-0-1426"></a><a href="#__codelineno-0-1426"><span class="linenos" data-linenos="1426 "></span></a>        <span class="n">inst</span><span class="p">:</span> <span class="p">(</span><span class="n">labeled_frame_to_idx</span><span class="p">[</span><span class="n">labeled_frame</span><span class="p">],</span> <span class="n">inst_idx</span><span class="p">)</span>
<a id="__codelineno-0-1427" name="__codelineno-0-1427"></a><a href="#__codelineno-0-1427"><span class="linenos" data-linenos="1427 "></span></a>        <span class="k">for</span> <span class="n">labeled_frame</span> <span class="ow">in</span> <span class="n">frame_group</span><span class="o">.</span><span class="n">labeled_frames</span>
<a id="__codelineno-0-1428" name="__codelineno-0-1428"></a><a href="#__codelineno-0-1428"><span class="linenos" data-linenos="1428 "></span></a>        <span class="k">for</span> <span class="n">inst_idx</span><span class="p">,</span> <span class="n">inst</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labeled_frame</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span>
<a id="__codelineno-0-1429" name="__codelineno-0-1429"></a><a href="#__codelineno-0-1429"><span class="linenos" data-linenos="1429 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-1430" name="__codelineno-0-1430"></a><a href="#__codelineno-0-1430"><span class="linenos" data-linenos="1430 "></span></a>
<a id="__codelineno-0-1431" name="__codelineno-0-1431"></a><a href="#__codelineno-0-1431"><span class="linenos" data-linenos="1431 "></span></a>    <span class="n">frame_group_dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1432" name="__codelineno-0-1432"></a><a href="#__codelineno-0-1432"><span class="linenos" data-linenos="1432 "></span></a>        <span class="s2">&quot;instance_groups&quot;</span><span class="p">:</span> <span class="p">[</span>
<a id="__codelineno-0-1433" name="__codelineno-0-1433"></a><a href="#__codelineno-0-1433"><span class="linenos" data-linenos="1433 "></span></a>            <span class="n">instance_group_to_dict</span><span class="p">(</span>
<a id="__codelineno-0-1434" name="__codelineno-0-1434"></a><a href="#__codelineno-0-1434"><span class="linenos" data-linenos="1434 "></span></a>                <span class="n">instance_group</span><span class="p">,</span>
<a id="__codelineno-0-1435" name="__codelineno-0-1435"></a><a href="#__codelineno-0-1435"><span class="linenos" data-linenos="1435 "></span></a>                <span class="n">instance_to_lf_and_inst_idx</span><span class="o">=</span><span class="n">instance_to_lf_and_inst_idx</span><span class="p">,</span>
<a id="__codelineno-0-1436" name="__codelineno-0-1436"></a><a href="#__codelineno-0-1436"><span class="linenos" data-linenos="1436 "></span></a>                <span class="n">camera_group</span><span class="o">=</span><span class="n">camera_group</span><span class="p">,</span>
<a id="__codelineno-0-1437" name="__codelineno-0-1437"></a><a href="#__codelineno-0-1437"><span class="linenos" data-linenos="1437 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-1438" name="__codelineno-0-1438"></a><a href="#__codelineno-0-1438"><span class="linenos" data-linenos="1438 "></span></a>            <span class="k">for</span> <span class="n">instance_group</span> <span class="ow">in</span> <span class="n">frame_group</span><span class="o">.</span><span class="n">instance_groups</span>
<a id="__codelineno-0-1439" name="__codelineno-0-1439"></a><a href="#__codelineno-0-1439"><span class="linenos" data-linenos="1439 "></span></a>        <span class="p">],</span>
<a id="__codelineno-0-1440" name="__codelineno-0-1440"></a><a href="#__codelineno-0-1440"><span class="linenos" data-linenos="1440 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-1441" name="__codelineno-0-1441"></a><a href="#__codelineno-0-1441"><span class="linenos" data-linenos="1441 "></span></a>    <span class="n">frame_group_dict</span><span class="p">[</span><span class="s2">&quot;frame_idx&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame_group</span><span class="o">.</span><span class="n">frame_idx</span>
<a id="__codelineno-0-1442" name="__codelineno-0-1442"></a><a href="#__codelineno-0-1442"><span class="linenos" data-linenos="1442 "></span></a>    <span class="n">frame_group_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">frame_group</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<a id="__codelineno-0-1443" name="__codelineno-0-1443"></a><a href="#__codelineno-0-1443"><span class="linenos" data-linenos="1443 "></span></a>
<a id="__codelineno-0-1444" name="__codelineno-0-1444"></a><a href="#__codelineno-0-1444"><span class="linenos" data-linenos="1444 "></span></a>    <span class="k">return</span> <span class="n">frame_group_dict</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.instance_group_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">instance_group_to_dict</span><span class="p">(</span><span class="n">instance_group</span><span class="p">,</span> <span class="n">instance_to_lf_and_inst_idx</span><span class="p">,</span> <span class="n">camera_group</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.instance_group_to_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert <code>instance_group</code> to a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instance_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;InstanceGroup&lt;/code&gt; (&lt;code&gt;sleap_io.InstanceGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.InstanceGroup">InstanceGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>InstanceGroup</code> object to convert to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>instance_to_lf_and_inst_idx</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Instance&lt;/code&gt;" href="../../../../model/#sleap_io.Instance">Instance</a>, <span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary mapping <code>Instance</code> objects to
<code>LabeledFrame</code> indices (in <code>Labels.labeled_frames</code>) and <code>Instance</code> indices
(in containing <code>LabeledFrame.instances</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>camera_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;CameraGroup&lt;/code&gt; (&lt;code&gt;sleap_io.CameraGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.CameraGroup">CameraGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>CameraGroup</code> object that determines the order of the <code>Camera</code>
objects when converting to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of the <code>InstanceGroup</code> with keys:
    - "camcorder_to_lf_and_inst_idx_map": Dictionary mapping <code>Camera</code> indices
        (in <code>InstanceGroup.camera_cluster.cameras</code>) to a tuple of <code>LabeledFrame</code>
        and <code>Instance</code> indices (from <code>instance_to_lf_and_inst_idx</code>)
    - Any optional keys containing metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1359" name="__codelineno-0-1359"></a><a href="#__codelineno-0-1359"><span class="linenos" data-linenos="1359 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">instance_group_to_dict</span><span class="p">(</span>
<a id="__codelineno-0-1360" name="__codelineno-0-1360"></a><a href="#__codelineno-0-1360"><span class="linenos" data-linenos="1360 "></span></a>    <span class="n">instance_group</span><span class="p">:</span> <span class="n">InstanceGroup</span><span class="p">,</span>
<a id="__codelineno-0-1361" name="__codelineno-0-1361"></a><a href="#__codelineno-0-1361"><span class="linenos" data-linenos="1361 "></span></a>    <span class="n">instance_to_lf_and_inst_idx</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Instance</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>
<a id="__codelineno-0-1362" name="__codelineno-0-1362"></a><a href="#__codelineno-0-1362"><span class="linenos" data-linenos="1362 "></span></a>    <span class="n">camera_group</span><span class="p">:</span> <span class="n">CameraGroup</span><span class="p">,</span>
<a id="__codelineno-0-1363" name="__codelineno-0-1363"></a><a href="#__codelineno-0-1363"><span class="linenos" data-linenos="1363 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-1364" name="__codelineno-0-1364"></a><a href="#__codelineno-0-1364"><span class="linenos" data-linenos="1364 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert `instance_group` to a dictionary.</span>
<a id="__codelineno-0-1365" name="__codelineno-0-1365"></a><a href="#__codelineno-0-1365"><span class="linenos" data-linenos="1365 "></span></a>
<a id="__codelineno-0-1366" name="__codelineno-0-1366"></a><a href="#__codelineno-0-1366"><span class="linenos" data-linenos="1366 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1367" name="__codelineno-0-1367"></a><a href="#__codelineno-0-1367"><span class="linenos" data-linenos="1367 "></span></a><span class="sd">        instance_group: `InstanceGroup` object to convert to a dictionary.</span>
<a id="__codelineno-0-1368" name="__codelineno-0-1368"></a><a href="#__codelineno-0-1368"><span class="linenos" data-linenos="1368 "></span></a><span class="sd">        instance_to_lf_and_inst_idx: Dictionary mapping `Instance` objects to</span>
<a id="__codelineno-0-1369" name="__codelineno-0-1369"></a><a href="#__codelineno-0-1369"><span class="linenos" data-linenos="1369 "></span></a><span class="sd">            `LabeledFrame` indices (in `Labels.labeled_frames`) and `Instance` indices</span>
<a id="__codelineno-0-1370" name="__codelineno-0-1370"></a><a href="#__codelineno-0-1370"><span class="linenos" data-linenos="1370 "></span></a><span class="sd">            (in containing `LabeledFrame.instances`).</span>
<a id="__codelineno-0-1371" name="__codelineno-0-1371"></a><a href="#__codelineno-0-1371"><span class="linenos" data-linenos="1371 "></span></a><span class="sd">        camera_group: `CameraGroup` object that determines the order of the `Camera`</span>
<a id="__codelineno-0-1372" name="__codelineno-0-1372"></a><a href="#__codelineno-0-1372"><span class="linenos" data-linenos="1372 "></span></a><span class="sd">            objects when converting to a dictionary.</span>
<a id="__codelineno-0-1373" name="__codelineno-0-1373"></a><a href="#__codelineno-0-1373"><span class="linenos" data-linenos="1373 "></span></a>
<a id="__codelineno-0-1374" name="__codelineno-0-1374"></a><a href="#__codelineno-0-1374"><span class="linenos" data-linenos="1374 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1375" name="__codelineno-0-1375"></a><a href="#__codelineno-0-1375"><span class="linenos" data-linenos="1375 "></span></a><span class="sd">        Dictionary of the `InstanceGroup` with keys:</span>
<a id="__codelineno-0-1376" name="__codelineno-0-1376"></a><a href="#__codelineno-0-1376"><span class="linenos" data-linenos="1376 "></span></a><span class="sd">            - &quot;camcorder_to_lf_and_inst_idx_map&quot;: Dictionary mapping `Camera` indices</span>
<a id="__codelineno-0-1377" name="__codelineno-0-1377"></a><a href="#__codelineno-0-1377"><span class="linenos" data-linenos="1377 "></span></a><span class="sd">                (in `InstanceGroup.camera_cluster.cameras`) to a tuple of `LabeledFrame`</span>
<a id="__codelineno-0-1378" name="__codelineno-0-1378"></a><a href="#__codelineno-0-1378"><span class="linenos" data-linenos="1378 "></span></a><span class="sd">                and `Instance` indices (from `instance_to_lf_and_inst_idx`)</span>
<a id="__codelineno-0-1379" name="__codelineno-0-1379"></a><a href="#__codelineno-0-1379"><span class="linenos" data-linenos="1379 "></span></a><span class="sd">            - Any optional keys containing metadata.</span>
<a id="__codelineno-0-1380" name="__codelineno-0-1380"></a><a href="#__codelineno-0-1380"><span class="linenos" data-linenos="1380 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1381" name="__codelineno-0-1381"></a><a href="#__codelineno-0-1381"><span class="linenos" data-linenos="1381 "></span></a>    <span class="n">camera_to_lf_and_inst_idx_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1382" name="__codelineno-0-1382"></a><a href="#__codelineno-0-1382"><span class="linenos" data-linenos="1382 "></span></a>        <span class="n">camera_group</span><span class="o">.</span><span class="n">cameras</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">cam</span><span class="p">):</span> <span class="n">instance_to_lf_and_inst_idx</span><span class="p">[</span><span class="n">instance</span><span class="p">]</span>
<a id="__codelineno-0-1383" name="__codelineno-0-1383"></a><a href="#__codelineno-0-1383"><span class="linenos" data-linenos="1383 "></span></a>        <span class="k">for</span> <span class="n">cam</span><span class="p">,</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">instance_group</span><span class="o">.</span><span class="n">instance_by_camera</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-0-1384" name="__codelineno-0-1384"></a><a href="#__codelineno-0-1384"><span class="linenos" data-linenos="1384 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-1385" name="__codelineno-0-1385"></a><a href="#__codelineno-0-1385"><span class="linenos" data-linenos="1385 "></span></a>
<a id="__codelineno-0-1386" name="__codelineno-0-1386"></a><a href="#__codelineno-0-1386"><span class="linenos" data-linenos="1386 "></span></a>    <span class="c1"># Only required key is camcorder_to_lf_and_inst_idx_map</span>
<a id="__codelineno-0-1387" name="__codelineno-0-1387"></a><a href="#__codelineno-0-1387"><span class="linenos" data-linenos="1387 "></span></a>    <span class="n">instance_group_dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1388" name="__codelineno-0-1388"></a><a href="#__codelineno-0-1388"><span class="linenos" data-linenos="1388 "></span></a>        <span class="s2">&quot;camcorder_to_lf_and_inst_idx_map&quot;</span><span class="p">:</span> <span class="n">camera_to_lf_and_inst_idx_map</span><span class="p">,</span>
<a id="__codelineno-0-1389" name="__codelineno-0-1389"></a><a href="#__codelineno-0-1389"><span class="linenos" data-linenos="1389 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-1390" name="__codelineno-0-1390"></a><a href="#__codelineno-0-1390"><span class="linenos" data-linenos="1390 "></span></a>
<a id="__codelineno-0-1391" name="__codelineno-0-1391"></a><a href="#__codelineno-0-1391"><span class="linenos" data-linenos="1391 "></span></a>    <span class="c1"># Optionally add score, points, and metadata if they are non-default values</span>
<a id="__codelineno-0-1392" name="__codelineno-0-1392"></a><a href="#__codelineno-0-1392"><span class="linenos" data-linenos="1392 "></span></a>    <span class="k">if</span> <span class="n">instance_group</span><span class="o">.</span><span class="n">score</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1393" name="__codelineno-0-1393"></a><a href="#__codelineno-0-1393"><span class="linenos" data-linenos="1393 "></span></a>        <span class="n">instance_group_dict</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance_group</span><span class="o">.</span><span class="n">score</span>
<a id="__codelineno-0-1394" name="__codelineno-0-1394"></a><a href="#__codelineno-0-1394"><span class="linenos" data-linenos="1394 "></span></a>    <span class="k">if</span> <span class="n">instance_group</span><span class="o">.</span><span class="n">points</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1395" name="__codelineno-0-1395"></a><a href="#__codelineno-0-1395"><span class="linenos" data-linenos="1395 "></span></a>        <span class="n">instance_group_dict</span><span class="p">[</span><span class="s2">&quot;points&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance_group</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<a id="__codelineno-0-1396" name="__codelineno-0-1396"></a><a href="#__codelineno-0-1396"><span class="linenos" data-linenos="1396 "></span></a>    <span class="n">instance_group_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">instance_group</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<a id="__codelineno-0-1397" name="__codelineno-0-1397"></a><a href="#__codelineno-0-1397"><span class="linenos" data-linenos="1397 "></span></a>
<a id="__codelineno-0-1398" name="__codelineno-0-1398"></a><a href="#__codelineno-0-1398"><span class="linenos" data-linenos="1398 "></span></a>    <span class="k">return</span> <span class="n">instance_group_dict</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.make_camera" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_camera</span><span class="p">(</span><span class="n">camera_dict</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.make_camera" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create <code>Camera</code> from a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>camera_dict</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing camera information with the following
necessary keys:
- "name": Camera name.
- "size": Image size (width, height) of camera in pixels of size (2,) and
    type int.
- "matrix": Intrinsic camera matrix of size (3, 3) and type float64.
- "distortions": Radial-tangential distortion coefficients
    [k_1, k_2, p_1, p_2, k_3] of size (5,) and type float64.
- "rotation": Rotation vector in unnormalized axis-angle representation of
    size (3,) and type float64.
- "translation": Translation vector of size (3,) and type float64.
and optional keys containing metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;Camera&lt;/code&gt; (&lt;code&gt;sleap_io.Camera&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.Camera">Camera</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>Camera</code> object created from dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1197" name="__codelineno-0-1197"></a><a href="#__codelineno-0-1197"><span class="linenos" data-linenos="1197 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">make_camera</span><span class="p">(</span><span class="n">camera_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Camera</span><span class="p">:</span>
<a id="__codelineno-0-1198" name="__codelineno-0-1198"></a><a href="#__codelineno-0-1198"><span class="linenos" data-linenos="1198 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create `Camera` from a dictionary.</span>
<a id="__codelineno-0-1199" name="__codelineno-0-1199"></a><a href="#__codelineno-0-1199"><span class="linenos" data-linenos="1199 "></span></a>
<a id="__codelineno-0-1200" name="__codelineno-0-1200"></a><a href="#__codelineno-0-1200"><span class="linenos" data-linenos="1200 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1201" name="__codelineno-0-1201"></a><a href="#__codelineno-0-1201"><span class="linenos" data-linenos="1201 "></span></a><span class="sd">        camera_dict: Dictionary containing camera information with the following</span>
<a id="__codelineno-0-1202" name="__codelineno-0-1202"></a><a href="#__codelineno-0-1202"><span class="linenos" data-linenos="1202 "></span></a><span class="sd">            necessary keys:</span>
<a id="__codelineno-0-1203" name="__codelineno-0-1203"></a><a href="#__codelineno-0-1203"><span class="linenos" data-linenos="1203 "></span></a><span class="sd">            - &quot;name&quot;: Camera name.</span>
<a id="__codelineno-0-1204" name="__codelineno-0-1204"></a><a href="#__codelineno-0-1204"><span class="linenos" data-linenos="1204 "></span></a><span class="sd">            - &quot;size&quot;: Image size (width, height) of camera in pixels of size (2,) and</span>
<a id="__codelineno-0-1205" name="__codelineno-0-1205"></a><a href="#__codelineno-0-1205"><span class="linenos" data-linenos="1205 "></span></a><span class="sd">                type int.</span>
<a id="__codelineno-0-1206" name="__codelineno-0-1206"></a><a href="#__codelineno-0-1206"><span class="linenos" data-linenos="1206 "></span></a><span class="sd">            - &quot;matrix&quot;: Intrinsic camera matrix of size (3, 3) and type float64.</span>
<a id="__codelineno-0-1207" name="__codelineno-0-1207"></a><a href="#__codelineno-0-1207"><span class="linenos" data-linenos="1207 "></span></a><span class="sd">            - &quot;distortions&quot;: Radial-tangential distortion coefficients</span>
<a id="__codelineno-0-1208" name="__codelineno-0-1208"></a><a href="#__codelineno-0-1208"><span class="linenos" data-linenos="1208 "></span></a><span class="sd">                [k_1, k_2, p_1, p_2, k_3] of size (5,) and type float64.</span>
<a id="__codelineno-0-1209" name="__codelineno-0-1209"></a><a href="#__codelineno-0-1209"><span class="linenos" data-linenos="1209 "></span></a><span class="sd">            - &quot;rotation&quot;: Rotation vector in unnormalized axis-angle representation of</span>
<a id="__codelineno-0-1210" name="__codelineno-0-1210"></a><a href="#__codelineno-0-1210"><span class="linenos" data-linenos="1210 "></span></a><span class="sd">                size (3,) and type float64.</span>
<a id="__codelineno-0-1211" name="__codelineno-0-1211"></a><a href="#__codelineno-0-1211"><span class="linenos" data-linenos="1211 "></span></a><span class="sd">            - &quot;translation&quot;: Translation vector of size (3,) and type float64.</span>
<a id="__codelineno-0-1212" name="__codelineno-0-1212"></a><a href="#__codelineno-0-1212"><span class="linenos" data-linenos="1212 "></span></a><span class="sd">            and optional keys containing metadata.</span>
<a id="__codelineno-0-1213" name="__codelineno-0-1213"></a><a href="#__codelineno-0-1213"><span class="linenos" data-linenos="1213 "></span></a>
<a id="__codelineno-0-1214" name="__codelineno-0-1214"></a><a href="#__codelineno-0-1214"><span class="linenos" data-linenos="1214 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1215" name="__codelineno-0-1215"></a><a href="#__codelineno-0-1215"><span class="linenos" data-linenos="1215 "></span></a><span class="sd">        `Camera` object created from dictionary.</span>
<a id="__codelineno-0-1216" name="__codelineno-0-1216"></a><a href="#__codelineno-0-1216"><span class="linenos" data-linenos="1216 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1217" name="__codelineno-0-1217"></a><a href="#__codelineno-0-1217"><span class="linenos" data-linenos="1217 "></span></a>    <span class="c1"># Avoid mutating the dictionary.</span>
<a id="__codelineno-0-1218" name="__codelineno-0-1218"></a><a href="#__codelineno-0-1218"><span class="linenos" data-linenos="1218 "></span></a>    <span class="n">camera_dict</span> <span class="o">=</span> <span class="n">camera_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1219" name="__codelineno-0-1219"></a><a href="#__codelineno-0-1219"><span class="linenos" data-linenos="1219 "></span></a>
<a id="__codelineno-0-1220" name="__codelineno-0-1220"></a><a href="#__codelineno-0-1220"><span class="linenos" data-linenos="1220 "></span></a>    <span class="c1"># Get all attributes we deserialize.</span>
<a id="__codelineno-0-1221" name="__codelineno-0-1221"></a><a href="#__codelineno-0-1221"><span class="linenos" data-linenos="1221 "></span></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">camera_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1222" name="__codelineno-0-1222"></a><a href="#__codelineno-0-1222"><span class="linenos" data-linenos="1222 "></span></a>    <span class="n">size</span> <span class="o">=</span> <span class="n">camera_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1223" name="__codelineno-0-1223"></a><a href="#__codelineno-0-1223"><span class="linenos" data-linenos="1223 "></span></a>    <span class="n">camera</span> <span class="o">=</span> <span class="n">Camera</span><span class="p">(</span>
<a id="__codelineno-0-1224" name="__codelineno-0-1224"></a><a href="#__codelineno-0-1224"><span class="linenos" data-linenos="1224 "></span></a>        <span class="n">name</span><span class="o">=</span><span class="n">name</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1225" name="__codelineno-0-1225"></a><a href="#__codelineno-0-1225"><span class="linenos" data-linenos="1225 "></span></a>        <span class="n">size</span><span class="o">=</span><span class="n">size</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1226" name="__codelineno-0-1226"></a><a href="#__codelineno-0-1226"><span class="linenos" data-linenos="1226 "></span></a>        <span class="n">matrix</span><span class="o">=</span><span class="n">camera_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;matrix&quot;</span><span class="p">),</span>
<a id="__codelineno-0-1227" name="__codelineno-0-1227"></a><a href="#__codelineno-0-1227"><span class="linenos" data-linenos="1227 "></span></a>        <span class="n">dist</span><span class="o">=</span><span class="n">camera_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;distortions&quot;</span><span class="p">),</span>
<a id="__codelineno-0-1228" name="__codelineno-0-1228"></a><a href="#__codelineno-0-1228"><span class="linenos" data-linenos="1228 "></span></a>        <span class="n">rvec</span><span class="o">=</span><span class="n">camera_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;rotation&quot;</span><span class="p">),</span>
<a id="__codelineno-0-1229" name="__codelineno-0-1229"></a><a href="#__codelineno-0-1229"><span class="linenos" data-linenos="1229 "></span></a>        <span class="n">tvec</span><span class="o">=</span><span class="n">camera_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;translation&quot;</span><span class="p">),</span>
<a id="__codelineno-0-1230" name="__codelineno-0-1230"></a><a href="#__codelineno-0-1230"><span class="linenos" data-linenos="1230 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-1231" name="__codelineno-0-1231"></a><a href="#__codelineno-0-1231"><span class="linenos" data-linenos="1231 "></span></a>
<a id="__codelineno-0-1232" name="__codelineno-0-1232"></a><a href="#__codelineno-0-1232"><span class="linenos" data-linenos="1232 "></span></a>    <span class="c1"># Add remaining metadata to `Camera`</span>
<a id="__codelineno-0-1233" name="__codelineno-0-1233"></a><a href="#__codelineno-0-1233"><span class="linenos" data-linenos="1233 "></span></a>    <span class="n">camera</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">camera_dict</span>
<a id="__codelineno-0-1234" name="__codelineno-0-1234"></a><a href="#__codelineno-0-1234"><span class="linenos" data-linenos="1234 "></span></a>
<a id="__codelineno-0-1235" name="__codelineno-0-1235"></a><a href="#__codelineno-0-1235"><span class="linenos" data-linenos="1235 "></span></a>    <span class="k">return</span> <span class="n">camera</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.make_camera_group" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_camera_group</span><span class="p">(</span><span class="n">calibration_dict</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.make_camera_group" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a <code>CameraGroup</code> from a calibration dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>calibration_dict</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing calibration information for cameras
with optional keys:
- "metadata": Dictionary containing metadata for the <code>CameraGroup</code>.
- Arbitrary (but unique) keys for every <code>Camera</code>, each containing a
    dictionary with camera information (see <code>make_camera</code> for what each
    dictionary contains).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;CameraGroup&lt;/code&gt; (&lt;code&gt;sleap_io.CameraGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.CameraGroup">CameraGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>CameraGroup</code> object created from calibration dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1238" name="__codelineno-0-1238"></a><a href="#__codelineno-0-1238"><span class="linenos" data-linenos="1238 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">make_camera_group</span><span class="p">(</span><span class="n">calibration_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CameraGroup</span><span class="p">:</span>
<a id="__codelineno-0-1239" name="__codelineno-0-1239"></a><a href="#__codelineno-0-1239"><span class="linenos" data-linenos="1239 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `CameraGroup` from a calibration dictionary.</span>
<a id="__codelineno-0-1240" name="__codelineno-0-1240"></a><a href="#__codelineno-0-1240"><span class="linenos" data-linenos="1240 "></span></a>
<a id="__codelineno-0-1241" name="__codelineno-0-1241"></a><a href="#__codelineno-0-1241"><span class="linenos" data-linenos="1241 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1242" name="__codelineno-0-1242"></a><a href="#__codelineno-0-1242"><span class="linenos" data-linenos="1242 "></span></a><span class="sd">        calibration_dict: Dictionary containing calibration information for cameras</span>
<a id="__codelineno-0-1243" name="__codelineno-0-1243"></a><a href="#__codelineno-0-1243"><span class="linenos" data-linenos="1243 "></span></a><span class="sd">            with optional keys:</span>
<a id="__codelineno-0-1244" name="__codelineno-0-1244"></a><a href="#__codelineno-0-1244"><span class="linenos" data-linenos="1244 "></span></a><span class="sd">            - &quot;metadata&quot;: Dictionary containing metadata for the `CameraGroup`.</span>
<a id="__codelineno-0-1245" name="__codelineno-0-1245"></a><a href="#__codelineno-0-1245"><span class="linenos" data-linenos="1245 "></span></a><span class="sd">            - Arbitrary (but unique) keys for every `Camera`, each containing a</span>
<a id="__codelineno-0-1246" name="__codelineno-0-1246"></a><a href="#__codelineno-0-1246"><span class="linenos" data-linenos="1246 "></span></a><span class="sd">                dictionary with camera information (see `make_camera` for what each</span>
<a id="__codelineno-0-1247" name="__codelineno-0-1247"></a><a href="#__codelineno-0-1247"><span class="linenos" data-linenos="1247 "></span></a><span class="sd">                dictionary contains).</span>
<a id="__codelineno-0-1248" name="__codelineno-0-1248"></a><a href="#__codelineno-0-1248"><span class="linenos" data-linenos="1248 "></span></a>
<a id="__codelineno-0-1249" name="__codelineno-0-1249"></a><a href="#__codelineno-0-1249"><span class="linenos" data-linenos="1249 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1250" name="__codelineno-0-1250"></a><a href="#__codelineno-0-1250"><span class="linenos" data-linenos="1250 "></span></a><span class="sd">        `CameraGroup` object created from calibration dictionary.</span>
<a id="__codelineno-0-1251" name="__codelineno-0-1251"></a><a href="#__codelineno-0-1251"><span class="linenos" data-linenos="1251 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1252" name="__codelineno-0-1252"></a><a href="#__codelineno-0-1252"><span class="linenos" data-linenos="1252 "></span></a>    <span class="n">cameras</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1253" name="__codelineno-0-1253"></a><a href="#__codelineno-0-1253"><span class="linenos" data-linenos="1253 "></span></a>    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1254" name="__codelineno-0-1254"></a><a href="#__codelineno-0-1254"><span class="linenos" data-linenos="1254 "></span></a>    <span class="k">for</span> <span class="n">dict_name</span><span class="p">,</span> <span class="n">camera_dict</span> <span class="ow">in</span> <span class="n">calibration_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-1255" name="__codelineno-0-1255"></a><a href="#__codelineno-0-1255"><span class="linenos" data-linenos="1255 "></span></a>        <span class="k">if</span> <span class="n">dict_name</span> <span class="o">==</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span>
<a id="__codelineno-0-1256" name="__codelineno-0-1256"></a><a href="#__codelineno-0-1256"><span class="linenos" data-linenos="1256 "></span></a>            <span class="n">metadata</span> <span class="o">=</span> <span class="n">camera_dict</span>
<a id="__codelineno-0-1257" name="__codelineno-0-1257"></a><a href="#__codelineno-0-1257"><span class="linenos" data-linenos="1257 "></span></a>            <span class="k">continue</span>
<a id="__codelineno-0-1258" name="__codelineno-0-1258"></a><a href="#__codelineno-0-1258"><span class="linenos" data-linenos="1258 "></span></a>        <span class="n">camera</span> <span class="o">=</span> <span class="n">make_camera</span><span class="p">(</span><span class="n">camera_dict</span><span class="p">)</span>
<a id="__codelineno-0-1259" name="__codelineno-0-1259"></a><a href="#__codelineno-0-1259"><span class="linenos" data-linenos="1259 "></span></a>        <span class="n">cameras</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">camera</span><span class="p">)</span>
<a id="__codelineno-0-1260" name="__codelineno-0-1260"></a><a href="#__codelineno-0-1260"><span class="linenos" data-linenos="1260 "></span></a>
<a id="__codelineno-0-1261" name="__codelineno-0-1261"></a><a href="#__codelineno-0-1261"><span class="linenos" data-linenos="1261 "></span></a>    <span class="k">return</span> <span class="n">CameraGroup</span><span class="p">(</span><span class="n">cameras</span><span class="o">=</span><span class="n">cameras</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.make_frame_group" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_frame_group</span><span class="p">(</span><span class="n">frame_group_dict</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">,</span> <span class="n">camera_group</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.make_frame_group" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a <code>FrameGroup</code> object from a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame_group_dict</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary representing a <code>FrameGroup</code> object with the
following necessary key:
- "instance_groups": List of dictionaries containing <code>InstanceGroup</code>
    information (see <code>make_instance_group</code> for what each dictionary
    contains).
and optional keys:
- "frame_idx": Frame index.
- Any keys containing metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frames_list</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of <code>LabeledFrame</code> objects (expecting
<code>Labels.labeled_frames</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>camera_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;CameraGroup&lt;/code&gt; (&lt;code&gt;sleap_io.CameraGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.CameraGroup">CameraGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>CameraGroup</code> object used to retrieve <code>Camera</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;FrameGroup&lt;/code&gt; (&lt;code&gt;sleap_io.FrameGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.FrameGroup">FrameGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>FrameGroup</code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1126" name="__codelineno-0-1126"></a><a href="#__codelineno-0-1126"><span class="linenos" data-linenos="1126 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">make_frame_group</span><span class="p">(</span>
<a id="__codelineno-0-1127" name="__codelineno-0-1127"></a><a href="#__codelineno-0-1127"><span class="linenos" data-linenos="1127 "></span></a>    <span class="n">frame_group_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-1128" name="__codelineno-0-1128"></a><a href="#__codelineno-0-1128"><span class="linenos" data-linenos="1128 "></span></a>    <span class="n">labeled_frames</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">],</span>
<a id="__codelineno-0-1129" name="__codelineno-0-1129"></a><a href="#__codelineno-0-1129"><span class="linenos" data-linenos="1129 "></span></a>    <span class="n">camera_group</span><span class="p">:</span> <span class="n">CameraGroup</span><span class="p">,</span>
<a id="__codelineno-0-1130" name="__codelineno-0-1130"></a><a href="#__codelineno-0-1130"><span class="linenos" data-linenos="1130 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrameGroup</span><span class="p">:</span>
<a id="__codelineno-0-1131" name="__codelineno-0-1131"></a><a href="#__codelineno-0-1131"><span class="linenos" data-linenos="1131 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `FrameGroup` object from a dictionary.</span>
<a id="__codelineno-0-1132" name="__codelineno-0-1132"></a><a href="#__codelineno-0-1132"><span class="linenos" data-linenos="1132 "></span></a>
<a id="__codelineno-0-1133" name="__codelineno-0-1133"></a><a href="#__codelineno-0-1133"><span class="linenos" data-linenos="1133 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1134" name="__codelineno-0-1134"></a><a href="#__codelineno-0-1134"><span class="linenos" data-linenos="1134 "></span></a><span class="sd">        frame_group_dict: Dictionary representing a `FrameGroup` object with the</span>
<a id="__codelineno-0-1135" name="__codelineno-0-1135"></a><a href="#__codelineno-0-1135"><span class="linenos" data-linenos="1135 "></span></a><span class="sd">            following necessary key:</span>
<a id="__codelineno-0-1136" name="__codelineno-0-1136"></a><a href="#__codelineno-0-1136"><span class="linenos" data-linenos="1136 "></span></a><span class="sd">            - &quot;instance_groups&quot;: List of dictionaries containing `InstanceGroup`</span>
<a id="__codelineno-0-1137" name="__codelineno-0-1137"></a><a href="#__codelineno-0-1137"><span class="linenos" data-linenos="1137 "></span></a><span class="sd">                information (see `make_instance_group` for what each dictionary</span>
<a id="__codelineno-0-1138" name="__codelineno-0-1138"></a><a href="#__codelineno-0-1138"><span class="linenos" data-linenos="1138 "></span></a><span class="sd">                contains).</span>
<a id="__codelineno-0-1139" name="__codelineno-0-1139"></a><a href="#__codelineno-0-1139"><span class="linenos" data-linenos="1139 "></span></a><span class="sd">            and optional keys:</span>
<a id="__codelineno-0-1140" name="__codelineno-0-1140"></a><a href="#__codelineno-0-1140"><span class="linenos" data-linenos="1140 "></span></a><span class="sd">            - &quot;frame_idx&quot;: Frame index.</span>
<a id="__codelineno-0-1141" name="__codelineno-0-1141"></a><a href="#__codelineno-0-1141"><span class="linenos" data-linenos="1141 "></span></a><span class="sd">            - Any keys containing metadata.</span>
<a id="__codelineno-0-1142" name="__codelineno-0-1142"></a><a href="#__codelineno-0-1142"><span class="linenos" data-linenos="1142 "></span></a><span class="sd">        labeled_frames_list: List of `LabeledFrame` objects (expecting</span>
<a id="__codelineno-0-1143" name="__codelineno-0-1143"></a><a href="#__codelineno-0-1143"><span class="linenos" data-linenos="1143 "></span></a><span class="sd">            `Labels.labeled_frames`).</span>
<a id="__codelineno-0-1144" name="__codelineno-0-1144"></a><a href="#__codelineno-0-1144"><span class="linenos" data-linenos="1144 "></span></a><span class="sd">        camera_group: `CameraGroup` object used to retrieve `Camera` objects.</span>
<a id="__codelineno-0-1145" name="__codelineno-0-1145"></a><a href="#__codelineno-0-1145"><span class="linenos" data-linenos="1145 "></span></a>
<a id="__codelineno-0-1146" name="__codelineno-0-1146"></a><a href="#__codelineno-0-1146"><span class="linenos" data-linenos="1146 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1147" name="__codelineno-0-1147"></a><a href="#__codelineno-0-1147"><span class="linenos" data-linenos="1147 "></span></a><span class="sd">        `FrameGroup` object.</span>
<a id="__codelineno-0-1148" name="__codelineno-0-1148"></a><a href="#__codelineno-0-1148"><span class="linenos" data-linenos="1148 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1149" name="__codelineno-0-1149"></a><a href="#__codelineno-0-1149"><span class="linenos" data-linenos="1149 "></span></a>    <span class="c1"># Avoid mutating the dictionary</span>
<a id="__codelineno-0-1150" name="__codelineno-0-1150"></a><a href="#__codelineno-0-1150"><span class="linenos" data-linenos="1150 "></span></a>    <span class="n">frame_group_dict</span> <span class="o">=</span> <span class="n">frame_group_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1151" name="__codelineno-0-1151"></a><a href="#__codelineno-0-1151"><span class="linenos" data-linenos="1151 "></span></a>
<a id="__codelineno-0-1152" name="__codelineno-0-1152"></a><a href="#__codelineno-0-1152"><span class="linenos" data-linenos="1152 "></span></a>    <span class="n">frame_idx</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-1153" name="__codelineno-0-1153"></a><a href="#__codelineno-0-1153"><span class="linenos" data-linenos="1153 "></span></a>
<a id="__codelineno-0-1154" name="__codelineno-0-1154"></a><a href="#__codelineno-0-1154"><span class="linenos" data-linenos="1154 "></span></a>    <span class="c1"># Get `InstanceGroup` objects</span>
<a id="__codelineno-0-1155" name="__codelineno-0-1155"></a><a href="#__codelineno-0-1155"><span class="linenos" data-linenos="1155 "></span></a>    <span class="n">instance_groups_info</span> <span class="o">=</span> <span class="n">frame_group_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;instance_groups&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1156" name="__codelineno-0-1156"></a><a href="#__codelineno-0-1156"><span class="linenos" data-linenos="1156 "></span></a>    <span class="n">instance_groups</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1157" name="__codelineno-0-1157"></a><a href="#__codelineno-0-1157"><span class="linenos" data-linenos="1157 "></span></a>    <span class="n">labeled_frame_by_camera</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1158" name="__codelineno-0-1158"></a><a href="#__codelineno-0-1158"><span class="linenos" data-linenos="1158 "></span></a>    <span class="k">for</span> <span class="n">instance_group_dict</span> <span class="ow">in</span> <span class="n">instance_groups_info</span><span class="p">:</span>
<a id="__codelineno-0-1159" name="__codelineno-0-1159"></a><a href="#__codelineno-0-1159"><span class="linenos" data-linenos="1159 "></span></a>        <span class="n">instance_group</span> <span class="o">=</span> <span class="n">make_instance_group</span><span class="p">(</span>
<a id="__codelineno-0-1160" name="__codelineno-0-1160"></a><a href="#__codelineno-0-1160"><span class="linenos" data-linenos="1160 "></span></a>            <span class="n">instance_group_dict</span><span class="o">=</span><span class="n">instance_group_dict</span><span class="p">,</span>
<a id="__codelineno-0-1161" name="__codelineno-0-1161"></a><a href="#__codelineno-0-1161"><span class="linenos" data-linenos="1161 "></span></a>            <span class="n">labeled_frames</span><span class="o">=</span><span class="n">labeled_frames</span><span class="p">,</span>
<a id="__codelineno-0-1162" name="__codelineno-0-1162"></a><a href="#__codelineno-0-1162"><span class="linenos" data-linenos="1162 "></span></a>            <span class="n">camera_group</span><span class="o">=</span><span class="n">camera_group</span><span class="p">,</span>
<a id="__codelineno-0-1163" name="__codelineno-0-1163"></a><a href="#__codelineno-0-1163"><span class="linenos" data-linenos="1163 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-1164" name="__codelineno-0-1164"></a><a href="#__codelineno-0-1164"><span class="linenos" data-linenos="1164 "></span></a>        <span class="n">instance_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">instance_group</span><span class="p">)</span>
<a id="__codelineno-0-1165" name="__codelineno-0-1165"></a><a href="#__codelineno-0-1165"><span class="linenos" data-linenos="1165 "></span></a>
<a id="__codelineno-0-1166" name="__codelineno-0-1166"></a><a href="#__codelineno-0-1166"><span class="linenos" data-linenos="1166 "></span></a>        <span class="c1"># Also retrieve the `LabeledFrame` by `Camera`. We do this for each</span>
<a id="__codelineno-0-1167" name="__codelineno-0-1167"></a><a href="#__codelineno-0-1167"><span class="linenos" data-linenos="1167 "></span></a>        <span class="c1"># `InstanceGroup` to ensure that we have don&#39;t miss a `LabeledFrame`.</span>
<a id="__codelineno-0-1168" name="__codelineno-0-1168"></a><a href="#__codelineno-0-1168"><span class="linenos" data-linenos="1168 "></span></a>        <span class="n">camera_to_lf_and_inst_idx_map</span> <span class="o">=</span> <span class="n">instance_group_dict</span><span class="p">[</span>
<a id="__codelineno-0-1169" name="__codelineno-0-1169"></a><a href="#__codelineno-0-1169"><span class="linenos" data-linenos="1169 "></span></a>            <span class="s2">&quot;camcorder_to_lf_and_inst_idx_map&quot;</span>
<a id="__codelineno-0-1170" name="__codelineno-0-1170"></a><a href="#__codelineno-0-1170"><span class="linenos" data-linenos="1170 "></span></a>        <span class="p">]</span>
<a id="__codelineno-0-1171" name="__codelineno-0-1171"></a><a href="#__codelineno-0-1171"><span class="linenos" data-linenos="1171 "></span></a>        <span class="k">for</span> <span class="n">cam_idx</span><span class="p">,</span> <span class="p">(</span><span class="n">lf_idx</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">camera_to_lf_and_inst_idx_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-1172" name="__codelineno-0-1172"></a><a href="#__codelineno-0-1172"><span class="linenos" data-linenos="1172 "></span></a>            <span class="c1"># Retrieve the `Camera`</span>
<a id="__codelineno-0-1173" name="__codelineno-0-1173"></a><a href="#__codelineno-0-1173"><span class="linenos" data-linenos="1173 "></span></a>            <span class="n">camera</span> <span class="o">=</span> <span class="n">camera_group</span><span class="o">.</span><span class="n">cameras</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cam_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1174" name="__codelineno-0-1174"></a><a href="#__codelineno-0-1174"><span class="linenos" data-linenos="1174 "></span></a>
<a id="__codelineno-0-1175" name="__codelineno-0-1175"></a><a href="#__codelineno-0-1175"><span class="linenos" data-linenos="1175 "></span></a>            <span class="c1"># Retrieve the `LabeledFrame`</span>
<a id="__codelineno-0-1176" name="__codelineno-0-1176"></a><a href="#__codelineno-0-1176"><span class="linenos" data-linenos="1176 "></span></a>            <span class="n">labeled_frame</span> <span class="o">=</span> <span class="n">labeled_frames</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">lf_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1177" name="__codelineno-0-1177"></a><a href="#__codelineno-0-1177"><span class="linenos" data-linenos="1177 "></span></a>            <span class="n">labeled_frame_by_camera</span><span class="p">[</span><span class="n">camera</span><span class="p">]</span> <span class="o">=</span> <span class="n">labeled_frame</span>
<a id="__codelineno-0-1178" name="__codelineno-0-1178"></a><a href="#__codelineno-0-1178"><span class="linenos" data-linenos="1178 "></span></a>
<a id="__codelineno-0-1179" name="__codelineno-0-1179"></a><a href="#__codelineno-0-1179"><span class="linenos" data-linenos="1179 "></span></a>            <span class="c1"># We can get the frame index from the `LabeledFrame` if any.</span>
<a id="__codelineno-0-1180" name="__codelineno-0-1180"></a><a href="#__codelineno-0-1180"><span class="linenos" data-linenos="1180 "></span></a>            <span class="n">frame_idx</span> <span class="o">=</span> <span class="n">labeled_frame</span><span class="o">.</span><span class="n">frame_idx</span>
<a id="__codelineno-0-1181" name="__codelineno-0-1181"></a><a href="#__codelineno-0-1181"><span class="linenos" data-linenos="1181 "></span></a>
<a id="__codelineno-0-1182" name="__codelineno-0-1182"></a><a href="#__codelineno-0-1182"><span class="linenos" data-linenos="1182 "></span></a>    <span class="c1"># Get the frame index explicitly from the dictionary if it exists.</span>
<a id="__codelineno-0-1183" name="__codelineno-0-1183"></a><a href="#__codelineno-0-1183"><span class="linenos" data-linenos="1183 "></span></a>    <span class="k">if</span> <span class="s2">&quot;frame_idx&quot;</span> <span class="ow">in</span> <span class="n">frame_group_dict</span><span class="p">:</span>
<a id="__codelineno-0-1184" name="__codelineno-0-1184"></a><a href="#__codelineno-0-1184"><span class="linenos" data-linenos="1184 "></span></a>        <span class="n">frame_idx</span> <span class="o">=</span> <span class="n">frame_group_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;frame_idx&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1185" name="__codelineno-0-1185"></a><a href="#__codelineno-0-1185"><span class="linenos" data-linenos="1185 "></span></a>
<a id="__codelineno-0-1186" name="__codelineno-0-1186"></a><a href="#__codelineno-0-1186"><span class="linenos" data-linenos="1186 "></span></a>    <span class="c1"># Metadata contains any information that the class doesn&#39;t deserialize.</span>
<a id="__codelineno-0-1187" name="__codelineno-0-1187"></a><a href="#__codelineno-0-1187"><span class="linenos" data-linenos="1187 "></span></a>    <span class="n">metadata</span> <span class="o">=</span> <span class="n">frame_group_dict</span>  <span class="c1"># Remaining keys are metadata.</span>
<a id="__codelineno-0-1188" name="__codelineno-0-1188"></a><a href="#__codelineno-0-1188"><span class="linenos" data-linenos="1188 "></span></a>
<a id="__codelineno-0-1189" name="__codelineno-0-1189"></a><a href="#__codelineno-0-1189"><span class="linenos" data-linenos="1189 "></span></a>    <span class="k">return</span> <span class="n">FrameGroup</span><span class="p">(</span>
<a id="__codelineno-0-1190" name="__codelineno-0-1190"></a><a href="#__codelineno-0-1190"><span class="linenos" data-linenos="1190 "></span></a>        <span class="n">frame_idx</span><span class="o">=</span><span class="n">frame_idx</span><span class="p">,</span>
<a id="__codelineno-0-1191" name="__codelineno-0-1191"></a><a href="#__codelineno-0-1191"><span class="linenos" data-linenos="1191 "></span></a>        <span class="n">instance_groups</span><span class="o">=</span><span class="n">instance_groups</span><span class="p">,</span>
<a id="__codelineno-0-1192" name="__codelineno-0-1192"></a><a href="#__codelineno-0-1192"><span class="linenos" data-linenos="1192 "></span></a>        <span class="n">labeled_frame_by_camera</span><span class="o">=</span><span class="n">labeled_frame_by_camera</span><span class="p">,</span>
<a id="__codelineno-0-1193" name="__codelineno-0-1193"></a><a href="#__codelineno-0-1193"><span class="linenos" data-linenos="1193 "></span></a>        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
<a id="__codelineno-0-1194" name="__codelineno-0-1194"></a><a href="#__codelineno-0-1194"><span class="linenos" data-linenos="1194 "></span></a>    <span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.make_instance_group" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_instance_group</span><span class="p">(</span><span class="n">instance_group_dict</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">,</span> <span class="n">camera_group</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.make_instance_group" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Creates an <code>InstanceGroup</code> object from a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instance_group_dict</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with the following necessary key:
- "camcorder_to_lf_and_inst_idx_map": Dictionary mapping <code>Camera</code> indices to
    a tuple of <code>LabeledFrame</code> index (in <code>labeled_frames</code>) and <code>Instance</code>
    index (in containing <code>LabeledFrame.instances</code>).
and optional keys:
- "score": A float representing the reprojection score for the
    <code>InstanceGroup</code>.
- "points": 3D points for the <code>InstanceGroup</code>.
- Any keys containing metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frames</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.LabeledFrame&lt;/code&gt;" href="../../../../model/#sleap_io.LabeledFrame">LabeledFrame</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of <code>LabeledFrame</code> objects (expecting
<code>Labels.labeled_frames</code>) used to retrieve <code>Instance</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>camera_group</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;CameraGroup&lt;/code&gt; (&lt;code&gt;sleap_io.CameraGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.CameraGroup">CameraGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>CameraGroup</code> object used to retrieve <code>Camera</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;InstanceGroup&lt;/code&gt; (&lt;code&gt;sleap_io.InstanceGroup&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.InstanceGroup">InstanceGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>InstanceGroup</code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1063" name="__codelineno-0-1063"></a><a href="#__codelineno-0-1063"><span class="linenos" data-linenos="1063 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">make_instance_group</span><span class="p">(</span>
<a id="__codelineno-0-1064" name="__codelineno-0-1064"></a><a href="#__codelineno-0-1064"><span class="linenos" data-linenos="1064 "></span></a>    <span class="n">instance_group_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-1065" name="__codelineno-0-1065"></a><a href="#__codelineno-0-1065"><span class="linenos" data-linenos="1065 "></span></a>    <span class="n">labeled_frames</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">],</span>
<a id="__codelineno-0-1066" name="__codelineno-0-1066"></a><a href="#__codelineno-0-1066"><span class="linenos" data-linenos="1066 "></span></a>    <span class="n">camera_group</span><span class="p">:</span> <span class="n">CameraGroup</span><span class="p">,</span>
<a id="__codelineno-0-1067" name="__codelineno-0-1067"></a><a href="#__codelineno-0-1067"><span class="linenos" data-linenos="1067 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InstanceGroup</span><span class="p">:</span>
<a id="__codelineno-0-1068" name="__codelineno-0-1068"></a><a href="#__codelineno-0-1068"><span class="linenos" data-linenos="1068 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an `InstanceGroup` object from a dictionary.</span>
<a id="__codelineno-0-1069" name="__codelineno-0-1069"></a><a href="#__codelineno-0-1069"><span class="linenos" data-linenos="1069 "></span></a>
<a id="__codelineno-0-1070" name="__codelineno-0-1070"></a><a href="#__codelineno-0-1070"><span class="linenos" data-linenos="1070 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1071" name="__codelineno-0-1071"></a><a href="#__codelineno-0-1071"><span class="linenos" data-linenos="1071 "></span></a><span class="sd">        instance_group_dict: Dictionary with the following necessary key:</span>
<a id="__codelineno-0-1072" name="__codelineno-0-1072"></a><a href="#__codelineno-0-1072"><span class="linenos" data-linenos="1072 "></span></a><span class="sd">            - &quot;camcorder_to_lf_and_inst_idx_map&quot;: Dictionary mapping `Camera` indices to</span>
<a id="__codelineno-0-1073" name="__codelineno-0-1073"></a><a href="#__codelineno-0-1073"><span class="linenos" data-linenos="1073 "></span></a><span class="sd">                a tuple of `LabeledFrame` index (in `labeled_frames`) and `Instance`</span>
<a id="__codelineno-0-1074" name="__codelineno-0-1074"></a><a href="#__codelineno-0-1074"><span class="linenos" data-linenos="1074 "></span></a><span class="sd">                index (in containing `LabeledFrame.instances`).</span>
<a id="__codelineno-0-1075" name="__codelineno-0-1075"></a><a href="#__codelineno-0-1075"><span class="linenos" data-linenos="1075 "></span></a><span class="sd">            and optional keys:</span>
<a id="__codelineno-0-1076" name="__codelineno-0-1076"></a><a href="#__codelineno-0-1076"><span class="linenos" data-linenos="1076 "></span></a><span class="sd">            - &quot;score&quot;: A float representing the reprojection score for the</span>
<a id="__codelineno-0-1077" name="__codelineno-0-1077"></a><a href="#__codelineno-0-1077"><span class="linenos" data-linenos="1077 "></span></a><span class="sd">                `InstanceGroup`.</span>
<a id="__codelineno-0-1078" name="__codelineno-0-1078"></a><a href="#__codelineno-0-1078"><span class="linenos" data-linenos="1078 "></span></a><span class="sd">            - &quot;points&quot;: 3D points for the `InstanceGroup`.</span>
<a id="__codelineno-0-1079" name="__codelineno-0-1079"></a><a href="#__codelineno-0-1079"><span class="linenos" data-linenos="1079 "></span></a><span class="sd">            - Any keys containing metadata.</span>
<a id="__codelineno-0-1080" name="__codelineno-0-1080"></a><a href="#__codelineno-0-1080"><span class="linenos" data-linenos="1080 "></span></a><span class="sd">        labeled_frames: List of `LabeledFrame` objects (expecting</span>
<a id="__codelineno-0-1081" name="__codelineno-0-1081"></a><a href="#__codelineno-0-1081"><span class="linenos" data-linenos="1081 "></span></a><span class="sd">            `Labels.labeled_frames`) used to retrieve `Instance` objects.</span>
<a id="__codelineno-0-1082" name="__codelineno-0-1082"></a><a href="#__codelineno-0-1082"><span class="linenos" data-linenos="1082 "></span></a><span class="sd">        camera_group: `CameraGroup` object used to retrieve `Camera` objects.</span>
<a id="__codelineno-0-1083" name="__codelineno-0-1083"></a><a href="#__codelineno-0-1083"><span class="linenos" data-linenos="1083 "></span></a>
<a id="__codelineno-0-1084" name="__codelineno-0-1084"></a><a href="#__codelineno-0-1084"><span class="linenos" data-linenos="1084 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1085" name="__codelineno-0-1085"></a><a href="#__codelineno-0-1085"><span class="linenos" data-linenos="1085 "></span></a><span class="sd">        `InstanceGroup` object.</span>
<a id="__codelineno-0-1086" name="__codelineno-0-1086"></a><a href="#__codelineno-0-1086"><span class="linenos" data-linenos="1086 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1087" name="__codelineno-0-1087"></a><a href="#__codelineno-0-1087"><span class="linenos" data-linenos="1087 "></span></a>    <span class="c1"># Avoid mutating the dictionary</span>
<a id="__codelineno-0-1088" name="__codelineno-0-1088"></a><a href="#__codelineno-0-1088"><span class="linenos" data-linenos="1088 "></span></a>    <span class="n">instance_group_dict</span> <span class="o">=</span> <span class="n">instance_group_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1089" name="__codelineno-0-1089"></a><a href="#__codelineno-0-1089"><span class="linenos" data-linenos="1089 "></span></a>
<a id="__codelineno-0-1090" name="__codelineno-0-1090"></a><a href="#__codelineno-0-1090"><span class="linenos" data-linenos="1090 "></span></a>    <span class="c1"># Get the `Instance` objects</span>
<a id="__codelineno-0-1091" name="__codelineno-0-1091"></a><a href="#__codelineno-0-1091"><span class="linenos" data-linenos="1091 "></span></a>    <span class="n">camera_to_lf_and_inst_idx_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">instance_group_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
<a id="__codelineno-0-1092" name="__codelineno-0-1092"></a><a href="#__codelineno-0-1092"><span class="linenos" data-linenos="1092 "></span></a>        <span class="s2">&quot;camcorder_to_lf_and_inst_idx_map&quot;</span>
<a id="__codelineno-0-1093" name="__codelineno-0-1093"></a><a href="#__codelineno-0-1093"><span class="linenos" data-linenos="1093 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-1094" name="__codelineno-0-1094"></a><a href="#__codelineno-0-1094"><span class="linenos" data-linenos="1094 "></span></a>
<a id="__codelineno-0-1095" name="__codelineno-0-1095"></a><a href="#__codelineno-0-1095"><span class="linenos" data-linenos="1095 "></span></a>    <span class="n">instance_by_camera</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Camera</span><span class="p">,</span> <span class="n">Instance</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1096" name="__codelineno-0-1096"></a><a href="#__codelineno-0-1096"><span class="linenos" data-linenos="1096 "></span></a>    <span class="k">for</span> <span class="n">cam_idx</span><span class="p">,</span> <span class="p">(</span><span class="n">lf_idx</span><span class="p">,</span> <span class="n">inst_idx</span><span class="p">)</span> <span class="ow">in</span> <span class="n">camera_to_lf_and_inst_idx_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-1097" name="__codelineno-0-1097"></a><a href="#__codelineno-0-1097"><span class="linenos" data-linenos="1097 "></span></a>        <span class="c1"># Retrieve the `Camera`</span>
<a id="__codelineno-0-1098" name="__codelineno-0-1098"></a><a href="#__codelineno-0-1098"><span class="linenos" data-linenos="1098 "></span></a>        <span class="n">camera</span> <span class="o">=</span> <span class="n">camera_group</span><span class="o">.</span><span class="n">cameras</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cam_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1099" name="__codelineno-0-1099"></a><a href="#__codelineno-0-1099"><span class="linenos" data-linenos="1099 "></span></a>
<a id="__codelineno-0-1100" name="__codelineno-0-1100"></a><a href="#__codelineno-0-1100"><span class="linenos" data-linenos="1100 "></span></a>        <span class="c1"># Retrieve the `Instance` from the `LabeledFrame</span>
<a id="__codelineno-0-1101" name="__codelineno-0-1101"></a><a href="#__codelineno-0-1101"><span class="linenos" data-linenos="1101 "></span></a>        <span class="n">labeled_frame</span> <span class="o">=</span> <span class="n">labeled_frames</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">lf_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1102" name="__codelineno-0-1102"></a><a href="#__codelineno-0-1102"><span class="linenos" data-linenos="1102 "></span></a>        <span class="n">instance</span> <span class="o">=</span> <span class="n">labeled_frame</span><span class="o">.</span><span class="n">instances</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">inst_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1103" name="__codelineno-0-1103"></a><a href="#__codelineno-0-1103"><span class="linenos" data-linenos="1103 "></span></a>
<a id="__codelineno-0-1104" name="__codelineno-0-1104"></a><a href="#__codelineno-0-1104"><span class="linenos" data-linenos="1104 "></span></a>        <span class="c1"># Link the `Instance` to the `Camera`</span>
<a id="__codelineno-0-1105" name="__codelineno-0-1105"></a><a href="#__codelineno-0-1105"><span class="linenos" data-linenos="1105 "></span></a>        <span class="n">instance_by_camera</span><span class="p">[</span><span class="n">camera</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span>
<a id="__codelineno-0-1106" name="__codelineno-0-1106"></a><a href="#__codelineno-0-1106"><span class="linenos" data-linenos="1106 "></span></a>
<a id="__codelineno-0-1107" name="__codelineno-0-1107"></a><a href="#__codelineno-0-1107"><span class="linenos" data-linenos="1107 "></span></a>    <span class="c1"># Get all optional attributes</span>
<a id="__codelineno-0-1108" name="__codelineno-0-1108"></a><a href="#__codelineno-0-1108"><span class="linenos" data-linenos="1108 "></span></a>    <span class="n">score</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-1109" name="__codelineno-0-1109"></a><a href="#__codelineno-0-1109"><span class="linenos" data-linenos="1109 "></span></a>    <span class="k">if</span> <span class="s2">&quot;score&quot;</span> <span class="ow">in</span> <span class="n">instance_group_dict</span><span class="p">:</span>
<a id="__codelineno-0-1110" name="__codelineno-0-1110"></a><a href="#__codelineno-0-1110"><span class="linenos" data-linenos="1110 "></span></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">instance_group_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1111" name="__codelineno-0-1111"></a><a href="#__codelineno-0-1111"><span class="linenos" data-linenos="1111 "></span></a>    <span class="n">points</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-1112" name="__codelineno-0-1112"></a><a href="#__codelineno-0-1112"><span class="linenos" data-linenos="1112 "></span></a>    <span class="k">if</span> <span class="s2">&quot;points&quot;</span> <span class="ow">in</span> <span class="n">instance_group_dict</span><span class="p">:</span>
<a id="__codelineno-0-1113" name="__codelineno-0-1113"></a><a href="#__codelineno-0-1113"><span class="linenos" data-linenos="1113 "></span></a>        <span class="n">points</span> <span class="o">=</span> <span class="n">instance_group_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;points&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1114" name="__codelineno-0-1114"></a><a href="#__codelineno-0-1114"><span class="linenos" data-linenos="1114 "></span></a>
<a id="__codelineno-0-1115" name="__codelineno-0-1115"></a><a href="#__codelineno-0-1115"><span class="linenos" data-linenos="1115 "></span></a>    <span class="c1"># Metadata contains any information that the class does not deserialize.</span>
<a id="__codelineno-0-1116" name="__codelineno-0-1116"></a><a href="#__codelineno-0-1116"><span class="linenos" data-linenos="1116 "></span></a>    <span class="n">metadata</span> <span class="o">=</span> <span class="n">instance_group_dict</span>  <span class="c1"># Remaining keys are metadata.</span>
<a id="__codelineno-0-1117" name="__codelineno-0-1117"></a><a href="#__codelineno-0-1117"><span class="linenos" data-linenos="1117 "></span></a>
<a id="__codelineno-0-1118" name="__codelineno-0-1118"></a><a href="#__codelineno-0-1118"><span class="linenos" data-linenos="1118 "></span></a>    <span class="k">return</span> <span class="n">InstanceGroup</span><span class="p">(</span>
<a id="__codelineno-0-1119" name="__codelineno-0-1119"></a><a href="#__codelineno-0-1119"><span class="linenos" data-linenos="1119 "></span></a>        <span class="n">instance_by_camera</span><span class="o">=</span><span class="n">instance_by_camera</span><span class="p">,</span>
<a id="__codelineno-0-1120" name="__codelineno-0-1120"></a><a href="#__codelineno-0-1120"><span class="linenos" data-linenos="1120 "></span></a>        <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>
<a id="__codelineno-0-1121" name="__codelineno-0-1121"></a><a href="#__codelineno-0-1121"><span class="linenos" data-linenos="1121 "></span></a>        <span class="n">points</span><span class="o">=</span><span class="n">points</span><span class="p">,</span>
<a id="__codelineno-0-1122" name="__codelineno-0-1122"></a><a href="#__codelineno-0-1122"><span class="linenos" data-linenos="1122 "></span></a>        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
<a id="__codelineno-0-1123" name="__codelineno-0-1123"></a><a href="#__codelineno-0-1123"><span class="linenos" data-linenos="1123 "></span></a>    <span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.make_session" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_session</span><span class="p">(</span><span class="n">session_dict</span><span class="p">,</span> <span class="n">videos</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.make_session" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a <code>RecordingSession</code> from a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>session_dict</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with keys:
- "calibration": Dictionary containing calibration information for cameras.
- "camcorder_to_video_idx_map": Dictionary mapping camera index to video
    index.
- "frame_group_dicts": List of dictionaries containing <code>FrameGroup</code>
    information. See <code>make_frame_group</code> for what each dictionary contains.
- Any optional keys containing metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>videos_list</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List containing <code>Video</code> objects (expected <code>Labels.videos</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frames_list</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List containing <code>LabeledFrame</code> objects (expected
<code>Labels.labeled_frames</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;RecordingSession&lt;/code&gt; (&lt;code&gt;sleap_io.RecordingSession&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.RecordingSession">RecordingSession</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>RecordingSession</code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1264" name="__codelineno-0-1264"></a><a href="#__codelineno-0-1264"><span class="linenos" data-linenos="1264 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">make_session</span><span class="p">(</span>
<a id="__codelineno-0-1265" name="__codelineno-0-1265"></a><a href="#__codelineno-0-1265"><span class="linenos" data-linenos="1265 "></span></a>    <span class="n">session_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">videos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">],</span> <span class="n">labeled_frames</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">]</span>
<a id="__codelineno-0-1266" name="__codelineno-0-1266"></a><a href="#__codelineno-0-1266"><span class="linenos" data-linenos="1266 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RecordingSession</span><span class="p">:</span>
<a id="__codelineno-0-1267" name="__codelineno-0-1267"></a><a href="#__codelineno-0-1267"><span class="linenos" data-linenos="1267 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `RecordingSession` from a dictionary.</span>
<a id="__codelineno-0-1268" name="__codelineno-0-1268"></a><a href="#__codelineno-0-1268"><span class="linenos" data-linenos="1268 "></span></a>
<a id="__codelineno-0-1269" name="__codelineno-0-1269"></a><a href="#__codelineno-0-1269"><span class="linenos" data-linenos="1269 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1270" name="__codelineno-0-1270"></a><a href="#__codelineno-0-1270"><span class="linenos" data-linenos="1270 "></span></a><span class="sd">        session_dict: Dictionary with keys:</span>
<a id="__codelineno-0-1271" name="__codelineno-0-1271"></a><a href="#__codelineno-0-1271"><span class="linenos" data-linenos="1271 "></span></a><span class="sd">            - &quot;calibration&quot;: Dictionary containing calibration information for cameras.</span>
<a id="__codelineno-0-1272" name="__codelineno-0-1272"></a><a href="#__codelineno-0-1272"><span class="linenos" data-linenos="1272 "></span></a><span class="sd">            - &quot;camcorder_to_video_idx_map&quot;: Dictionary mapping camera index to video</span>
<a id="__codelineno-0-1273" name="__codelineno-0-1273"></a><a href="#__codelineno-0-1273"><span class="linenos" data-linenos="1273 "></span></a><span class="sd">                index.</span>
<a id="__codelineno-0-1274" name="__codelineno-0-1274"></a><a href="#__codelineno-0-1274"><span class="linenos" data-linenos="1274 "></span></a><span class="sd">            - &quot;frame_group_dicts&quot;: List of dictionaries containing `FrameGroup`</span>
<a id="__codelineno-0-1275" name="__codelineno-0-1275"></a><a href="#__codelineno-0-1275"><span class="linenos" data-linenos="1275 "></span></a><span class="sd">                information. See `make_frame_group` for what each dictionary contains.</span>
<a id="__codelineno-0-1276" name="__codelineno-0-1276"></a><a href="#__codelineno-0-1276"><span class="linenos" data-linenos="1276 "></span></a><span class="sd">            - Any optional keys containing metadata.</span>
<a id="__codelineno-0-1277" name="__codelineno-0-1277"></a><a href="#__codelineno-0-1277"><span class="linenos" data-linenos="1277 "></span></a><span class="sd">        videos_list: List containing `Video` objects (expected `Labels.videos`).</span>
<a id="__codelineno-0-1278" name="__codelineno-0-1278"></a><a href="#__codelineno-0-1278"><span class="linenos" data-linenos="1278 "></span></a><span class="sd">        labeled_frames_list: List containing `LabeledFrame` objects (expected</span>
<a id="__codelineno-0-1279" name="__codelineno-0-1279"></a><a href="#__codelineno-0-1279"><span class="linenos" data-linenos="1279 "></span></a><span class="sd">            `Labels.labeled_frames`).</span>
<a id="__codelineno-0-1280" name="__codelineno-0-1280"></a><a href="#__codelineno-0-1280"><span class="linenos" data-linenos="1280 "></span></a>
<a id="__codelineno-0-1281" name="__codelineno-0-1281"></a><a href="#__codelineno-0-1281"><span class="linenos" data-linenos="1281 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1282" name="__codelineno-0-1282"></a><a href="#__codelineno-0-1282"><span class="linenos" data-linenos="1282 "></span></a><span class="sd">        `RecordingSession` object.</span>
<a id="__codelineno-0-1283" name="__codelineno-0-1283"></a><a href="#__codelineno-0-1283"><span class="linenos" data-linenos="1283 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1284" name="__codelineno-0-1284"></a><a href="#__codelineno-0-1284"><span class="linenos" data-linenos="1284 "></span></a>    <span class="c1"># Avoid modifying original dictionary</span>
<a id="__codelineno-0-1285" name="__codelineno-0-1285"></a><a href="#__codelineno-0-1285"><span class="linenos" data-linenos="1285 "></span></a>    <span class="n">session_dict</span> <span class="o">=</span> <span class="n">session_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1286" name="__codelineno-0-1286"></a><a href="#__codelineno-0-1286"><span class="linenos" data-linenos="1286 "></span></a>
<a id="__codelineno-0-1287" name="__codelineno-0-1287"></a><a href="#__codelineno-0-1287"><span class="linenos" data-linenos="1287 "></span></a>    <span class="c1"># Restructure `RecordingSession` without `Video` to `Camera` mapping</span>
<a id="__codelineno-0-1288" name="__codelineno-0-1288"></a><a href="#__codelineno-0-1288"><span class="linenos" data-linenos="1288 "></span></a>    <span class="n">calibration_dict</span> <span class="o">=</span> <span class="n">session_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;calibration&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1289" name="__codelineno-0-1289"></a><a href="#__codelineno-0-1289"><span class="linenos" data-linenos="1289 "></span></a>    <span class="n">camera_group</span> <span class="o">=</span> <span class="n">make_camera_group</span><span class="p">(</span><span class="n">calibration_dict</span><span class="p">)</span>
<a id="__codelineno-0-1290" name="__codelineno-0-1290"></a><a href="#__codelineno-0-1290"><span class="linenos" data-linenos="1290 "></span></a>
<a id="__codelineno-0-1291" name="__codelineno-0-1291"></a><a href="#__codelineno-0-1291"><span class="linenos" data-linenos="1291 "></span></a>    <span class="c1"># Retrieve all `Camera` and `Video` objects, then add to `RecordingSession`</span>
<a id="__codelineno-0-1292" name="__codelineno-0-1292"></a><a href="#__codelineno-0-1292"><span class="linenos" data-linenos="1292 "></span></a>    <span class="n">camcorder_to_video_idx_map</span> <span class="o">=</span> <span class="n">session_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;camcorder_to_video_idx_map&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1293" name="__codelineno-0-1293"></a><a href="#__codelineno-0-1293"><span class="linenos" data-linenos="1293 "></span></a>    <span class="n">video_by_camera</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1294" name="__codelineno-0-1294"></a><a href="#__codelineno-0-1294"><span class="linenos" data-linenos="1294 "></span></a>    <span class="n">camera_by_video</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1295" name="__codelineno-0-1295"></a><a href="#__codelineno-0-1295"><span class="linenos" data-linenos="1295 "></span></a>    <span class="k">for</span> <span class="n">cam_idx</span><span class="p">,</span> <span class="n">video_idx</span> <span class="ow">in</span> <span class="n">camcorder_to_video_idx_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-1296" name="__codelineno-0-1296"></a><a href="#__codelineno-0-1296"><span class="linenos" data-linenos="1296 "></span></a>        <span class="n">camera</span> <span class="o">=</span> <span class="n">camera_group</span><span class="o">.</span><span class="n">cameras</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cam_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1297" name="__codelineno-0-1297"></a><a href="#__codelineno-0-1297"><span class="linenos" data-linenos="1297 "></span></a>        <span class="n">video</span> <span class="o">=</span> <span class="n">videos</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">video_idx</span><span class="p">)]</span>
<a id="__codelineno-0-1298" name="__codelineno-0-1298"></a><a href="#__codelineno-0-1298"><span class="linenos" data-linenos="1298 "></span></a>        <span class="n">video_by_camera</span><span class="p">[</span><span class="n">camera</span><span class="p">]</span> <span class="o">=</span> <span class="n">video</span>
<a id="__codelineno-0-1299" name="__codelineno-0-1299"></a><a href="#__codelineno-0-1299"><span class="linenos" data-linenos="1299 "></span></a>        <span class="n">camera_by_video</span><span class="p">[</span><span class="n">video</span><span class="p">]</span> <span class="o">=</span> <span class="n">camera</span>
<a id="__codelineno-0-1300" name="__codelineno-0-1300"></a><a href="#__codelineno-0-1300"><span class="linenos" data-linenos="1300 "></span></a>
<a id="__codelineno-0-1301" name="__codelineno-0-1301"></a><a href="#__codelineno-0-1301"><span class="linenos" data-linenos="1301 "></span></a>    <span class="c1"># Reconstruct all `FrameGroup` objects and add to `RecordingSession`</span>
<a id="__codelineno-0-1302" name="__codelineno-0-1302"></a><a href="#__codelineno-0-1302"><span class="linenos" data-linenos="1302 "></span></a>    <span class="n">frame_group_dicts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1303" name="__codelineno-0-1303"></a><a href="#__codelineno-0-1303"><span class="linenos" data-linenos="1303 "></span></a>    <span class="k">if</span> <span class="s2">&quot;frame_group_dicts&quot;</span> <span class="ow">in</span> <span class="n">session_dict</span><span class="p">:</span>
<a id="__codelineno-0-1304" name="__codelineno-0-1304"></a><a href="#__codelineno-0-1304"><span class="linenos" data-linenos="1304 "></span></a>        <span class="n">frame_group_dicts</span> <span class="o">=</span> <span class="n">session_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;frame_group_dicts&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1305" name="__codelineno-0-1305"></a><a href="#__codelineno-0-1305"><span class="linenos" data-linenos="1305 "></span></a>    <span class="n">frame_group_by_frame_idx</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1306" name="__codelineno-0-1306"></a><a href="#__codelineno-0-1306"><span class="linenos" data-linenos="1306 "></span></a>    <span class="k">for</span> <span class="n">frame_group_dict</span> <span class="ow">in</span> <span class="n">frame_group_dicts</span><span class="p">:</span>
<a id="__codelineno-0-1307" name="__codelineno-0-1307"></a><a href="#__codelineno-0-1307"><span class="linenos" data-linenos="1307 "></span></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1308" name="__codelineno-0-1308"></a><a href="#__codelineno-0-1308"><span class="linenos" data-linenos="1308 "></span></a>            <span class="c1"># Add `FrameGroup` to `RecordingSession`</span>
<a id="__codelineno-0-1309" name="__codelineno-0-1309"></a><a href="#__codelineno-0-1309"><span class="linenos" data-linenos="1309 "></span></a>            <span class="n">frame_group</span> <span class="o">=</span> <span class="n">make_frame_group</span><span class="p">(</span>
<a id="__codelineno-0-1310" name="__codelineno-0-1310"></a><a href="#__codelineno-0-1310"><span class="linenos" data-linenos="1310 "></span></a>                <span class="n">frame_group_dict</span><span class="o">=</span><span class="n">frame_group_dict</span><span class="p">,</span>
<a id="__codelineno-0-1311" name="__codelineno-0-1311"></a><a href="#__codelineno-0-1311"><span class="linenos" data-linenos="1311 "></span></a>                <span class="n">labeled_frames</span><span class="o">=</span><span class="n">labeled_frames</span><span class="p">,</span>
<a id="__codelineno-0-1312" name="__codelineno-0-1312"></a><a href="#__codelineno-0-1312"><span class="linenos" data-linenos="1312 "></span></a>                <span class="n">camera_group</span><span class="o">=</span><span class="n">camera_group</span><span class="p">,</span>
<a id="__codelineno-0-1313" name="__codelineno-0-1313"></a><a href="#__codelineno-0-1313"><span class="linenos" data-linenos="1313 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-1314" name="__codelineno-0-1314"></a><a href="#__codelineno-0-1314"><span class="linenos" data-linenos="1314 "></span></a>            <span class="n">frame_group_by_frame_idx</span><span class="p">[</span><span class="n">frame_group</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame_group</span>
<a id="__codelineno-0-1315" name="__codelineno-0-1315"></a><a href="#__codelineno-0-1315"><span class="linenos" data-linenos="1315 "></span></a>        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-1316" name="__codelineno-0-1316"></a><a href="#__codelineno-0-1316"><span class="linenos" data-linenos="1316 "></span></a>            <span class="nb">print</span><span class="p">(</span>
<a id="__codelineno-0-1317" name="__codelineno-0-1317"></a><a href="#__codelineno-0-1317"><span class="linenos" data-linenos="1317 "></span></a>                <span class="sa">f</span><span class="s2">&quot;Error reconstructing FrameGroup: </span><span class="si">{</span><span class="n">frame_group_dict</span><span class="si">}</span><span class="s2">. Skipping...&quot;</span>
<a id="__codelineno-0-1318" name="__codelineno-0-1318"></a><a href="#__codelineno-0-1318"><span class="linenos" data-linenos="1318 "></span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-1319" name="__codelineno-0-1319"></a><a href="#__codelineno-0-1319"><span class="linenos" data-linenos="1319 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-1320" name="__codelineno-0-1320"></a><a href="#__codelineno-0-1320"><span class="linenos" data-linenos="1320 "></span></a>
<a id="__codelineno-0-1321" name="__codelineno-0-1321"></a><a href="#__codelineno-0-1321"><span class="linenos" data-linenos="1321 "></span></a>    <span class="n">session</span> <span class="o">=</span> <span class="n">RecordingSession</span><span class="p">(</span>
<a id="__codelineno-0-1322" name="__codelineno-0-1322"></a><a href="#__codelineno-0-1322"><span class="linenos" data-linenos="1322 "></span></a>        <span class="n">camera_group</span><span class="o">=</span><span class="n">camera_group</span><span class="p">,</span>
<a id="__codelineno-0-1323" name="__codelineno-0-1323"></a><a href="#__codelineno-0-1323"><span class="linenos" data-linenos="1323 "></span></a>        <span class="n">video_by_camera</span><span class="o">=</span><span class="n">video_by_camera</span><span class="p">,</span>
<a id="__codelineno-0-1324" name="__codelineno-0-1324"></a><a href="#__codelineno-0-1324"><span class="linenos" data-linenos="1324 "></span></a>        <span class="n">camera_by_video</span><span class="o">=</span><span class="n">camera_by_video</span><span class="p">,</span>
<a id="__codelineno-0-1325" name="__codelineno-0-1325"></a><a href="#__codelineno-0-1325"><span class="linenos" data-linenos="1325 "></span></a>        <span class="n">frame_group_by_frame_idx</span><span class="o">=</span><span class="n">frame_group_by_frame_idx</span><span class="p">,</span>
<a id="__codelineno-0-1326" name="__codelineno-0-1326"></a><a href="#__codelineno-0-1326"><span class="linenos" data-linenos="1326 "></span></a>        <span class="n">metadata</span><span class="o">=</span><span class="n">session_dict</span><span class="p">,</span>
<a id="__codelineno-0-1327" name="__codelineno-0-1327"></a><a href="#__codelineno-0-1327"><span class="linenos" data-linenos="1327 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-1328" name="__codelineno-0-1328"></a><a href="#__codelineno-0-1328"><span class="linenos" data-linenos="1328 "></span></a>
<a id="__codelineno-0-1329" name="__codelineno-0-1329"></a><a href="#__codelineno-0-1329"><span class="linenos" data-linenos="1329 "></span></a>    <span class="k">return</span> <span class="n">session</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.make_video" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_video</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">video_json</span><span class="p">,</span> <span class="n">open_backend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.make_video" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a <code>Video</code> object from a JSON dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>video_json</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the video metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>open_backend</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code> (the default), attempt to open the video backend for
I/O. If <code>False</code>, the backend will not be opened (useful for reading metadata
when the video files are not available).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-63" name="__codelineno-0-63"></a><a href="#__codelineno-0-63"><span class="linenos" data-linenos=" 63 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">make_video</span><span class="p">(</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><a href="#__codelineno-0-64"><span class="linenos" data-linenos=" 64 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><a href="#__codelineno-0-65"><span class="linenos" data-linenos=" 65 "></span></a>    <span class="n">video_json</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><a href="#__codelineno-0-66"><span class="linenos" data-linenos=" 66 "></span></a>    <span class="n">open_backend</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><a href="#__codelineno-0-67"><span class="linenos" data-linenos=" 67 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Video</span><span class="p">:</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><a href="#__codelineno-0-68"><span class="linenos" data-linenos=" 68 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `Video` object from a JSON dictionary.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><a href="#__codelineno-0-69"><span class="linenos" data-linenos=" 69 "></span></a>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><a href="#__codelineno-0-70"><span class="linenos" data-linenos=" 70 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><a href="#__codelineno-0-71"><span class="linenos" data-linenos=" 71 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><a href="#__codelineno-0-72"><span class="linenos" data-linenos=" 72 "></span></a><span class="sd">        video_json: A dictionary containing the video metadata.</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><a href="#__codelineno-0-73"><span class="linenos" data-linenos=" 73 "></span></a><span class="sd">        open_backend: If `True` (the default), attempt to open the video backend for</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><a href="#__codelineno-0-74"><span class="linenos" data-linenos=" 74 "></span></a><span class="sd">            I/O. If `False`, the backend will not be opened (useful for reading metadata</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><a href="#__codelineno-0-75"><span class="linenos" data-linenos=" 75 "></span></a><span class="sd">            when the video files are not available).</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><a href="#__codelineno-0-76"><span class="linenos" data-linenos=" 76 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><a href="#__codelineno-0-77"><span class="linenos" data-linenos=" 77 "></span></a>    <span class="n">backend_metadata</span> <span class="o">=</span> <span class="n">video_json</span><span class="p">[</span><span class="s2">&quot;backend&quot;</span><span class="p">]</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><a href="#__codelineno-0-78"><span class="linenos" data-linenos=" 78 "></span></a>    <span class="n">video_path</span> <span class="o">=</span> <span class="n">backend_metadata</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><a href="#__codelineno-0-79"><span class="linenos" data-linenos=" 79 "></span></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><a href="#__codelineno-0-80"><span class="linenos" data-linenos=" 80 "></span></a>    <span class="c1"># Marker for embedded videos.</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><a href="#__codelineno-0-81"><span class="linenos" data-linenos=" 81 "></span></a>    <span class="n">source_video</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><a href="#__codelineno-0-82"><span class="linenos" data-linenos=" 82 "></span></a>    <span class="n">is_embedded</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><a href="#__codelineno-0-83"><span class="linenos" data-linenos=" 83 "></span></a>    <span class="k">if</span> <span class="n">video_path</span> <span class="o">==</span> <span class="s2">&quot;.&quot;</span><span class="p">:</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><a href="#__codelineno-0-84"><span class="linenos" data-linenos=" 84 "></span></a>        <span class="n">video_path</span> <span class="o">=</span> <span class="n">labels_path</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><a href="#__codelineno-0-85"><span class="linenos" data-linenos=" 85 "></span></a>        <span class="n">is_embedded</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><a href="#__codelineno-0-86"><span class="linenos" data-linenos=" 86 "></span></a>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><a href="#__codelineno-0-87"><span class="linenos" data-linenos=" 87 "></span></a>    <span class="c1"># Basic path resolution.</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><a href="#__codelineno-0-88"><span class="linenos" data-linenos=" 88 "></span></a>    <span class="n">video_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">sanitize_filename</span><span class="p">(</span><span class="n">video_path</span><span class="p">))</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><a href="#__codelineno-0-89"><span class="linenos" data-linenos=" 89 "></span></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><a href="#__codelineno-0-90"><span class="linenos" data-linenos=" 90 "></span></a>    <span class="k">if</span> <span class="n">is_embedded</span><span class="p">:</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><a href="#__codelineno-0-91"><span class="linenos" data-linenos=" 91 "></span></a>        <span class="c1"># Try to recover the source video.</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><a href="#__codelineno-0-92"><span class="linenos" data-linenos=" 92 "></span></a>        <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><a href="#__codelineno-0-93"><span class="linenos" data-linenos=" 93 "></span></a>            <span class="n">dataset</span> <span class="o">=</span> <span class="n">backend_metadata</span><span class="p">[</span><span class="s2">&quot;dataset&quot;</span><span class="p">]</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><a href="#__codelineno-0-94"><span class="linenos" data-linenos=" 94 "></span></a>            <span class="k">if</span> <span class="n">dataset</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/video&quot;</span><span class="p">):</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><a href="#__codelineno-0-95"><span class="linenos" data-linenos=" 95 "></span></a>                <span class="n">dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><a href="#__codelineno-0-96"><span class="linenos" data-linenos=" 96 "></span></a>            <span class="k">if</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">f</span> <span class="ow">and</span> <span class="s2">&quot;source_video&quot;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="n">dataset</span><span class="p">]:</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><a href="#__codelineno-0-97"><span class="linenos" data-linenos=" 97 "></span></a>                <span class="n">source_video_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><a href="#__codelineno-0-98"><span class="linenos" data-linenos=" 98 "></span></a>                    <span class="n">f</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/source_video&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">]</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><a href="#__codelineno-0-99"><span class="linenos" data-linenos=" 99 "></span></a>                <span class="p">)</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><a href="#__codelineno-0-100"><span class="linenos" data-linenos="100 "></span></a>                <span class="n">source_video</span> <span class="o">=</span> <span class="n">make_video</span><span class="p">(</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><a href="#__codelineno-0-101"><span class="linenos" data-linenos="101 "></span></a>                    <span class="n">labels_path</span><span class="p">,</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><a href="#__codelineno-0-102"><span class="linenos" data-linenos="102 "></span></a>                    <span class="n">source_video_json</span><span class="p">,</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><a href="#__codelineno-0-103"><span class="linenos" data-linenos="103 "></span></a>                    <span class="n">open_backend</span><span class="o">=</span><span class="n">open_backend</span><span class="p">,</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><a href="#__codelineno-0-104"><span class="linenos" data-linenos="104 "></span></a>                <span class="p">)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><a href="#__codelineno-0-105"><span class="linenos" data-linenos="105 "></span></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><a href="#__codelineno-0-106"><span class="linenos" data-linenos="106 "></span></a>    <span class="n">backend</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><a href="#__codelineno-0-107"><span class="linenos" data-linenos="107 "></span></a>    <span class="k">if</span> <span class="n">open_backend</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><a href="#__codelineno-0-108"><span class="linenos" data-linenos="108 "></span></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><a href="#__codelineno-0-109"><span class="linenos" data-linenos="109 "></span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_file_accessible</span><span class="p">(</span><span class="n">video_path</span><span class="p">):</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><a href="#__codelineno-0-110"><span class="linenos" data-linenos="110 "></span></a>                <span class="c1"># Check for the same filename in the same directory as the labels file.</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><a href="#__codelineno-0-111"><span class="linenos" data-linenos="111 "></span></a>                <span class="n">candidate_video_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="n">video_path</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><a href="#__codelineno-0-112"><span class="linenos" data-linenos="112 "></span></a>                <span class="k">if</span> <span class="n">is_file_accessible</span><span class="p">(</span><span class="n">candidate_video_path</span><span class="p">):</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><a href="#__codelineno-0-113"><span class="linenos" data-linenos="113 "></span></a>                    <span class="n">video_path</span> <span class="o">=</span> <span class="n">candidate_video_path</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><a href="#__codelineno-0-114"><span class="linenos" data-linenos="114 "></span></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><a href="#__codelineno-0-115"><span class="linenos" data-linenos="115 "></span></a>                    <span class="c1"># TODO (TP): Expand capabilities of path resolution to support more</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><a href="#__codelineno-0-116"><span class="linenos" data-linenos="116 "></span></a>                    <span class="c1"># complex path finding strategies.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><a href="#__codelineno-0-117"><span class="linenos" data-linenos="117 "></span></a>                    <span class="k">pass</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><a href="#__codelineno-0-118"><span class="linenos" data-linenos="118 "></span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">PermissionError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><a href="#__codelineno-0-119"><span class="linenos" data-linenos="119 "></span></a>            <span class="k">pass</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><a href="#__codelineno-0-120"><span class="linenos" data-linenos="120 "></span></a>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><a href="#__codelineno-0-121"><span class="linenos" data-linenos="121 "></span></a>        <span class="c1"># Convert video path to string.</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><a href="#__codelineno-0-122"><span class="linenos" data-linenos="122 "></span></a>        <span class="n">video_path</span> <span class="o">=</span> <span class="n">video_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><a href="#__codelineno-0-123"><span class="linenos" data-linenos="123 "></span></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><a href="#__codelineno-0-124"><span class="linenos" data-linenos="124 "></span></a>        <span class="k">if</span> <span class="s2">&quot;filenames&quot;</span> <span class="ow">in</span> <span class="n">backend_metadata</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><a href="#__codelineno-0-125"><span class="linenos" data-linenos="125 "></span></a>            <span class="c1"># This is an ImageVideo.</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><a href="#__codelineno-0-126"><span class="linenos" data-linenos="126 "></span></a>            <span class="c1"># TODO: Path resolution.</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><a href="#__codelineno-0-127"><span class="linenos" data-linenos="127 "></span></a>            <span class="n">video_path</span> <span class="o">=</span> <span class="n">backend_metadata</span><span class="p">[</span><span class="s2">&quot;filenames&quot;</span><span class="p">]</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><a href="#__codelineno-0-128"><span class="linenos" data-linenos="128 "></span></a>            <span class="n">video_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">Path</span><span class="p">(</span><span class="n">sanitize_filename</span><span class="p">(</span><span class="n">p</span><span class="p">))</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">video_path</span><span class="p">]</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><a href="#__codelineno-0-129"><span class="linenos" data-linenos="129 "></span></a>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><a href="#__codelineno-0-130"><span class="linenos" data-linenos="130 "></span></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><a href="#__codelineno-0-131"><span class="linenos" data-linenos="131 "></span></a>            <span class="n">grayscale</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><a href="#__codelineno-0-132"><span class="linenos" data-linenos="132 "></span></a>            <span class="k">if</span> <span class="s2">&quot;grayscale&quot;</span> <span class="ow">in</span> <span class="n">backend_metadata</span><span class="p">:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><a href="#__codelineno-0-133"><span class="linenos" data-linenos="133 "></span></a>                <span class="n">grayscale</span> <span class="o">=</span> <span class="n">backend_metadata</span><span class="p">[</span><span class="s2">&quot;grayscale&quot;</span><span class="p">]</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><a href="#__codelineno-0-134"><span class="linenos" data-linenos="134 "></span></a>            <span class="k">elif</span> <span class="s2">&quot;shape&quot;</span> <span class="ow">in</span> <span class="n">backend_metadata</span><span class="p">:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><a href="#__codelineno-0-135"><span class="linenos" data-linenos="135 "></span></a>                <span class="n">grayscale</span> <span class="o">=</span> <span class="n">backend_metadata</span><span class="p">[</span><span class="s2">&quot;shape&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><a href="#__codelineno-0-136"><span class="linenos" data-linenos="136 "></span></a>            <span class="n">backend</span> <span class="o">=</span> <span class="n">VideoBackend</span><span class="o">.</span><span class="n">from_filename</span><span class="p">(</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><a href="#__codelineno-0-137"><span class="linenos" data-linenos="137 "></span></a>                <span class="n">video_path</span><span class="p">,</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><a href="#__codelineno-0-138"><span class="linenos" data-linenos="138 "></span></a>                <span class="n">dataset</span><span class="o">=</span><span class="n">backend_metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dataset&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><a href="#__codelineno-0-139"><span class="linenos" data-linenos="139 "></span></a>                <span class="n">grayscale</span><span class="o">=</span><span class="n">grayscale</span><span class="p">,</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><a href="#__codelineno-0-140"><span class="linenos" data-linenos="140 "></span></a>                <span class="n">input_format</span><span class="o">=</span><span class="n">backend_metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_format&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><a href="#__codelineno-0-141"><span class="linenos" data-linenos="141 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><a href="#__codelineno-0-142"><span class="linenos" data-linenos="142 "></span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><a href="#__codelineno-0-143"><span class="linenos" data-linenos="143 "></span></a>            <span class="n">backend</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><a href="#__codelineno-0-144"><span class="linenos" data-linenos="144 "></span></a>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><a href="#__codelineno-0-145"><span class="linenos" data-linenos="145 "></span></a>    <span class="k">return</span> <span class="n">Video</span><span class="p">(</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><a href="#__codelineno-0-146"><span class="linenos" data-linenos="146 "></span></a>        <span class="n">filename</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><a href="#__codelineno-0-147"><span class="linenos" data-linenos="147 "></span></a>        <span class="n">backend</span><span class="o">=</span><span class="n">backend</span><span class="p">,</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><a href="#__codelineno-0-148"><span class="linenos" data-linenos="148 "></span></a>        <span class="n">backend_metadata</span><span class="o">=</span><span class="n">backend_metadata</span><span class="p">,</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><a href="#__codelineno-0-149"><span class="linenos" data-linenos="149 "></span></a>        <span class="n">source_video</span><span class="o">=</span><span class="n">source_video</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><a href="#__codelineno-0-150"><span class="linenos" data-linenos="150 "></span></a>        <span class="n">open_backend</span><span class="o">=</span><span class="n">open_backend</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><a href="#__codelineno-0-151"><span class="linenos" data-linenos="151 "></span></a>    <span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_instances" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_instances</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">skeletons</span><span class="p">,</span> <span class="n">tracks</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">pred_points</span><span class="p">,</span> <span class="n">format_id</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_instances" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read <code>Instance</code> dataset in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skeletons</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Skeleton&lt;/code&gt;" href="../../../../model/#sleap_io.Skeleton">Skeleton</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Skeleton</code> objects (see <code>read_skeletons</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tracks</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Track&lt;/code&gt;" href="../../../../model/#sleap_io.Track">Track</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Track</code> objects (see <code>read_tracks</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A structured array of point data (see <code>read_points</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pred_points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A structured array of predicted point data (see
<code>read_pred_points</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>format_id</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format version identifier used to specify the format of the input
file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Instance&lt;/code&gt;" href="../../../../model/#sleap_io.Instance">Instance</a>, <a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.PredictedInstance&lt;/code&gt;" href="../../../../model/#sleap_io.PredictedInstance">PredictedInstance</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Instance</code> and/or <code>PredictedInstance</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-816" name="__codelineno-0-816"></a><a href="#__codelineno-0-816"><span class="linenos" data-linenos="816 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_instances</span><span class="p">(</span>
<a id="__codelineno-0-817" name="__codelineno-0-817"></a><a href="#__codelineno-0-817"><span class="linenos" data-linenos="817 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-818" name="__codelineno-0-818"></a><a href="#__codelineno-0-818"><span class="linenos" data-linenos="818 "></span></a>    <span class="n">skeletons</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Skeleton</span><span class="p">],</span>
<a id="__codelineno-0-819" name="__codelineno-0-819"></a><a href="#__codelineno-0-819"><span class="linenos" data-linenos="819 "></span></a>    <span class="n">tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Track</span><span class="p">],</span>
<a id="__codelineno-0-820" name="__codelineno-0-820"></a><a href="#__codelineno-0-820"><span class="linenos" data-linenos="820 "></span></a>    <span class="n">points</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-821" name="__codelineno-0-821"></a><a href="#__codelineno-0-821"><span class="linenos" data-linenos="821 "></span></a>    <span class="n">pred_points</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-822" name="__codelineno-0-822"></a><a href="#__codelineno-0-822"><span class="linenos" data-linenos="822 "></span></a>    <span class="n">format_id</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<a id="__codelineno-0-823" name="__codelineno-0-823"></a><a href="#__codelineno-0-823"><span class="linenos" data-linenos="823 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Instance</span><span class="p">,</span> <span class="n">PredictedInstance</span><span class="p">]]:</span>
<a id="__codelineno-0-824" name="__codelineno-0-824"></a><a href="#__codelineno-0-824"><span class="linenos" data-linenos="824 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read `Instance` dataset in a SLEAP labels file.</span>
<a id="__codelineno-0-825" name="__codelineno-0-825"></a><a href="#__codelineno-0-825"><span class="linenos" data-linenos="825 "></span></a>
<a id="__codelineno-0-826" name="__codelineno-0-826"></a><a href="#__codelineno-0-826"><span class="linenos" data-linenos="826 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-827" name="__codelineno-0-827"></a><a href="#__codelineno-0-827"><span class="linenos" data-linenos="827 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-828" name="__codelineno-0-828"></a><a href="#__codelineno-0-828"><span class="linenos" data-linenos="828 "></span></a><span class="sd">        skeletons: A list of `Skeleton` objects (see `read_skeletons`).</span>
<a id="__codelineno-0-829" name="__codelineno-0-829"></a><a href="#__codelineno-0-829"><span class="linenos" data-linenos="829 "></span></a><span class="sd">        tracks: A list of `Track` objects (see `read_tracks`).</span>
<a id="__codelineno-0-830" name="__codelineno-0-830"></a><a href="#__codelineno-0-830"><span class="linenos" data-linenos="830 "></span></a><span class="sd">        points: A structured array of point data (see `read_points`).</span>
<a id="__codelineno-0-831" name="__codelineno-0-831"></a><a href="#__codelineno-0-831"><span class="linenos" data-linenos="831 "></span></a><span class="sd">        pred_points: A structured array of predicted point data (see</span>
<a id="__codelineno-0-832" name="__codelineno-0-832"></a><a href="#__codelineno-0-832"><span class="linenos" data-linenos="832 "></span></a><span class="sd">            `read_pred_points`).</span>
<a id="__codelineno-0-833" name="__codelineno-0-833"></a><a href="#__codelineno-0-833"><span class="linenos" data-linenos="833 "></span></a><span class="sd">        format_id: The format version identifier used to specify the format of the input</span>
<a id="__codelineno-0-834" name="__codelineno-0-834"></a><a href="#__codelineno-0-834"><span class="linenos" data-linenos="834 "></span></a><span class="sd">            file.</span>
<a id="__codelineno-0-835" name="__codelineno-0-835"></a><a href="#__codelineno-0-835"><span class="linenos" data-linenos="835 "></span></a>
<a id="__codelineno-0-836" name="__codelineno-0-836"></a><a href="#__codelineno-0-836"><span class="linenos" data-linenos="836 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-837" name="__codelineno-0-837"></a><a href="#__codelineno-0-837"><span class="linenos" data-linenos="837 "></span></a><span class="sd">        A list of `Instance` and/or `PredictedInstance` objects.</span>
<a id="__codelineno-0-838" name="__codelineno-0-838"></a><a href="#__codelineno-0-838"><span class="linenos" data-linenos="838 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-839" name="__codelineno-0-839"></a><a href="#__codelineno-0-839"><span class="linenos" data-linenos="839 "></span></a>    <span class="n">instances_data</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;instances&quot;</span><span class="p">)</span>
<a id="__codelineno-0-840" name="__codelineno-0-840"></a><a href="#__codelineno-0-840"><span class="linenos" data-linenos="840 "></span></a>
<a id="__codelineno-0-841" name="__codelineno-0-841"></a><a href="#__codelineno-0-841"><span class="linenos" data-linenos="841 "></span></a>    <span class="n">instances</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-842" name="__codelineno-0-842"></a><a href="#__codelineno-0-842"><span class="linenos" data-linenos="842 "></span></a>    <span class="n">from_predicted_pairs</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-843" name="__codelineno-0-843"></a><a href="#__codelineno-0-843"><span class="linenos" data-linenos="843 "></span></a>    <span class="k">for</span> <span class="n">instance_data</span> <span class="ow">in</span> <span class="n">instances_data</span><span class="p">:</span>
<a id="__codelineno-0-844" name="__codelineno-0-844"></a><a href="#__codelineno-0-844"><span class="linenos" data-linenos="844 "></span></a>        <span class="k">if</span> <span class="n">format_id</span> <span class="o">&lt;</span> <span class="mf">1.2</span><span class="p">:</span>
<a id="__codelineno-0-845" name="__codelineno-0-845"></a><a href="#__codelineno-0-845"><span class="linenos" data-linenos="845 "></span></a>            <span class="p">(</span>
<a id="__codelineno-0-846" name="__codelineno-0-846"></a><a href="#__codelineno-0-846"><span class="linenos" data-linenos="846 "></span></a>                <span class="n">instance_id</span><span class="p">,</span>
<a id="__codelineno-0-847" name="__codelineno-0-847"></a><a href="#__codelineno-0-847"><span class="linenos" data-linenos="847 "></span></a>                <span class="n">instance_type</span><span class="p">,</span>
<a id="__codelineno-0-848" name="__codelineno-0-848"></a><a href="#__codelineno-0-848"><span class="linenos" data-linenos="848 "></span></a>                <span class="n">frame_id</span><span class="p">,</span>
<a id="__codelineno-0-849" name="__codelineno-0-849"></a><a href="#__codelineno-0-849"><span class="linenos" data-linenos="849 "></span></a>                <span class="n">skeleton_id</span><span class="p">,</span>
<a id="__codelineno-0-850" name="__codelineno-0-850"></a><a href="#__codelineno-0-850"><span class="linenos" data-linenos="850 "></span></a>                <span class="n">track_id</span><span class="p">,</span>
<a id="__codelineno-0-851" name="__codelineno-0-851"></a><a href="#__codelineno-0-851"><span class="linenos" data-linenos="851 "></span></a>                <span class="n">from_predicted</span><span class="p">,</span>
<a id="__codelineno-0-852" name="__codelineno-0-852"></a><a href="#__codelineno-0-852"><span class="linenos" data-linenos="852 "></span></a>                <span class="n">instance_score</span><span class="p">,</span>
<a id="__codelineno-0-853" name="__codelineno-0-853"></a><a href="#__codelineno-0-853"><span class="linenos" data-linenos="853 "></span></a>                <span class="n">point_id_start</span><span class="p">,</span>
<a id="__codelineno-0-854" name="__codelineno-0-854"></a><a href="#__codelineno-0-854"><span class="linenos" data-linenos="854 "></span></a>                <span class="n">point_id_end</span><span class="p">,</span>
<a id="__codelineno-0-855" name="__codelineno-0-855"></a><a href="#__codelineno-0-855"><span class="linenos" data-linenos="855 "></span></a>            <span class="p">)</span> <span class="o">=</span> <span class="n">instance_data</span>
<a id="__codelineno-0-856" name="__codelineno-0-856"></a><a href="#__codelineno-0-856"><span class="linenos" data-linenos="856 "></span></a>            <span class="n">tracking_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">instance_score</span><span class="p">)</span>
<a id="__codelineno-0-857" name="__codelineno-0-857"></a><a href="#__codelineno-0-857"><span class="linenos" data-linenos="857 "></span></a>        <span class="k">elif</span> <span class="n">format_id</span> <span class="o">&gt;=</span> <span class="mf">1.2</span><span class="p">:</span>
<a id="__codelineno-0-858" name="__codelineno-0-858"></a><a href="#__codelineno-0-858"><span class="linenos" data-linenos="858 "></span></a>            <span class="p">(</span>
<a id="__codelineno-0-859" name="__codelineno-0-859"></a><a href="#__codelineno-0-859"><span class="linenos" data-linenos="859 "></span></a>                <span class="n">instance_id</span><span class="p">,</span>
<a id="__codelineno-0-860" name="__codelineno-0-860"></a><a href="#__codelineno-0-860"><span class="linenos" data-linenos="860 "></span></a>                <span class="n">instance_type</span><span class="p">,</span>
<a id="__codelineno-0-861" name="__codelineno-0-861"></a><a href="#__codelineno-0-861"><span class="linenos" data-linenos="861 "></span></a>                <span class="n">frame_id</span><span class="p">,</span>
<a id="__codelineno-0-862" name="__codelineno-0-862"></a><a href="#__codelineno-0-862"><span class="linenos" data-linenos="862 "></span></a>                <span class="n">skeleton_id</span><span class="p">,</span>
<a id="__codelineno-0-863" name="__codelineno-0-863"></a><a href="#__codelineno-0-863"><span class="linenos" data-linenos="863 "></span></a>                <span class="n">track_id</span><span class="p">,</span>
<a id="__codelineno-0-864" name="__codelineno-0-864"></a><a href="#__codelineno-0-864"><span class="linenos" data-linenos="864 "></span></a>                <span class="n">from_predicted</span><span class="p">,</span>
<a id="__codelineno-0-865" name="__codelineno-0-865"></a><a href="#__codelineno-0-865"><span class="linenos" data-linenos="865 "></span></a>                <span class="n">instance_score</span><span class="p">,</span>
<a id="__codelineno-0-866" name="__codelineno-0-866"></a><a href="#__codelineno-0-866"><span class="linenos" data-linenos="866 "></span></a>                <span class="n">point_id_start</span><span class="p">,</span>
<a id="__codelineno-0-867" name="__codelineno-0-867"></a><a href="#__codelineno-0-867"><span class="linenos" data-linenos="867 "></span></a>                <span class="n">point_id_end</span><span class="p">,</span>
<a id="__codelineno-0-868" name="__codelineno-0-868"></a><a href="#__codelineno-0-868"><span class="linenos" data-linenos="868 "></span></a>                <span class="n">tracking_score</span><span class="p">,</span>
<a id="__codelineno-0-869" name="__codelineno-0-869"></a><a href="#__codelineno-0-869"><span class="linenos" data-linenos="869 "></span></a>            <span class="p">)</span> <span class="o">=</span> <span class="n">instance_data</span>
<a id="__codelineno-0-870" name="__codelineno-0-870"></a><a href="#__codelineno-0-870"><span class="linenos" data-linenos="870 "></span></a>
<a id="__codelineno-0-871" name="__codelineno-0-871"></a><a href="#__codelineno-0-871"><span class="linenos" data-linenos="871 "></span></a>        <span class="n">skeleton</span> <span class="o">=</span> <span class="n">skeletons</span><span class="p">[</span><span class="n">skeleton_id</span><span class="p">]</span>
<a id="__codelineno-0-872" name="__codelineno-0-872"></a><a href="#__codelineno-0-872"><span class="linenos" data-linenos="872 "></span></a>        <span class="n">track</span> <span class="o">=</span> <span class="n">tracks</span><span class="p">[</span><span class="n">track_id</span><span class="p">]</span> <span class="k">if</span> <span class="n">track_id</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-873" name="__codelineno-0-873"></a><a href="#__codelineno-0-873"><span class="linenos" data-linenos="873 "></span></a>
<a id="__codelineno-0-874" name="__codelineno-0-874"></a><a href="#__codelineno-0-874"><span class="linenos" data-linenos="874 "></span></a>        <span class="k">if</span> <span class="n">instance_type</span> <span class="o">==</span> <span class="n">InstanceType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
<a id="__codelineno-0-875" name="__codelineno-0-875"></a><a href="#__codelineno-0-875"><span class="linenos" data-linenos="875 "></span></a>            <span class="n">pts_data</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="n">point_id_start</span><span class="p">:</span><span class="n">point_id_end</span><span class="p">]</span>
<a id="__codelineno-0-876" name="__codelineno-0-876"></a><a href="#__codelineno-0-876"><span class="linenos" data-linenos="876 "></span></a>            <span class="n">inst</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span>
<a id="__codelineno-0-877" name="__codelineno-0-877"></a><a href="#__codelineno-0-877"><span class="linenos" data-linenos="877 "></span></a>                <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span><span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]]),</span>
<a id="__codelineno-0-878" name="__codelineno-0-878"></a><a href="#__codelineno-0-878"><span class="linenos" data-linenos="878 "></span></a>                <span class="n">skeleton</span><span class="o">=</span><span class="n">skeleton</span><span class="p">,</span>
<a id="__codelineno-0-879" name="__codelineno-0-879"></a><a href="#__codelineno-0-879"><span class="linenos" data-linenos="879 "></span></a>                <span class="n">track</span><span class="o">=</span><span class="n">track</span><span class="p">,</span>
<a id="__codelineno-0-880" name="__codelineno-0-880"></a><a href="#__codelineno-0-880"><span class="linenos" data-linenos="880 "></span></a>                <span class="n">tracking_score</span><span class="o">=</span><span class="n">tracking_score</span><span class="p">,</span>
<a id="__codelineno-0-881" name="__codelineno-0-881"></a><a href="#__codelineno-0-881"><span class="linenos" data-linenos="881 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-882" name="__codelineno-0-882"></a><a href="#__codelineno-0-882"><span class="linenos" data-linenos="882 "></span></a>            <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">]</span>
<a id="__codelineno-0-883" name="__codelineno-0-883"></a><a href="#__codelineno-0-883"><span class="linenos" data-linenos="883 "></span></a>            <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">]</span>
<a id="__codelineno-0-884" name="__codelineno-0-884"></a><a href="#__codelineno-0-884"><span class="linenos" data-linenos="884 "></span></a>            <span class="n">instances</span><span class="p">[</span><span class="n">instance_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">inst</span>
<a id="__codelineno-0-885" name="__codelineno-0-885"></a><a href="#__codelineno-0-885"><span class="linenos" data-linenos="885 "></span></a>
<a id="__codelineno-0-886" name="__codelineno-0-886"></a><a href="#__codelineno-0-886"><span class="linenos" data-linenos="886 "></span></a>        <span class="k">elif</span> <span class="n">instance_type</span> <span class="o">==</span> <span class="n">InstanceType</span><span class="o">.</span><span class="n">PREDICTED</span><span class="p">:</span>
<a id="__codelineno-0-887" name="__codelineno-0-887"></a><a href="#__codelineno-0-887"><span class="linenos" data-linenos="887 "></span></a>            <span class="n">pts_data</span> <span class="o">=</span> <span class="n">pred_points</span><span class="p">[</span><span class="n">point_id_start</span><span class="p">:</span><span class="n">point_id_end</span><span class="p">]</span>
<a id="__codelineno-0-888" name="__codelineno-0-888"></a><a href="#__codelineno-0-888"><span class="linenos" data-linenos="888 "></span></a>            <span class="n">inst</span> <span class="o">=</span> <span class="n">PredictedInstance</span><span class="p">(</span>
<a id="__codelineno-0-889" name="__codelineno-0-889"></a><a href="#__codelineno-0-889"><span class="linenos" data-linenos="889 "></span></a>                <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span><span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]]),</span>
<a id="__codelineno-0-890" name="__codelineno-0-890"></a><a href="#__codelineno-0-890"><span class="linenos" data-linenos="890 "></span></a>                <span class="n">skeleton</span><span class="o">=</span><span class="n">skeleton</span><span class="p">,</span>
<a id="__codelineno-0-891" name="__codelineno-0-891"></a><a href="#__codelineno-0-891"><span class="linenos" data-linenos="891 "></span></a>                <span class="n">track</span><span class="o">=</span><span class="n">track</span><span class="p">,</span>
<a id="__codelineno-0-892" name="__codelineno-0-892"></a><a href="#__codelineno-0-892"><span class="linenos" data-linenos="892 "></span></a>                <span class="n">score</span><span class="o">=</span><span class="n">instance_score</span><span class="p">,</span>
<a id="__codelineno-0-893" name="__codelineno-0-893"></a><a href="#__codelineno-0-893"><span class="linenos" data-linenos="893 "></span></a>                <span class="n">tracking_score</span><span class="o">=</span><span class="n">tracking_score</span><span class="p">,</span>
<a id="__codelineno-0-894" name="__codelineno-0-894"></a><a href="#__codelineno-0-894"><span class="linenos" data-linenos="894 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-895" name="__codelineno-0-895"></a><a href="#__codelineno-0-895"><span class="linenos" data-linenos="895 "></span></a>            <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span>
<a id="__codelineno-0-896" name="__codelineno-0-896"></a><a href="#__codelineno-0-896"><span class="linenos" data-linenos="896 "></span></a>            <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">]</span>
<a id="__codelineno-0-897" name="__codelineno-0-897"></a><a href="#__codelineno-0-897"><span class="linenos" data-linenos="897 "></span></a>            <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts_data</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">]</span>
<a id="__codelineno-0-898" name="__codelineno-0-898"></a><a href="#__codelineno-0-898"><span class="linenos" data-linenos="898 "></span></a>            <span class="n">instances</span><span class="p">[</span><span class="n">instance_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">inst</span>
<a id="__codelineno-0-899" name="__codelineno-0-899"></a><a href="#__codelineno-0-899"><span class="linenos" data-linenos="899 "></span></a>
<a id="__codelineno-0-900" name="__codelineno-0-900"></a><a href="#__codelineno-0-900"><span class="linenos" data-linenos="900 "></span></a>        <span class="k">if</span> <span class="n">from_predicted</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-901" name="__codelineno-0-901"></a><a href="#__codelineno-0-901"><span class="linenos" data-linenos="901 "></span></a>            <span class="n">from_predicted_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">instance_id</span><span class="p">,</span> <span class="n">from_predicted</span><span class="p">))</span>
<a id="__codelineno-0-902" name="__codelineno-0-902"></a><a href="#__codelineno-0-902"><span class="linenos" data-linenos="902 "></span></a>
<a id="__codelineno-0-903" name="__codelineno-0-903"></a><a href="#__codelineno-0-903"><span class="linenos" data-linenos="903 "></span></a>    <span class="c1"># Link instances based on from_predicted field.</span>
<a id="__codelineno-0-904" name="__codelineno-0-904"></a><a href="#__codelineno-0-904"><span class="linenos" data-linenos="904 "></span></a>    <span class="k">for</span> <span class="n">instance_id</span><span class="p">,</span> <span class="n">from_predicted</span> <span class="ow">in</span> <span class="n">from_predicted_pairs</span><span class="p">:</span>
<a id="__codelineno-0-905" name="__codelineno-0-905"></a><a href="#__codelineno-0-905"><span class="linenos" data-linenos="905 "></span></a>        <span class="n">instances</span><span class="p">[</span><span class="n">instance_id</span><span class="p">]</span><span class="o">.</span><span class="n">from_predicted</span> <span class="o">=</span> <span class="n">instances</span><span class="p">[</span><span class="n">from_predicted</span><span class="p">]</span>
<a id="__codelineno-0-906" name="__codelineno-0-906"></a><a href="#__codelineno-0-906"><span class="linenos" data-linenos="906 "></span></a>
<a id="__codelineno-0-907" name="__codelineno-0-907"></a><a href="#__codelineno-0-907"><span class="linenos" data-linenos="907 "></span></a>    <span class="c1"># Convert instances back to list.</span>
<a id="__codelineno-0-908" name="__codelineno-0-908"></a><a href="#__codelineno-0-908"><span class="linenos" data-linenos="908 "></span></a>    <span class="n">instances</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">instances</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<a id="__codelineno-0-909" name="__codelineno-0-909"></a><a href="#__codelineno-0-909"><span class="linenos" data-linenos="909 "></span></a>
<a id="__codelineno-0-910" name="__codelineno-0-910"></a><a href="#__codelineno-0-910"><span class="linenos" data-linenos="910 "></span></a>    <span class="k">return</span> <span class="n">instances</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_labels</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">open_videos</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_labels" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>open_videos</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code> (the default), attempt to open the video backend for
I/O. If <code>False</code>, the backend will not be opened (useful for reading metadata
when the video files are not available).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Labels&lt;/code&gt;" href="../../../../model/#sleap_io.Labels">Labels</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The processed <code>Labels</code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1621" name="__codelineno-0-1621"></a><a href="#__codelineno-0-1621"><span class="linenos" data-linenos="1621 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_labels</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">open_videos</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Labels</span><span class="p">:</span>
<a id="__codelineno-0-1622" name="__codelineno-0-1622"></a><a href="#__codelineno-0-1622"><span class="linenos" data-linenos="1622 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read a SLEAP labels file.</span>
<a id="__codelineno-0-1623" name="__codelineno-0-1623"></a><a href="#__codelineno-0-1623"><span class="linenos" data-linenos="1623 "></span></a>
<a id="__codelineno-0-1624" name="__codelineno-0-1624"></a><a href="#__codelineno-0-1624"><span class="linenos" data-linenos="1624 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1625" name="__codelineno-0-1625"></a><a href="#__codelineno-0-1625"><span class="linenos" data-linenos="1625 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-1626" name="__codelineno-0-1626"></a><a href="#__codelineno-0-1626"><span class="linenos" data-linenos="1626 "></span></a><span class="sd">        open_videos: If `True` (the default), attempt to open the video backend for</span>
<a id="__codelineno-0-1627" name="__codelineno-0-1627"></a><a href="#__codelineno-0-1627"><span class="linenos" data-linenos="1627 "></span></a><span class="sd">            I/O. If `False`, the backend will not be opened (useful for reading metadata</span>
<a id="__codelineno-0-1628" name="__codelineno-0-1628"></a><a href="#__codelineno-0-1628"><span class="linenos" data-linenos="1628 "></span></a><span class="sd">            when the video files are not available).</span>
<a id="__codelineno-0-1629" name="__codelineno-0-1629"></a><a href="#__codelineno-0-1629"><span class="linenos" data-linenos="1629 "></span></a>
<a id="__codelineno-0-1630" name="__codelineno-0-1630"></a><a href="#__codelineno-0-1630"><span class="linenos" data-linenos="1630 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1631" name="__codelineno-0-1631"></a><a href="#__codelineno-0-1631"><span class="linenos" data-linenos="1631 "></span></a><span class="sd">        The processed `Labels` object.</span>
<a id="__codelineno-0-1632" name="__codelineno-0-1632"></a><a href="#__codelineno-0-1632"><span class="linenos" data-linenos="1632 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1633" name="__codelineno-0-1633"></a><a href="#__codelineno-0-1633"><span class="linenos" data-linenos="1633 "></span></a>    <span class="n">tracks</span> <span class="o">=</span> <span class="n">read_tracks</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span>
<a id="__codelineno-0-1634" name="__codelineno-0-1634"></a><a href="#__codelineno-0-1634"><span class="linenos" data-linenos="1634 "></span></a>    <span class="n">videos</span> <span class="o">=</span> <span class="n">read_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">open_backend</span><span class="o">=</span><span class="n">open_videos</span><span class="p">)</span>
<a id="__codelineno-0-1635" name="__codelineno-0-1635"></a><a href="#__codelineno-0-1635"><span class="linenos" data-linenos="1635 "></span></a>    <span class="n">skeletons</span> <span class="o">=</span> <span class="n">read_skeletons</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span>
<a id="__codelineno-0-1636" name="__codelineno-0-1636"></a><a href="#__codelineno-0-1636"><span class="linenos" data-linenos="1636 "></span></a>    <span class="n">points</span> <span class="o">=</span> <span class="n">read_points</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span>
<a id="__codelineno-0-1637" name="__codelineno-0-1637"></a><a href="#__codelineno-0-1637"><span class="linenos" data-linenos="1637 "></span></a>    <span class="n">pred_points</span> <span class="o">=</span> <span class="n">read_pred_points</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span>
<a id="__codelineno-0-1638" name="__codelineno-0-1638"></a><a href="#__codelineno-0-1638"><span class="linenos" data-linenos="1638 "></span></a>    <span class="n">format_id</span> <span class="o">=</span> <span class="n">read_hdf5_attrs</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;format_id&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1639" name="__codelineno-0-1639"></a><a href="#__codelineno-0-1639"><span class="linenos" data-linenos="1639 "></span></a>    <span class="n">instances</span> <span class="o">=</span> <span class="n">read_instances</span><span class="p">(</span>
<a id="__codelineno-0-1640" name="__codelineno-0-1640"></a><a href="#__codelineno-0-1640"><span class="linenos" data-linenos="1640 "></span></a>        <span class="n">labels_path</span><span class="p">,</span> <span class="n">skeletons</span><span class="p">,</span> <span class="n">tracks</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">pred_points</span><span class="p">,</span> <span class="n">format_id</span>
<a id="__codelineno-0-1641" name="__codelineno-0-1641"></a><a href="#__codelineno-0-1641"><span class="linenos" data-linenos="1641 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-1642" name="__codelineno-0-1642"></a><a href="#__codelineno-0-1642"><span class="linenos" data-linenos="1642 "></span></a>    <span class="n">suggestions</span> <span class="o">=</span> <span class="n">read_suggestions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">videos</span><span class="p">)</span>
<a id="__codelineno-0-1643" name="__codelineno-0-1643"></a><a href="#__codelineno-0-1643"><span class="linenos" data-linenos="1643 "></span></a>    <span class="n">metadata</span> <span class="o">=</span> <span class="n">read_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span>
<a id="__codelineno-0-1644" name="__codelineno-0-1644"></a><a href="#__codelineno-0-1644"><span class="linenos" data-linenos="1644 "></span></a>    <span class="n">provenance</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;provenance&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">())</span>
<a id="__codelineno-0-1645" name="__codelineno-0-1645"></a><a href="#__codelineno-0-1645"><span class="linenos" data-linenos="1645 "></span></a>
<a id="__codelineno-0-1646" name="__codelineno-0-1646"></a><a href="#__codelineno-0-1646"><span class="linenos" data-linenos="1646 "></span></a>    <span class="n">frames</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;frames&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1647" name="__codelineno-0-1647"></a><a href="#__codelineno-0-1647"><span class="linenos" data-linenos="1647 "></span></a>    <span class="n">labeled_frames</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1648" name="__codelineno-0-1648"></a><a href="#__codelineno-0-1648"><span class="linenos" data-linenos="1648 "></span></a>    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">video_id</span><span class="p">,</span> <span class="n">frame_idx</span><span class="p">,</span> <span class="n">instance_id_start</span><span class="p">,</span> <span class="n">instance_id_end</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">:</span>
<a id="__codelineno-0-1649" name="__codelineno-0-1649"></a><a href="#__codelineno-0-1649"><span class="linenos" data-linenos="1649 "></span></a>        <span class="n">labeled_frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-1650" name="__codelineno-0-1650"></a><a href="#__codelineno-0-1650"><span class="linenos" data-linenos="1650 "></span></a>            <span class="n">LabeledFrame</span><span class="p">(</span>
<a id="__codelineno-0-1651" name="__codelineno-0-1651"></a><a href="#__codelineno-0-1651"><span class="linenos" data-linenos="1651 "></span></a>                <span class="n">video</span><span class="o">=</span><span class="n">videos</span><span class="p">[</span><span class="n">video_id</span><span class="p">],</span>
<a id="__codelineno-0-1652" name="__codelineno-0-1652"></a><a href="#__codelineno-0-1652"><span class="linenos" data-linenos="1652 "></span></a>                <span class="n">frame_idx</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">frame_idx</span><span class="p">),</span>
<a id="__codelineno-0-1653" name="__codelineno-0-1653"></a><a href="#__codelineno-0-1653"><span class="linenos" data-linenos="1653 "></span></a>                <span class="n">instances</span><span class="o">=</span><span class="n">instances</span><span class="p">[</span><span class="n">instance_id_start</span><span class="p">:</span><span class="n">instance_id_end</span><span class="p">],</span>
<a id="__codelineno-0-1654" name="__codelineno-0-1654"></a><a href="#__codelineno-0-1654"><span class="linenos" data-linenos="1654 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-1655" name="__codelineno-0-1655"></a><a href="#__codelineno-0-1655"><span class="linenos" data-linenos="1655 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-1656" name="__codelineno-0-1656"></a><a href="#__codelineno-0-1656"><span class="linenos" data-linenos="1656 "></span></a>
<a id="__codelineno-0-1657" name="__codelineno-0-1657"></a><a href="#__codelineno-0-1657"><span class="linenos" data-linenos="1657 "></span></a>    <span class="n">sessions</span> <span class="o">=</span> <span class="n">read_sessions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">videos</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">)</span>
<a id="__codelineno-0-1658" name="__codelineno-0-1658"></a><a href="#__codelineno-0-1658"><span class="linenos" data-linenos="1658 "></span></a>
<a id="__codelineno-0-1659" name="__codelineno-0-1659"></a><a href="#__codelineno-0-1659"><span class="linenos" data-linenos="1659 "></span></a>    <span class="n">labels</span> <span class="o">=</span> <span class="n">Labels</span><span class="p">(</span>
<a id="__codelineno-0-1660" name="__codelineno-0-1660"></a><a href="#__codelineno-0-1660"><span class="linenos" data-linenos="1660 "></span></a>        <span class="n">labeled_frames</span><span class="o">=</span><span class="n">labeled_frames</span><span class="p">,</span>
<a id="__codelineno-0-1661" name="__codelineno-0-1661"></a><a href="#__codelineno-0-1661"><span class="linenos" data-linenos="1661 "></span></a>        <span class="n">videos</span><span class="o">=</span><span class="n">videos</span><span class="p">,</span>
<a id="__codelineno-0-1662" name="__codelineno-0-1662"></a><a href="#__codelineno-0-1662"><span class="linenos" data-linenos="1662 "></span></a>        <span class="n">skeletons</span><span class="o">=</span><span class="n">skeletons</span><span class="p">,</span>
<a id="__codelineno-0-1663" name="__codelineno-0-1663"></a><a href="#__codelineno-0-1663"><span class="linenos" data-linenos="1663 "></span></a>        <span class="n">tracks</span><span class="o">=</span><span class="n">tracks</span><span class="p">,</span>
<a id="__codelineno-0-1664" name="__codelineno-0-1664"></a><a href="#__codelineno-0-1664"><span class="linenos" data-linenos="1664 "></span></a>        <span class="n">suggestions</span><span class="o">=</span><span class="n">suggestions</span><span class="p">,</span>
<a id="__codelineno-0-1665" name="__codelineno-0-1665"></a><a href="#__codelineno-0-1665"><span class="linenos" data-linenos="1665 "></span></a>        <span class="n">sessions</span><span class="o">=</span><span class="n">sessions</span><span class="p">,</span>
<a id="__codelineno-0-1666" name="__codelineno-0-1666"></a><a href="#__codelineno-0-1666"><span class="linenos" data-linenos="1666 "></span></a>        <span class="n">provenance</span><span class="o">=</span><span class="n">provenance</span><span class="p">,</span>
<a id="__codelineno-0-1667" name="__codelineno-0-1667"></a><a href="#__codelineno-0-1667"><span class="linenos" data-linenos="1667 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-1668" name="__codelineno-0-1668"></a><a href="#__codelineno-0-1668"><span class="linenos" data-linenos="1668 "></span></a>    <span class="n">labels</span><span class="o">.</span><span class="n">provenance</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">labels_path</span>
<a id="__codelineno-0-1669" name="__codelineno-0-1669"></a><a href="#__codelineno-0-1669"><span class="linenos" data-linenos="1669 "></span></a>
<a id="__codelineno-0-1670" name="__codelineno-0-1670"></a><a href="#__codelineno-0-1670"><span class="linenos" data-linenos="1670 "></span></a>    <span class="k">return</span> <span class="n">labels</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_metadata" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read metadata from a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict containing the metadata from a SLEAP labels file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-568" name="__codelineno-0-568"></a><a href="#__codelineno-0-568"><span class="linenos" data-linenos="568 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a><a href="#__codelineno-0-569"><span class="linenos" data-linenos="569 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read metadata from a SLEAP labels file.</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a><a href="#__codelineno-0-570"><span class="linenos" data-linenos="570 "></span></a>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a><a href="#__codelineno-0-571"><span class="linenos" data-linenos="571 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a><a href="#__codelineno-0-572"><span class="linenos" data-linenos="572 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a><a href="#__codelineno-0-573"><span class="linenos" data-linenos="573 "></span></a>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a><a href="#__codelineno-0-574"><span class="linenos" data-linenos="574 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a><a href="#__codelineno-0-575"><span class="linenos" data-linenos="575 "></span></a><span class="sd">        A dict containing the metadata from a SLEAP labels file.</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a><a href="#__codelineno-0-576"><span class="linenos" data-linenos="576 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a><a href="#__codelineno-0-577"><span class="linenos" data-linenos="577 "></span></a>    <span class="n">md</span> <span class="o">=</span> <span class="n">read_hdf5_attrs</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">)</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a><a href="#__codelineno-0-578"><span class="linenos" data-linenos="578 "></span></a>    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_points</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_points" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read points dataset from a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A structured array of point data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-790" name="__codelineno-0-790"></a><a href="#__codelineno-0-790"><span class="linenos" data-linenos="790 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_points</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-791" name="__codelineno-0-791"></a><a href="#__codelineno-0-791"><span class="linenos" data-linenos="791 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read points dataset from a SLEAP labels file.</span>
<a id="__codelineno-0-792" name="__codelineno-0-792"></a><a href="#__codelineno-0-792"><span class="linenos" data-linenos="792 "></span></a>
<a id="__codelineno-0-793" name="__codelineno-0-793"></a><a href="#__codelineno-0-793"><span class="linenos" data-linenos="793 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-794" name="__codelineno-0-794"></a><a href="#__codelineno-0-794"><span class="linenos" data-linenos="794 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-795" name="__codelineno-0-795"></a><a href="#__codelineno-0-795"><span class="linenos" data-linenos="795 "></span></a>
<a id="__codelineno-0-796" name="__codelineno-0-796"></a><a href="#__codelineno-0-796"><span class="linenos" data-linenos="796 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-797" name="__codelineno-0-797"></a><a href="#__codelineno-0-797"><span class="linenos" data-linenos="797 "></span></a><span class="sd">        A structured array of point data.</span>
<a id="__codelineno-0-798" name="__codelineno-0-798"></a><a href="#__codelineno-0-798"><span class="linenos" data-linenos="798 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-799" name="__codelineno-0-799"></a><a href="#__codelineno-0-799"><span class="linenos" data-linenos="799 "></span></a>    <span class="n">pts</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">)</span>
<a id="__codelineno-0-800" name="__codelineno-0-800"></a><a href="#__codelineno-0-800"><span class="linenos" data-linenos="800 "></span></a>    <span class="k">return</span> <span class="n">pts</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_pred_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_pred_points</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_pred_points" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read predicted points dataset from a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A structured array of predicted point data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-803" name="__codelineno-0-803"></a><a href="#__codelineno-0-803"><span class="linenos" data-linenos="803 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_pred_points</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<a id="__codelineno-0-804" name="__codelineno-0-804"></a><a href="#__codelineno-0-804"><span class="linenos" data-linenos="804 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read predicted points dataset from a SLEAP labels file.</span>
<a id="__codelineno-0-805" name="__codelineno-0-805"></a><a href="#__codelineno-0-805"><span class="linenos" data-linenos="805 "></span></a>
<a id="__codelineno-0-806" name="__codelineno-0-806"></a><a href="#__codelineno-0-806"><span class="linenos" data-linenos="806 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-807" name="__codelineno-0-807"></a><a href="#__codelineno-0-807"><span class="linenos" data-linenos="807 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-808" name="__codelineno-0-808"></a><a href="#__codelineno-0-808"><span class="linenos" data-linenos="808 "></span></a>
<a id="__codelineno-0-809" name="__codelineno-0-809"></a><a href="#__codelineno-0-809"><span class="linenos" data-linenos="809 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-810" name="__codelineno-0-810"></a><a href="#__codelineno-0-810"><span class="linenos" data-linenos="810 "></span></a><span class="sd">        A structured array of predicted point data.</span>
<a id="__codelineno-0-811" name="__codelineno-0-811"></a><a href="#__codelineno-0-811"><span class="linenos" data-linenos="811 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-812" name="__codelineno-0-812"></a><a href="#__codelineno-0-812"><span class="linenos" data-linenos="812 "></span></a>    <span class="n">pred_pts</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;pred_points&quot;</span><span class="p">)</span>
<a id="__codelineno-0-813" name="__codelineno-0-813"></a><a href="#__codelineno-0-813"><span class="linenos" data-linenos="813 "></span></a>    <span class="k">return</span> <span class="n">pred_pts</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_sessions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_sessions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">videos</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_sessions" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read <code>RecordingSession</code> dataset from a SLEAP labels file.</p>
<p>Expects a "sessions_json" dataset in the <code>labels_path</code> file, but will return an
empty list if the dataset is not found.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>videos</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Video</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frames</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.LabeledFrame&lt;/code&gt;" href="../../../../model/#sleap_io.LabeledFrame">LabeledFrame</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>LabeledFrame</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;RecordingSession&lt;/code&gt; (&lt;code&gt;sleap_io.RecordingSession&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.RecordingSession">RecordingSession</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>RecordingSession</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1332" name="__codelineno-0-1332"></a><a href="#__codelineno-0-1332"><span class="linenos" data-linenos="1332 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_sessions</span><span class="p">(</span>
<a id="__codelineno-0-1333" name="__codelineno-0-1333"></a><a href="#__codelineno-0-1333"><span class="linenos" data-linenos="1333 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">videos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">],</span> <span class="n">labeled_frames</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">]</span>
<a id="__codelineno-0-1334" name="__codelineno-0-1334"></a><a href="#__codelineno-0-1334"><span class="linenos" data-linenos="1334 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecordingSession</span><span class="p">]:</span>
<a id="__codelineno-0-1335" name="__codelineno-0-1335"></a><a href="#__codelineno-0-1335"><span class="linenos" data-linenos="1335 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read `RecordingSession` dataset from a SLEAP labels file.</span>
<a id="__codelineno-0-1336" name="__codelineno-0-1336"></a><a href="#__codelineno-0-1336"><span class="linenos" data-linenos="1336 "></span></a>
<a id="__codelineno-0-1337" name="__codelineno-0-1337"></a><a href="#__codelineno-0-1337"><span class="linenos" data-linenos="1337 "></span></a><span class="sd">    Expects a &quot;sessions_json&quot; dataset in the `labels_path` file, but will return an</span>
<a id="__codelineno-0-1338" name="__codelineno-0-1338"></a><a href="#__codelineno-0-1338"><span class="linenos" data-linenos="1338 "></span></a><span class="sd">    empty list if the dataset is not found.</span>
<a id="__codelineno-0-1339" name="__codelineno-0-1339"></a><a href="#__codelineno-0-1339"><span class="linenos" data-linenos="1339 "></span></a>
<a id="__codelineno-0-1340" name="__codelineno-0-1340"></a><a href="#__codelineno-0-1340"><span class="linenos" data-linenos="1340 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1341" name="__codelineno-0-1341"></a><a href="#__codelineno-0-1341"><span class="linenos" data-linenos="1341 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-1342" name="__codelineno-0-1342"></a><a href="#__codelineno-0-1342"><span class="linenos" data-linenos="1342 "></span></a><span class="sd">        videos: A list of `Video` objects.</span>
<a id="__codelineno-0-1343" name="__codelineno-0-1343"></a><a href="#__codelineno-0-1343"><span class="linenos" data-linenos="1343 "></span></a><span class="sd">        labeled_frames: A list of `LabeledFrame` objects.</span>
<a id="__codelineno-0-1344" name="__codelineno-0-1344"></a><a href="#__codelineno-0-1344"><span class="linenos" data-linenos="1344 "></span></a>
<a id="__codelineno-0-1345" name="__codelineno-0-1345"></a><a href="#__codelineno-0-1345"><span class="linenos" data-linenos="1345 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1346" name="__codelineno-0-1346"></a><a href="#__codelineno-0-1346"><span class="linenos" data-linenos="1346 "></span></a><span class="sd">        A list of `RecordingSession` objects.</span>
<a id="__codelineno-0-1347" name="__codelineno-0-1347"></a><a href="#__codelineno-0-1347"><span class="linenos" data-linenos="1347 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1348" name="__codelineno-0-1348"></a><a href="#__codelineno-0-1348"><span class="linenos" data-linenos="1348 "></span></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1349" name="__codelineno-0-1349"></a><a href="#__codelineno-0-1349"><span class="linenos" data-linenos="1349 "></span></a>        <span class="n">sessions</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;sessions_json&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1350" name="__codelineno-0-1350"></a><a href="#__codelineno-0-1350"><span class="linenos" data-linenos="1350 "></span></a>    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<a id="__codelineno-0-1351" name="__codelineno-0-1351"></a><a href="#__codelineno-0-1351"><span class="linenos" data-linenos="1351 "></span></a>        <span class="k">return</span> <span class="p">[]</span>
<a id="__codelineno-0-1352" name="__codelineno-0-1352"></a><a href="#__codelineno-0-1352"><span class="linenos" data-linenos="1352 "></span></a>    <span class="n">sessions</span> <span class="o">=</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sessions</span><span class="p">]</span>
<a id="__codelineno-0-1353" name="__codelineno-0-1353"></a><a href="#__codelineno-0-1353"><span class="linenos" data-linenos="1353 "></span></a>    <span class="n">session_objects</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1354" name="__codelineno-0-1354"></a><a href="#__codelineno-0-1354"><span class="linenos" data-linenos="1354 "></span></a>    <span class="k">for</span> <span class="n">session</span> <span class="ow">in</span> <span class="n">sessions</span><span class="p">:</span>
<a id="__codelineno-0-1355" name="__codelineno-0-1355"></a><a href="#__codelineno-0-1355"><span class="linenos" data-linenos="1355 "></span></a>        <span class="n">session_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">make_session</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">videos</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">))</span>
<a id="__codelineno-0-1356" name="__codelineno-0-1356"></a><a href="#__codelineno-0-1356"><span class="linenos" data-linenos="1356 "></span></a>    <span class="k">return</span> <span class="n">session_objects</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_skeletons" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_skeletons</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_skeletons" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read <code>Skeleton</code> dataset from a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string that contains the path to the labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Skeleton&lt;/code&gt;" href="../../../../model/#sleap_io.Skeleton">Skeleton</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Skeleton</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-581" name="__codelineno-0-581"></a><a href="#__codelineno-0-581"><span class="linenos" data-linenos="581 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_skeletons</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Skeleton</span><span class="p">]:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a><a href="#__codelineno-0-582"><span class="linenos" data-linenos="582 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read `Skeleton` dataset from a SLEAP labels file.</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a><a href="#__codelineno-0-583"><span class="linenos" data-linenos="583 "></span></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a><a href="#__codelineno-0-584"><span class="linenos" data-linenos="584 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a><a href="#__codelineno-0-585"><span class="linenos" data-linenos="585 "></span></a><span class="sd">        labels_path: A string that contains the path to the labels file.</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a><a href="#__codelineno-0-586"><span class="linenos" data-linenos="586 "></span></a>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a><a href="#__codelineno-0-587"><span class="linenos" data-linenos="587 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a><a href="#__codelineno-0-588"><span class="linenos" data-linenos="588 "></span></a><span class="sd">        A list of `Skeleton` objects.</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a><a href="#__codelineno-0-589"><span class="linenos" data-linenos="589 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a><a href="#__codelineno-0-590"><span class="linenos" data-linenos="590 "></span></a>    <span class="n">metadata</span> <span class="o">=</span> <span class="n">read_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a><a href="#__codelineno-0-591"><span class="linenos" data-linenos="591 "></span></a>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a><a href="#__codelineno-0-592"><span class="linenos" data-linenos="592 "></span></a>    <span class="c1"># Get node names. This is a superset of all nodes across all skeletons. Note that</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a><a href="#__codelineno-0-593"><span class="linenos" data-linenos="593 "></span></a>    <span class="c1"># node ordering is specific to each skeleton, so we&#39;ll need to fix this afterwards.</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a><a href="#__codelineno-0-594"><span class="linenos" data-linenos="594 "></span></a>    <span class="n">node_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]]</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a><a href="#__codelineno-0-595"><span class="linenos" data-linenos="595 "></span></a>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a><a href="#__codelineno-0-596"><span class="linenos" data-linenos="596 "></span></a>    <span class="n">skeleton_objects</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a><a href="#__codelineno-0-597"><span class="linenos" data-linenos="597 "></span></a>    <span class="k">for</span> <span class="n">skel</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;skeletons&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a><a href="#__codelineno-0-598"><span class="linenos" data-linenos="598 "></span></a>        <span class="c1"># Parse out the cattr-based serialization stuff from the skeleton links.</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a><a href="#__codelineno-0-599"><span class="linenos" data-linenos="599 "></span></a>        <span class="n">edge_inds</span><span class="p">,</span> <span class="n">symmetry_inds</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a><a href="#__codelineno-0-600"><span class="linenos" data-linenos="600 "></span></a>        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">skel</span><span class="p">[</span><span class="s2">&quot;links&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a><a href="#__codelineno-0-601"><span class="linenos" data-linenos="601 "></span></a>            <span class="k">if</span> <span class="s2">&quot;py/reduce&quot;</span> <span class="ow">in</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a><a href="#__codelineno-0-602"><span class="linenos" data-linenos="602 "></span></a>                <span class="n">edge_type</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">][</span><span class="s2">&quot;py/reduce&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;py/tuple&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a><a href="#__codelineno-0-603"><span class="linenos" data-linenos="603 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a><a href="#__codelineno-0-604"><span class="linenos" data-linenos="604 "></span></a>                <span class="n">edge_type</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">][</span><span class="s2">&quot;py/id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a><a href="#__codelineno-0-605"><span class="linenos" data-linenos="605 "></span></a>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a><a href="#__codelineno-0-606"><span class="linenos" data-linenos="606 "></span></a>            <span class="k">if</span> <span class="n">edge_type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># 1 -&gt; real edge, 2 -&gt; symmetry edge</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a><a href="#__codelineno-0-607"><span class="linenos" data-linenos="607 "></span></a>                <span class="n">edge_inds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">link</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">],</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]))</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a><a href="#__codelineno-0-608"><span class="linenos" data-linenos="608 "></span></a>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a><a href="#__codelineno-0-609"><span class="linenos" data-linenos="609 "></span></a>            <span class="k">elif</span> <span class="n">edge_type</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a><a href="#__codelineno-0-610"><span class="linenos" data-linenos="610 "></span></a>                <span class="n">symmetry_inds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">link</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">],</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]))</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a><a href="#__codelineno-0-611"><span class="linenos" data-linenos="611 "></span></a>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a><a href="#__codelineno-0-612"><span class="linenos" data-linenos="612 "></span></a>        <span class="c1"># Re-index correctly.</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a><a href="#__codelineno-0-613"><span class="linenos" data-linenos="613 "></span></a>        <span class="n">skeleton_node_inds</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">skel</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]]</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a><a href="#__codelineno-0-614"><span class="linenos" data-linenos="614 "></span></a>        <span class="n">sorted_node_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">node_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">skeleton_node_inds</span><span class="p">]</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a><a href="#__codelineno-0-615"><span class="linenos" data-linenos="615 "></span></a>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a><a href="#__codelineno-0-616"><span class="linenos" data-linenos="616 "></span></a>        <span class="c1"># Create nodes.</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a><a href="#__codelineno-0-617"><span class="linenos" data-linenos="617 "></span></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a><a href="#__codelineno-0-618"><span class="linenos" data-linenos="618 "></span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">sorted_node_names</span><span class="p">:</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a><a href="#__codelineno-0-619"><span class="linenos" data-linenos="619 "></span></a>            <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">))</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a><a href="#__codelineno-0-620"><span class="linenos" data-linenos="620 "></span></a>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a><a href="#__codelineno-0-621"><span class="linenos" data-linenos="621 "></span></a>        <span class="c1"># Create edges.</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a><a href="#__codelineno-0-622"><span class="linenos" data-linenos="622 "></span></a>        <span class="n">edge_inds</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a><a href="#__codelineno-0-623"><span class="linenos" data-linenos="623 "></span></a>            <span class="p">(</span><span class="n">skeleton_node_inds</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">skeleton_node_inds</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a><a href="#__codelineno-0-624"><span class="linenos" data-linenos="624 "></span></a>            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">edge_inds</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a><a href="#__codelineno-0-625"><span class="linenos" data-linenos="625 "></span></a>        <span class="p">]</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a><a href="#__codelineno-0-626"><span class="linenos" data-linenos="626 "></span></a>        <span class="n">edges</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a><a href="#__codelineno-0-627"><span class="linenos" data-linenos="627 "></span></a>        <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">edge_inds</span><span class="p">:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a><a href="#__codelineno-0-628"><span class="linenos" data-linenos="628 "></span></a>            <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Edge</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">nodes</span><span class="p">[</span><span class="n">edge</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">destination</span><span class="o">=</span><span class="n">nodes</span><span class="p">[</span><span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">]]))</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a><a href="#__codelineno-0-629"><span class="linenos" data-linenos="629 "></span></a>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a><a href="#__codelineno-0-630"><span class="linenos" data-linenos="630 "></span></a>        <span class="c1"># Create symmetries.</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a><a href="#__codelineno-0-631"><span class="linenos" data-linenos="631 "></span></a>        <span class="n">symmetry_inds</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a><a href="#__codelineno-0-632"><span class="linenos" data-linenos="632 "></span></a>            <span class="p">(</span><span class="n">skeleton_node_inds</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">skeleton_node_inds</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a><a href="#__codelineno-0-633"><span class="linenos" data-linenos="633 "></span></a>            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">symmetry_inds</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a><a href="#__codelineno-0-634"><span class="linenos" data-linenos="634 "></span></a>        <span class="p">]</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a><a href="#__codelineno-0-635"><span class="linenos" data-linenos="635 "></span></a>        <span class="n">symmetries</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a><a href="#__codelineno-0-636"><span class="linenos" data-linenos="636 "></span></a>        <span class="k">for</span> <span class="n">symmetry</span> <span class="ow">in</span> <span class="n">symmetry_inds</span><span class="p">:</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a><a href="#__codelineno-0-637"><span class="linenos" data-linenos="637 "></span></a>            <span class="n">symmetries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Symmetry</span><span class="p">([</span><span class="n">nodes</span><span class="p">[</span><span class="n">symmetry</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">nodes</span><span class="p">[</span><span class="n">symmetry</span><span class="p">[</span><span class="mi">1</span><span class="p">]]]))</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a><a href="#__codelineno-0-638"><span class="linenos" data-linenos="638 "></span></a>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a><a href="#__codelineno-0-639"><span class="linenos" data-linenos="639 "></span></a>        <span class="c1"># Create the full skeleton.</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a><a href="#__codelineno-0-640"><span class="linenos" data-linenos="640 "></span></a>        <span class="n">skel</span> <span class="o">=</span> <span class="n">Skeleton</span><span class="p">(</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a><a href="#__codelineno-0-641"><span class="linenos" data-linenos="641 "></span></a>            <span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span> <span class="n">edges</span><span class="o">=</span><span class="n">edges</span><span class="p">,</span> <span class="n">symmetries</span><span class="o">=</span><span class="n">symmetries</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">skel</span><span class="p">[</span><span class="s2">&quot;graph&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a><a href="#__codelineno-0-642"><span class="linenos" data-linenos="642 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a><a href="#__codelineno-0-643"><span class="linenos" data-linenos="643 "></span></a>        <span class="n">skeleton_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">skel</span><span class="p">)</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a><a href="#__codelineno-0-644"><span class="linenos" data-linenos="644 "></span></a>    <span class="k">return</span> <span class="n">skeleton_objects</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_suggestions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_suggestions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">videos</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_suggestions" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read <code>SuggestionFrame</code> dataset in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>videos</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Video</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.SuggestionFrame&lt;/code&gt;" href="../../../../model/#sleap_io.SuggestionFrame">SuggestionFrame</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>SuggestionFrame</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-517" name="__codelineno-0-517"></a><a href="#__codelineno-0-517"><span class="linenos" data-linenos="517 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_suggestions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">videos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">SuggestionFrame</span><span class="p">]:</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><a href="#__codelineno-0-518"><span class="linenos" data-linenos="518 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read `SuggestionFrame` dataset in a SLEAP labels file.</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><a href="#__codelineno-0-519"><span class="linenos" data-linenos="519 "></span></a>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><a href="#__codelineno-0-520"><span class="linenos" data-linenos="520 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a><a href="#__codelineno-0-521"><span class="linenos" data-linenos="521 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><a href="#__codelineno-0-522"><span class="linenos" data-linenos="522 "></span></a><span class="sd">        videos: A list of `Video` objects.</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><a href="#__codelineno-0-523"><span class="linenos" data-linenos="523 "></span></a>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a><a href="#__codelineno-0-524"><span class="linenos" data-linenos="524 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><a href="#__codelineno-0-525"><span class="linenos" data-linenos="525 "></span></a><span class="sd">        A list of `SuggestionFrame` objects.</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a><a href="#__codelineno-0-526"><span class="linenos" data-linenos="526 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a><a href="#__codelineno-0-527"><span class="linenos" data-linenos="527 "></span></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><a href="#__codelineno-0-528"><span class="linenos" data-linenos="528 "></span></a>        <span class="n">suggestions</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;suggestions_json&quot;</span><span class="p">)</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><a href="#__codelineno-0-529"><span class="linenos" data-linenos="529 "></span></a>    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a><a href="#__codelineno-0-530"><span class="linenos" data-linenos="530 "></span></a>        <span class="k">return</span> <span class="p">[]</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a><a href="#__codelineno-0-531"><span class="linenos" data-linenos="531 "></span></a>    <span class="n">suggestions</span> <span class="o">=</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">suggestions</span><span class="p">]</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a><a href="#__codelineno-0-532"><span class="linenos" data-linenos="532 "></span></a>    <span class="n">suggestions_objects</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a><a href="#__codelineno-0-533"><span class="linenos" data-linenos="533 "></span></a>    <span class="k">for</span> <span class="n">suggestion</span> <span class="ow">in</span> <span class="n">suggestions</span><span class="p">:</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a><a href="#__codelineno-0-534"><span class="linenos" data-linenos="534 "></span></a>        <span class="n">suggestions_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a><a href="#__codelineno-0-535"><span class="linenos" data-linenos="535 "></span></a>            <span class="n">SuggestionFrame</span><span class="p">(</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a><a href="#__codelineno-0-536"><span class="linenos" data-linenos="536 "></span></a>                <span class="n">video</span><span class="o">=</span><span class="n">videos</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">suggestion</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">])],</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a><a href="#__codelineno-0-537"><span class="linenos" data-linenos="537 "></span></a>                <span class="n">frame_idx</span><span class="o">=</span><span class="n">suggestion</span><span class="p">[</span><span class="s2">&quot;frame_idx&quot;</span><span class="p">],</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a><a href="#__codelineno-0-538"><span class="linenos" data-linenos="538 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><a href="#__codelineno-0-539"><span class="linenos" data-linenos="539 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a><a href="#__codelineno-0-540"><span class="linenos" data-linenos="540 "></span></a>    <span class="k">return</span> <span class="n">suggestions_objects</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_tracks" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_tracks</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_tracks" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read <code>Track</code> dataset in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Track&lt;/code&gt;" href="../../../../model/#sleap_io.Track">Track</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Track</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-484" name="__codelineno-0-484"></a><a href="#__codelineno-0-484"><span class="linenos" data-linenos="484 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_tracks</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Track</span><span class="p">]:</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a><a href="#__codelineno-0-485"><span class="linenos" data-linenos="485 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read `Track` dataset in a SLEAP labels file.</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a><a href="#__codelineno-0-486"><span class="linenos" data-linenos="486 "></span></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><a href="#__codelineno-0-487"><span class="linenos" data-linenos="487 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a><a href="#__codelineno-0-488"><span class="linenos" data-linenos="488 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><a href="#__codelineno-0-489"><span class="linenos" data-linenos="489 "></span></a>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a><a href="#__codelineno-0-490"><span class="linenos" data-linenos="490 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a><a href="#__codelineno-0-491"><span class="linenos" data-linenos="491 "></span></a><span class="sd">        A list of `Track` objects.</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a><a href="#__codelineno-0-492"><span class="linenos" data-linenos="492 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a><a href="#__codelineno-0-493"><span class="linenos" data-linenos="493 "></span></a>    <span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;tracks_json&quot;</span><span class="p">)]</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a><a href="#__codelineno-0-494"><span class="linenos" data-linenos="494 "></span></a>    <span class="n">track_objects</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a><a href="#__codelineno-0-495"><span class="linenos" data-linenos="495 "></span></a>    <span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">tracks</span><span class="p">:</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a><a href="#__codelineno-0-496"><span class="linenos" data-linenos="496 "></span></a>        <span class="n">track_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Track</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">track</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a><a href="#__codelineno-0-497"><span class="linenos" data-linenos="497 "></span></a>    <span class="k">return</span> <span class="n">track_objects</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.read_videos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">open_backend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.read_videos" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Read <code>Video</code> dataset in a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>open_backend</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code> (the default), attempt to open the video backend for
I/O. If <code>False</code>, the backend will not be opened (useful for reading metadata
when the video files are not available).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Video</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-154" name="__codelineno-0-154"></a><a href="#__codelineno-0-154"><span class="linenos" data-linenos="154 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">open_backend</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">]:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><a href="#__codelineno-0-155"><span class="linenos" data-linenos="155 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read `Video` dataset in a SLEAP labels file.</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><a href="#__codelineno-0-156"><span class="linenos" data-linenos="156 "></span></a>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><a href="#__codelineno-0-157"><span class="linenos" data-linenos="157 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><a href="#__codelineno-0-158"><span class="linenos" data-linenos="158 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><a href="#__codelineno-0-159"><span class="linenos" data-linenos="159 "></span></a><span class="sd">        open_backend: If `True` (the default), attempt to open the video backend for</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><a href="#__codelineno-0-160"><span class="linenos" data-linenos="160 "></span></a><span class="sd">            I/O. If `False`, the backend will not be opened (useful for reading metadata</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><a href="#__codelineno-0-161"><span class="linenos" data-linenos="161 "></span></a><span class="sd">            when the video files are not available).</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><a href="#__codelineno-0-162"><span class="linenos" data-linenos="162 "></span></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><a href="#__codelineno-0-163"><span class="linenos" data-linenos="163 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><a href="#__codelineno-0-164"><span class="linenos" data-linenos="164 "></span></a><span class="sd">        A list of `Video` objects.</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><a href="#__codelineno-0-165"><span class="linenos" data-linenos="165 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><a href="#__codelineno-0-166"><span class="linenos" data-linenos="166 "></span></a>    <span class="n">videos</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><a href="#__codelineno-0-167"><span class="linenos" data-linenos="167 "></span></a>    <span class="n">videos_metadata</span> <span class="o">=</span> <span class="n">read_hdf5_dataset</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;videos_json&quot;</span><span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><a href="#__codelineno-0-168"><span class="linenos" data-linenos="168 "></span></a>    <span class="k">for</span> <span class="n">video_data</span> <span class="ow">in</span> <span class="n">videos_metadata</span><span class="p">:</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><a href="#__codelineno-0-169"><span class="linenos" data-linenos="169 "></span></a>        <span class="n">video_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">video_data</span><span class="p">)</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><a href="#__codelineno-0-170"><span class="linenos" data-linenos="170 "></span></a>        <span class="n">video</span> <span class="o">=</span> <span class="n">make_video</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">video_json</span><span class="p">,</span> <span class="n">open_backend</span><span class="o">=</span><span class="n">open_backend</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><a href="#__codelineno-0-171"><span class="linenos" data-linenos="171 "></span></a>        <span class="n">videos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">video</span><span class="p">)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><a href="#__codelineno-0-172"><span class="linenos" data-linenos="172 "></span></a>    <span class="k">return</span> <span class="n">videos</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.sanitize_filename" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sanitize_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.sanitize_filename" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Sanitize a filename to a canonical posix-compatible format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code><span title="str">str</span> | <span title="pathlib.Path">Path</span> | <span title="list">list</span>[<span title="str">str</span>] | <span title="list">list</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string or <code>Path</code> object or list of either to sanitize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | <span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sanitized filename as a string (or list of strings if a list was provided)
with forward slashes and posix-formatted.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-46" name="__codelineno-0-46"></a><a href="#__codelineno-0-46"><span class="linenos" data-linenos="46 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">sanitize_filename</span><span class="p">(</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><a href="#__codelineno-0-47"><span class="linenos" data-linenos="47 "></span></a>    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Path</span><span class="p">],</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><a href="#__codelineno-0-48"><span class="linenos" data-linenos="48 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><a href="#__codelineno-0-49"><span class="linenos" data-linenos="49 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sanitize a filename to a canonical posix-compatible format.</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><a href="#__codelineno-0-50"><span class="linenos" data-linenos="50 "></span></a>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><a href="#__codelineno-0-51"><span class="linenos" data-linenos="51 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><a href="#__codelineno-0-52"><span class="linenos" data-linenos="52 "></span></a><span class="sd">        filename: A string or `Path` object or list of either to sanitize.</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><a href="#__codelineno-0-53"><span class="linenos" data-linenos="53 "></span></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><a href="#__codelineno-0-54"><span class="linenos" data-linenos="54 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><a href="#__codelineno-0-55"><span class="linenos" data-linenos="55 "></span></a><span class="sd">        A sanitized filename as a string (or list of strings if a list was provided)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><a href="#__codelineno-0-56"><span class="linenos" data-linenos="56 "></span></a><span class="sd">        with forward slashes and posix-formatted.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><a href="#__codelineno-0-57"><span class="linenos" data-linenos="57 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><a href="#__codelineno-0-58"><span class="linenos" data-linenos="58 "></span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><a href="#__codelineno-0-59"><span class="linenos" data-linenos="59 "></span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">sanitize_filename</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filename</span><span class="p">]</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><a href="#__codelineno-0-60"><span class="linenos" data-linenos="60 "></span></a>    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.serialize_skeletons" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize_skeletons</span><span class="p">(</span><span class="n">skeletons</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.serialize_skeletons" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Serialize a list of <code>Skeleton</code> objects to JSON-compatible dicts.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>skeletons</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Skeleton&lt;/code&gt;" href="../../../../model/#sleap_io.Skeleton">Skeleton</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Skeleton</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="list">list</span>[<span title="dict">dict</span>], <span title="list">list</span>[<span title="dict">dict</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple of <code>nodes_dicts, skeletons_dicts</code>.</p>
<p><code>nodes_dicts</code> is a list of dicts containing the nodes in all the skeletons.</p>
<p><code>skeletons_dicts</code> is a list of dicts containing the skeletons.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>This function attempts to replicate the serialization of skeletons in legacy
SLEAP which relies on a combination of networkx's graph serialization and our
own metadata used to store nodes and edges independent of the graph structure.</p>
<p>However, because sleap-io does not currently load in the legacy metadata, this
function will not produce byte-level compatible serialization with legacy
formats, even though the ordering and all attributes of nodes and edges should
match up.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-647" name="__codelineno-0-647"></a><a href="#__codelineno-0-647"><span class="linenos" data-linenos="647 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">serialize_skeletons</span><span class="p">(</span><span class="n">skeletons</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Skeleton</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]:</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a><a href="#__codelineno-0-648"><span class="linenos" data-linenos="648 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize a list of `Skeleton` objects to JSON-compatible dicts.</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a><a href="#__codelineno-0-649"><span class="linenos" data-linenos="649 "></span></a>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><a href="#__codelineno-0-650"><span class="linenos" data-linenos="650 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a><a href="#__codelineno-0-651"><span class="linenos" data-linenos="651 "></span></a><span class="sd">        skeletons: A list of `Skeleton` objects.</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><a href="#__codelineno-0-652"><span class="linenos" data-linenos="652 "></span></a>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><a href="#__codelineno-0-653"><span class="linenos" data-linenos="653 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><a href="#__codelineno-0-654"><span class="linenos" data-linenos="654 "></span></a><span class="sd">        A tuple of `nodes_dicts, skeletons_dicts`.</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a><a href="#__codelineno-0-655"><span class="linenos" data-linenos="655 "></span></a>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a><a href="#__codelineno-0-656"><span class="linenos" data-linenos="656 "></span></a><span class="sd">        `nodes_dicts` is a list of dicts containing the nodes in all the skeletons.</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a><a href="#__codelineno-0-657"><span class="linenos" data-linenos="657 "></span></a>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a><a href="#__codelineno-0-658"><span class="linenos" data-linenos="658 "></span></a><span class="sd">        `skeletons_dicts` is a list of dicts containing the skeletons.</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a><a href="#__codelineno-0-659"><span class="linenos" data-linenos="659 "></span></a>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a><a href="#__codelineno-0-660"><span class="linenos" data-linenos="660 "></span></a><span class="sd">    Notes:</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a><a href="#__codelineno-0-661"><span class="linenos" data-linenos="661 "></span></a><span class="sd">        This function attempts to replicate the serialization of skeletons in legacy</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a><a href="#__codelineno-0-662"><span class="linenos" data-linenos="662 "></span></a><span class="sd">        SLEAP which relies on a combination of networkx&#39;s graph serialization and our</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a><a href="#__codelineno-0-663"><span class="linenos" data-linenos="663 "></span></a><span class="sd">        own metadata used to store nodes and edges independent of the graph structure.</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a><a href="#__codelineno-0-664"><span class="linenos" data-linenos="664 "></span></a>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a><a href="#__codelineno-0-665"><span class="linenos" data-linenos="665 "></span></a><span class="sd">        However, because sleap-io does not currently load in the legacy metadata, this</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a><a href="#__codelineno-0-666"><span class="linenos" data-linenos="666 "></span></a><span class="sd">        function will not produce byte-level compatible serialization with legacy</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a><a href="#__codelineno-0-667"><span class="linenos" data-linenos="667 "></span></a><span class="sd">        formats, even though the ordering and all attributes of nodes and edges should</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a><a href="#__codelineno-0-668"><span class="linenos" data-linenos="668 "></span></a><span class="sd">        match up.</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a><a href="#__codelineno-0-669"><span class="linenos" data-linenos="669 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a><a href="#__codelineno-0-670"><span class="linenos" data-linenos="670 "></span></a>    <span class="c1"># Create global list of nodes with all nodes from all skeletons.</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a><a href="#__codelineno-0-671"><span class="linenos" data-linenos="671 "></span></a>    <span class="n">nodes_dicts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a><a href="#__codelineno-0-672"><span class="linenos" data-linenos="672 "></span></a>    <span class="n">node_to_id</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a><a href="#__codelineno-0-673"><span class="linenos" data-linenos="673 "></span></a>    <span class="k">for</span> <span class="n">skeleton</span> <span class="ow">in</span> <span class="n">skeletons</span><span class="p">:</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a><a href="#__codelineno-0-674"><span class="linenos" data-linenos="674 "></span></a>        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">skeleton</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a><a href="#__codelineno-0-675"><span class="linenos" data-linenos="675 "></span></a>            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node_to_id</span><span class="p">:</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a><a href="#__codelineno-0-676"><span class="linenos" data-linenos="676 "></span></a>                <span class="c1"># Note: This ID is not the same as the node index in the skeleton in</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a><a href="#__codelineno-0-677"><span class="linenos" data-linenos="677 "></span></a>                <span class="c1"># legacy SLEAP, but we do not retain this information in the labels, so</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a><a href="#__codelineno-0-678"><span class="linenos" data-linenos="678 "></span></a>                <span class="c1"># IDs will be different.</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a><a href="#__codelineno-0-679"><span class="linenos" data-linenos="679 "></span></a>                <span class="c1">#</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a><a href="#__codelineno-0-680"><span class="linenos" data-linenos="680 "></span></a>                <span class="c1"># The weight is also kept fixed here, but technically this is not</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a><a href="#__codelineno-0-681"><span class="linenos" data-linenos="681 "></span></a>                <span class="c1"># modified or used in legacy SLEAP either.</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a><a href="#__codelineno-0-682"><span class="linenos" data-linenos="682 "></span></a>                <span class="c1">#</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a><a href="#__codelineno-0-683"><span class="linenos" data-linenos="683 "></span></a>                <span class="c1"># TODO: Store legacy metadata in labels to get byte-level compatibility?</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a><a href="#__codelineno-0-684"><span class="linenos" data-linenos="684 "></span></a>                <span class="n">node_to_id</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_to_id</span><span class="p">)</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a><a href="#__codelineno-0-685"><span class="linenos" data-linenos="685 "></span></a>                <span class="n">nodes_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">})</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a><a href="#__codelineno-0-686"><span class="linenos" data-linenos="686 "></span></a>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a><a href="#__codelineno-0-687"><span class="linenos" data-linenos="687 "></span></a>    <span class="n">skeletons_dicts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a><a href="#__codelineno-0-688"><span class="linenos" data-linenos="688 "></span></a>    <span class="k">for</span> <span class="n">skeleton</span> <span class="ow">in</span> <span class="n">skeletons</span><span class="p">:</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a><a href="#__codelineno-0-689"><span class="linenos" data-linenos="689 "></span></a>        <span class="c1"># Build links dicts for normal edges.</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a><a href="#__codelineno-0-690"><span class="linenos" data-linenos="690 "></span></a>        <span class="n">edges_dicts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a><a href="#__codelineno-0-691"><span class="linenos" data-linenos="691 "></span></a>        <span class="k">for</span> <span class="n">edge_ind</span><span class="p">,</span> <span class="n">edge</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">skeleton</span><span class="o">.</span><span class="n">edges</span><span class="p">):</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a><a href="#__codelineno-0-692"><span class="linenos" data-linenos="692 "></span></a>            <span class="k">if</span> <span class="n">edge_ind</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a><a href="#__codelineno-0-693"><span class="linenos" data-linenos="693 "></span></a>                <span class="n">edge_type</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a><a href="#__codelineno-0-694"><span class="linenos" data-linenos="694 "></span></a>                    <span class="s2">&quot;py/reduce&quot;</span><span class="p">:</span> <span class="p">[</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a><a href="#__codelineno-0-695"><span class="linenos" data-linenos="695 "></span></a>                        <span class="p">{</span><span class="s2">&quot;py/type&quot;</span><span class="p">:</span> <span class="s2">&quot;sleap.skeleton.EdgeType&quot;</span><span class="p">},</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a><a href="#__codelineno-0-696"><span class="linenos" data-linenos="696 "></span></a>                        <span class="p">{</span><span class="s2">&quot;py/tuple&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]},</span>  <span class="c1"># 1 = real edge, 2 = symmetry edge</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a><a href="#__codelineno-0-697"><span class="linenos" data-linenos="697 "></span></a>                    <span class="p">]</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a><a href="#__codelineno-0-698"><span class="linenos" data-linenos="698 "></span></a>                <span class="p">}</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a><a href="#__codelineno-0-699"><span class="linenos" data-linenos="699 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a><a href="#__codelineno-0-700"><span class="linenos" data-linenos="700 "></span></a>                <span class="n">edge_type</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;py/id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a><a href="#__codelineno-0-701"><span class="linenos" data-linenos="701 "></span></a>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a><a href="#__codelineno-0-702"><span class="linenos" data-linenos="702 "></span></a>            <span class="n">edges_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a><a href="#__codelineno-0-703"><span class="linenos" data-linenos="703 "></span></a>                <span class="p">{</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a><a href="#__codelineno-0-704"><span class="linenos" data-linenos="704 "></span></a>                    <span class="c1"># Note: Insert idx is not the same as the edge index in the skeleton</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a><a href="#__codelineno-0-705"><span class="linenos" data-linenos="705 "></span></a>                    <span class="c1"># in legacy SLEAP.</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a><a href="#__codelineno-0-706"><span class="linenos" data-linenos="706 "></span></a>                    <span class="s2">&quot;edge_insert_idx&quot;</span><span class="p">:</span> <span class="n">edge_ind</span><span class="p">,</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a><a href="#__codelineno-0-707"><span class="linenos" data-linenos="707 "></span></a>                    <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># Always 0.</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a><a href="#__codelineno-0-708"><span class="linenos" data-linenos="708 "></span></a>                    <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">node_to_id</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">source</span><span class="p">],</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a><a href="#__codelineno-0-709"><span class="linenos" data-linenos="709 "></span></a>                    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">node_to_id</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">destination</span><span class="p">],</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a><a href="#__codelineno-0-710"><span class="linenos" data-linenos="710 "></span></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">edge_type</span><span class="p">,</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a><a href="#__codelineno-0-711"><span class="linenos" data-linenos="711 "></span></a>                <span class="p">}</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a><a href="#__codelineno-0-712"><span class="linenos" data-linenos="712 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a><a href="#__codelineno-0-713"><span class="linenos" data-linenos="713 "></span></a>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a><a href="#__codelineno-0-714"><span class="linenos" data-linenos="714 "></span></a>        <span class="c1"># Build links dicts for symmetry edges.</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a><a href="#__codelineno-0-715"><span class="linenos" data-linenos="715 "></span></a>        <span class="k">for</span> <span class="n">symmetry_ind</span><span class="p">,</span> <span class="n">symmetry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">skeleton</span><span class="o">.</span><span class="n">symmetries</span><span class="p">):</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a><a href="#__codelineno-0-716"><span class="linenos" data-linenos="716 "></span></a>            <span class="k">if</span> <span class="n">symmetry_ind</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a><a href="#__codelineno-0-717"><span class="linenos" data-linenos="717 "></span></a>                <span class="n">edge_type</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a><a href="#__codelineno-0-718"><span class="linenos" data-linenos="718 "></span></a>                    <span class="s2">&quot;py/reduce&quot;</span><span class="p">:</span> <span class="p">[</span>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a><a href="#__codelineno-0-719"><span class="linenos" data-linenos="719 "></span></a>                        <span class="p">{</span><span class="s2">&quot;py/type&quot;</span><span class="p">:</span> <span class="s2">&quot;sleap.skeleton.EdgeType&quot;</span><span class="p">},</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a><a href="#__codelineno-0-720"><span class="linenos" data-linenos="720 "></span></a>                        <span class="p">{</span><span class="s2">&quot;py/tuple&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]},</span>  <span class="c1"># 1 = real edge, 2 = symmetry edge</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a><a href="#__codelineno-0-721"><span class="linenos" data-linenos="721 "></span></a>                    <span class="p">]</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a><a href="#__codelineno-0-722"><span class="linenos" data-linenos="722 "></span></a>                <span class="p">}</span>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a><a href="#__codelineno-0-723"><span class="linenos" data-linenos="723 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a><a href="#__codelineno-0-724"><span class="linenos" data-linenos="724 "></span></a>                <span class="n">edge_type</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;py/id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a><a href="#__codelineno-0-725"><span class="linenos" data-linenos="725 "></span></a>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a><a href="#__codelineno-0-726"><span class="linenos" data-linenos="726 "></span></a>            <span class="n">src</span><span class="p">,</span> <span class="n">dst</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">symmetry</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a><a href="#__codelineno-0-727"><span class="linenos" data-linenos="727 "></span></a>            <span class="n">edges_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a><a href="#__codelineno-0-728"><span class="linenos" data-linenos="728 "></span></a>                <span class="p">{</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a><a href="#__codelineno-0-729"><span class="linenos" data-linenos="729 "></span></a>                    <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a><a href="#__codelineno-0-730"><span class="linenos" data-linenos="730 "></span></a>                    <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">node_to_id</span><span class="p">[</span><span class="n">src</span><span class="p">],</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a><a href="#__codelineno-0-731"><span class="linenos" data-linenos="731 "></span></a>                    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">node_to_id</span><span class="p">[</span><span class="n">dst</span><span class="p">],</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a><a href="#__codelineno-0-732"><span class="linenos" data-linenos="732 "></span></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">edge_type</span><span class="p">,</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a><a href="#__codelineno-0-733"><span class="linenos" data-linenos="733 "></span></a>                <span class="p">}</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a><a href="#__codelineno-0-734"><span class="linenos" data-linenos="734 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a><a href="#__codelineno-0-735"><span class="linenos" data-linenos="735 "></span></a>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a><a href="#__codelineno-0-736"><span class="linenos" data-linenos="736 "></span></a>        <span class="c1"># Create skeleton dict.</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a><a href="#__codelineno-0-737"><span class="linenos" data-linenos="737 "></span></a>        <span class="n">skeletons_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a><a href="#__codelineno-0-738"><span class="linenos" data-linenos="738 "></span></a>            <span class="p">{</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a><a href="#__codelineno-0-739"><span class="linenos" data-linenos="739 "></span></a>                <span class="s2">&quot;directed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a><a href="#__codelineno-0-740"><span class="linenos" data-linenos="740 "></span></a>                <span class="s2">&quot;graph&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a><a href="#__codelineno-0-741"><span class="linenos" data-linenos="741 "></span></a>                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">skeleton</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a><a href="#__codelineno-0-742"><span class="linenos" data-linenos="742 "></span></a>                    <span class="s2">&quot;num_edges_inserted&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">skeleton</span><span class="o">.</span><span class="n">edges</span><span class="p">),</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a><a href="#__codelineno-0-743"><span class="linenos" data-linenos="743 "></span></a>                <span class="p">},</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a><a href="#__codelineno-0-744"><span class="linenos" data-linenos="744 "></span></a>                <span class="s2">&quot;links&quot;</span><span class="p">:</span> <span class="n">edges_dicts</span><span class="p">,</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a><a href="#__codelineno-0-745"><span class="linenos" data-linenos="745 "></span></a>                <span class="s2">&quot;multigraph&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a><a href="#__codelineno-0-746"><span class="linenos" data-linenos="746 "></span></a>                <span class="c1"># In the order in Skeleton.nodes and must match up with nodes_dicts.</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a><a href="#__codelineno-0-747"><span class="linenos" data-linenos="747 "></span></a>                <span class="s2">&quot;nodes&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">node_to_id</span><span class="p">[</span><span class="n">node</span><span class="p">]}</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">skeleton</span><span class="o">.</span><span class="n">nodes</span><span class="p">],</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a><a href="#__codelineno-0-748"><span class="linenos" data-linenos="748 "></span></a>            <span class="p">}</span>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a><a href="#__codelineno-0-749"><span class="linenos" data-linenos="749 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a><a href="#__codelineno-0-750"><span class="linenos" data-linenos="750 "></span></a>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a><a href="#__codelineno-0-751"><span class="linenos" data-linenos="751 "></span></a>    <span class="k">return</span> <span class="n">skeletons_dicts</span><span class="p">,</span> <span class="n">nodes_dicts</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.session_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">session_to_dict</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">video_to_idx</span><span class="p">,</span> <span class="n">labeled_frame_to_idx</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.session_to_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert <code>RecordingSession</code> to a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>session</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;RecordingSession&lt;/code&gt; (&lt;code&gt;sleap_io.RecordingSession&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.RecordingSession">RecordingSession</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>RecordingSession</code> object to convert to a dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>video_to_idx</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of <code>Video</code> to index in <code>Labels.videos</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frame_to_idx</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.LabeledFrame&lt;/code&gt;" href="../../../../model/#sleap_io.LabeledFrame">LabeledFrame</a>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of <code>LabeledFrame</code> to index in
<code>Labels.labeled_frames</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of <code>RecordingSession</code> with the following keys:
    - "calibration": Dictionary containing calibration information for cameras.
    - "camcorder_to_video_idx_map": Dictionary mapping camera index to video
        index.
    - "frame_group_dicts": List of dictionaries containing <code>FrameGroup</code>
        information. See <code>frame_group_to_dict</code> for what each dictionary
        contains.
    - Any optional keys containing metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1515" name="__codelineno-0-1515"></a><a href="#__codelineno-0-1515"><span class="linenos" data-linenos="1515 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">session_to_dict</span><span class="p">(</span>
<a id="__codelineno-0-1516" name="__codelineno-0-1516"></a><a href="#__codelineno-0-1516"><span class="linenos" data-linenos="1516 "></span></a>    <span class="n">session</span><span class="p">:</span> <span class="n">RecordingSession</span><span class="p">,</span>
<a id="__codelineno-0-1517" name="__codelineno-0-1517"></a><a href="#__codelineno-0-1517"><span class="linenos" data-linenos="1517 "></span></a>    <span class="n">video_to_idx</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Video</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-1518" name="__codelineno-0-1518"></a><a href="#__codelineno-0-1518"><span class="linenos" data-linenos="1518 "></span></a>    <span class="n">labeled_frame_to_idx</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-1519" name="__codelineno-0-1519"></a><a href="#__codelineno-0-1519"><span class="linenos" data-linenos="1519 "></span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-1520" name="__codelineno-0-1520"></a><a href="#__codelineno-0-1520"><span class="linenos" data-linenos="1520 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert `RecordingSession` to a dictionary.</span>
<a id="__codelineno-0-1521" name="__codelineno-0-1521"></a><a href="#__codelineno-0-1521"><span class="linenos" data-linenos="1521 "></span></a>
<a id="__codelineno-0-1522" name="__codelineno-0-1522"></a><a href="#__codelineno-0-1522"><span class="linenos" data-linenos="1522 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1523" name="__codelineno-0-1523"></a><a href="#__codelineno-0-1523"><span class="linenos" data-linenos="1523 "></span></a><span class="sd">        session: `RecordingSession` object to convert to a dictionary.</span>
<a id="__codelineno-0-1524" name="__codelineno-0-1524"></a><a href="#__codelineno-0-1524"><span class="linenos" data-linenos="1524 "></span></a><span class="sd">        video_to_idx: Dictionary of `Video` to index in `Labels.videos`.</span>
<a id="__codelineno-0-1525" name="__codelineno-0-1525"></a><a href="#__codelineno-0-1525"><span class="linenos" data-linenos="1525 "></span></a><span class="sd">        labeled_frame_to_idx: Dictionary of `LabeledFrame` to index in</span>
<a id="__codelineno-0-1526" name="__codelineno-0-1526"></a><a href="#__codelineno-0-1526"><span class="linenos" data-linenos="1526 "></span></a><span class="sd">            `Labels.labeled_frames`.</span>
<a id="__codelineno-0-1527" name="__codelineno-0-1527"></a><a href="#__codelineno-0-1527"><span class="linenos" data-linenos="1527 "></span></a>
<a id="__codelineno-0-1528" name="__codelineno-0-1528"></a><a href="#__codelineno-0-1528"><span class="linenos" data-linenos="1528 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1529" name="__codelineno-0-1529"></a><a href="#__codelineno-0-1529"><span class="linenos" data-linenos="1529 "></span></a><span class="sd">        Dictionary of `RecordingSession` with the following keys:</span>
<a id="__codelineno-0-1530" name="__codelineno-0-1530"></a><a href="#__codelineno-0-1530"><span class="linenos" data-linenos="1530 "></span></a><span class="sd">            - &quot;calibration&quot;: Dictionary containing calibration information for cameras.</span>
<a id="__codelineno-0-1531" name="__codelineno-0-1531"></a><a href="#__codelineno-0-1531"><span class="linenos" data-linenos="1531 "></span></a><span class="sd">            - &quot;camcorder_to_video_idx_map&quot;: Dictionary mapping camera index to video</span>
<a id="__codelineno-0-1532" name="__codelineno-0-1532"></a><a href="#__codelineno-0-1532"><span class="linenos" data-linenos="1532 "></span></a><span class="sd">                index.</span>
<a id="__codelineno-0-1533" name="__codelineno-0-1533"></a><a href="#__codelineno-0-1533"><span class="linenos" data-linenos="1533 "></span></a><span class="sd">            - &quot;frame_group_dicts&quot;: List of dictionaries containing `FrameGroup`</span>
<a id="__codelineno-0-1534" name="__codelineno-0-1534"></a><a href="#__codelineno-0-1534"><span class="linenos" data-linenos="1534 "></span></a><span class="sd">                information. See `frame_group_to_dict` for what each dictionary</span>
<a id="__codelineno-0-1535" name="__codelineno-0-1535"></a><a href="#__codelineno-0-1535"><span class="linenos" data-linenos="1535 "></span></a><span class="sd">                contains.</span>
<a id="__codelineno-0-1536" name="__codelineno-0-1536"></a><a href="#__codelineno-0-1536"><span class="linenos" data-linenos="1536 "></span></a><span class="sd">            - Any optional keys containing metadata.</span>
<a id="__codelineno-0-1537" name="__codelineno-0-1537"></a><a href="#__codelineno-0-1537"><span class="linenos" data-linenos="1537 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1538" name="__codelineno-0-1538"></a><a href="#__codelineno-0-1538"><span class="linenos" data-linenos="1538 "></span></a>    <span class="c1"># Unstructure `CameraCluster` and `metadata`</span>
<a id="__codelineno-0-1539" name="__codelineno-0-1539"></a><a href="#__codelineno-0-1539"><span class="linenos" data-linenos="1539 "></span></a>    <span class="n">calibration_dict</span> <span class="o">=</span> <span class="n">camera_group_to_dict</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">camera_group</span><span class="p">)</span>
<a id="__codelineno-0-1540" name="__codelineno-0-1540"></a><a href="#__codelineno-0-1540"><span class="linenos" data-linenos="1540 "></span></a>
<a id="__codelineno-0-1541" name="__codelineno-0-1541"></a><a href="#__codelineno-0-1541"><span class="linenos" data-linenos="1541 "></span></a>    <span class="c1"># Store camera-to-video indices map where key is camera index</span>
<a id="__codelineno-0-1542" name="__codelineno-0-1542"></a><a href="#__codelineno-0-1542"><span class="linenos" data-linenos="1542 "></span></a>    <span class="c1"># and value is video index from `Labels.videos`</span>
<a id="__codelineno-0-1543" name="__codelineno-0-1543"></a><a href="#__codelineno-0-1543"><span class="linenos" data-linenos="1543 "></span></a>    <span class="n">camera_to_video_idx_map</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-1544" name="__codelineno-0-1544"></a><a href="#__codelineno-0-1544"><span class="linenos" data-linenos="1544 "></span></a>    <span class="k">for</span> <span class="n">cam_idx</span><span class="p">,</span> <span class="n">camera</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">camera_group</span><span class="o">.</span><span class="n">cameras</span><span class="p">):</span>
<a id="__codelineno-0-1545" name="__codelineno-0-1545"></a><a href="#__codelineno-0-1545"><span class="linenos" data-linenos="1545 "></span></a>        <span class="c1"># Skip if Camera is not linked to any Video</span>
<a id="__codelineno-0-1546" name="__codelineno-0-1546"></a><a href="#__codelineno-0-1546"><span class="linenos" data-linenos="1546 "></span></a>
<a id="__codelineno-0-1547" name="__codelineno-0-1547"></a><a href="#__codelineno-0-1547"><span class="linenos" data-linenos="1547 "></span></a>        <span class="k">if</span> <span class="n">camera</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">cameras</span><span class="p">:</span>
<a id="__codelineno-0-1548" name="__codelineno-0-1548"></a><a href="#__codelineno-0-1548"><span class="linenos" data-linenos="1548 "></span></a>            <span class="k">continue</span>
<a id="__codelineno-0-1549" name="__codelineno-0-1549"></a><a href="#__codelineno-0-1549"><span class="linenos" data-linenos="1549 "></span></a>
<a id="__codelineno-0-1550" name="__codelineno-0-1550"></a><a href="#__codelineno-0-1550"><span class="linenos" data-linenos="1550 "></span></a>        <span class="c1"># Get video index from `Labels.videos`</span>
<a id="__codelineno-0-1551" name="__codelineno-0-1551"></a><a href="#__codelineno-0-1551"><span class="linenos" data-linenos="1551 "></span></a>        <span class="n">video</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_video</span><span class="p">(</span><span class="n">camera</span><span class="p">)</span>
<a id="__codelineno-0-1552" name="__codelineno-0-1552"></a><a href="#__codelineno-0-1552"><span class="linenos" data-linenos="1552 "></span></a>        <span class="n">video_idx</span> <span class="o">=</span> <span class="n">video_to_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">video</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-1553" name="__codelineno-0-1553"></a><a href="#__codelineno-0-1553"><span class="linenos" data-linenos="1553 "></span></a>
<a id="__codelineno-0-1554" name="__codelineno-0-1554"></a><a href="#__codelineno-0-1554"><span class="linenos" data-linenos="1554 "></span></a>        <span class="k">if</span> <span class="n">video_idx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1555" name="__codelineno-0-1555"></a><a href="#__codelineno-0-1555"><span class="linenos" data-linenos="1555 "></span></a>            <span class="n">camera_to_video_idx_map</span><span class="p">[</span><span class="n">cam_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">video_idx</span>
<a id="__codelineno-0-1556" name="__codelineno-0-1556"></a><a href="#__codelineno-0-1556"><span class="linenos" data-linenos="1556 "></span></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1557" name="__codelineno-0-1557"></a><a href="#__codelineno-0-1557"><span class="linenos" data-linenos="1557 "></span></a>            <span class="nb">print</span><span class="p">(</span>
<a id="__codelineno-0-1558" name="__codelineno-0-1558"></a><a href="#__codelineno-0-1558"><span class="linenos" data-linenos="1558 "></span></a>                <span class="sa">f</span><span class="s2">&quot;Video </span><span class="si">{</span><span class="n">video</span><span class="si">}</span><span class="s2"> not found in `Labels.videos`. &quot;</span>
<a id="__codelineno-0-1559" name="__codelineno-0-1559"></a><a href="#__codelineno-0-1559"><span class="linenos" data-linenos="1559 "></span></a>                <span class="s2">&quot;Not saving to `RecordingSession` serialization.&quot;</span>
<a id="__codelineno-0-1560" name="__codelineno-0-1560"></a><a href="#__codelineno-0-1560"><span class="linenos" data-linenos="1560 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-1561" name="__codelineno-0-1561"></a><a href="#__codelineno-0-1561"><span class="linenos" data-linenos="1561 "></span></a>
<a id="__codelineno-0-1562" name="__codelineno-0-1562"></a><a href="#__codelineno-0-1562"><span class="linenos" data-linenos="1562 "></span></a>    <span class="c1"># Store frame groups by frame index</span>
<a id="__codelineno-0-1563" name="__codelineno-0-1563"></a><a href="#__codelineno-0-1563"><span class="linenos" data-linenos="1563 "></span></a>    <span class="n">frame_group_dicts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1564" name="__codelineno-0-1564"></a><a href="#__codelineno-0-1564"><span class="linenos" data-linenos="1564 "></span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">labeled_frame_to_idx</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Don&#39;t save if skipping labeled frames</span>
<a id="__codelineno-0-1565" name="__codelineno-0-1565"></a><a href="#__codelineno-0-1565"><span class="linenos" data-linenos="1565 "></span></a>        <span class="k">for</span> <span class="n">frame_group</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">frame_groups</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-0-1566" name="__codelineno-0-1566"></a><a href="#__codelineno-0-1566"><span class="linenos" data-linenos="1566 "></span></a>            <span class="c1"># Only save `FrameGroup` if it has `InstanceGroup`s</span>
<a id="__codelineno-0-1567" name="__codelineno-0-1567"></a><a href="#__codelineno-0-1567"><span class="linenos" data-linenos="1567 "></span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frame_group</span><span class="o">.</span><span class="n">instance_groups</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1568" name="__codelineno-0-1568"></a><a href="#__codelineno-0-1568"><span class="linenos" data-linenos="1568 "></span></a>                <span class="n">frame_group_dict</span> <span class="o">=</span> <span class="n">frame_group_to_dict</span><span class="p">(</span>
<a id="__codelineno-0-1569" name="__codelineno-0-1569"></a><a href="#__codelineno-0-1569"><span class="linenos" data-linenos="1569 "></span></a>                    <span class="n">frame_group</span><span class="p">,</span>
<a id="__codelineno-0-1570" name="__codelineno-0-1570"></a><a href="#__codelineno-0-1570"><span class="linenos" data-linenos="1570 "></span></a>                    <span class="n">labeled_frame_to_idx</span><span class="o">=</span><span class="n">labeled_frame_to_idx</span><span class="p">,</span>
<a id="__codelineno-0-1571" name="__codelineno-0-1571"></a><a href="#__codelineno-0-1571"><span class="linenos" data-linenos="1571 "></span></a>                    <span class="n">camera_group</span><span class="o">=</span><span class="n">session</span><span class="o">.</span><span class="n">camera_group</span><span class="p">,</span>
<a id="__codelineno-0-1572" name="__codelineno-0-1572"></a><a href="#__codelineno-0-1572"><span class="linenos" data-linenos="1572 "></span></a>                <span class="p">)</span>
<a id="__codelineno-0-1573" name="__codelineno-0-1573"></a><a href="#__codelineno-0-1573"><span class="linenos" data-linenos="1573 "></span></a>                <span class="n">frame_group_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_group_dict</span><span class="p">)</span>
<a id="__codelineno-0-1574" name="__codelineno-0-1574"></a><a href="#__codelineno-0-1574"><span class="linenos" data-linenos="1574 "></span></a>
<a id="__codelineno-0-1575" name="__codelineno-0-1575"></a><a href="#__codelineno-0-1575"><span class="linenos" data-linenos="1575 "></span></a>    <span class="n">session_dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1576" name="__codelineno-0-1576"></a><a href="#__codelineno-0-1576"><span class="linenos" data-linenos="1576 "></span></a>        <span class="s2">&quot;calibration&quot;</span><span class="p">:</span> <span class="n">calibration_dict</span><span class="p">,</span>
<a id="__codelineno-0-1577" name="__codelineno-0-1577"></a><a href="#__codelineno-0-1577"><span class="linenos" data-linenos="1577 "></span></a>        <span class="s2">&quot;camcorder_to_video_idx_map&quot;</span><span class="p">:</span> <span class="n">camera_to_video_idx_map</span><span class="p">,</span>
<a id="__codelineno-0-1578" name="__codelineno-0-1578"></a><a href="#__codelineno-0-1578"><span class="linenos" data-linenos="1578 "></span></a>        <span class="s2">&quot;frame_group_dicts&quot;</span><span class="p">:</span> <span class="n">frame_group_dicts</span><span class="p">,</span>
<a id="__codelineno-0-1579" name="__codelineno-0-1579"></a><a href="#__codelineno-0-1579"><span class="linenos" data-linenos="1579 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-1580" name="__codelineno-0-1580"></a><a href="#__codelineno-0-1580"><span class="linenos" data-linenos="1580 "></span></a>    <span class="n">session_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<a id="__codelineno-0-1581" name="__codelineno-0-1581"></a><a href="#__codelineno-0-1581"><span class="linenos" data-linenos="1581 "></span></a>
<a id="__codelineno-0-1582" name="__codelineno-0-1582"></a><a href="#__codelineno-0-1582"><span class="linenos" data-linenos="1582 "></span></a>    <span class="k">return</span> <span class="n">session_dict</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.video_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">video_to_dict</span><span class="p">(</span><span class="n">video</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.video_to_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert a <code>Video</code> object to a JSON-compatible dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>video</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Video</code> object to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the video metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-175" name="__codelineno-0-175"></a><a href="#__codelineno-0-175"><span class="linenos" data-linenos="175 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">video_to_dict</span><span class="p">(</span><span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><a href="#__codelineno-0-176"><span class="linenos" data-linenos="176 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `Video` object to a JSON-compatible dictionary.</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><a href="#__codelineno-0-177"><span class="linenos" data-linenos="177 "></span></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><a href="#__codelineno-0-178"><span class="linenos" data-linenos="178 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><a href="#__codelineno-0-179"><span class="linenos" data-linenos="179 "></span></a><span class="sd">        video: A `Video` object to convert.</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><a href="#__codelineno-0-180"><span class="linenos" data-linenos="180 "></span></a>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><a href="#__codelineno-0-181"><span class="linenos" data-linenos="181 "></span></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><a href="#__codelineno-0-182"><span class="linenos" data-linenos="182 "></span></a><span class="sd">        A dictionary containing the video metadata.</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><a href="#__codelineno-0-183"><span class="linenos" data-linenos="183 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><a href="#__codelineno-0-184"><span class="linenos" data-linenos="184 "></span></a>    <span class="n">video_filename</span> <span class="o">=</span> <span class="n">sanitize_filename</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><a href="#__codelineno-0-185"><span class="linenos" data-linenos="185 "></span></a>    <span class="k">if</span> <span class="n">video</span><span class="o">.</span><span class="n">backend</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><a href="#__codelineno-0-186"><span class="linenos" data-linenos="186 "></span></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">video_filename</span><span class="p">,</span> <span class="s2">&quot;backend&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">backend_metadata</span><span class="p">}</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><a href="#__codelineno-0-187"><span class="linenos" data-linenos="187 "></span></a>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><a href="#__codelineno-0-188"><span class="linenos" data-linenos="188 "></span></a>    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span> <span class="o">==</span> <span class="n">MediaVideo</span><span class="p">:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><a href="#__codelineno-0-189"><span class="linenos" data-linenos="189 "></span></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><a href="#__codelineno-0-190"><span class="linenos" data-linenos="190 "></span></a>            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">video_filename</span><span class="p">,</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><a href="#__codelineno-0-191"><span class="linenos" data-linenos="191 "></span></a>            <span class="s2">&quot;backend&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><a href="#__codelineno-0-192"><span class="linenos" data-linenos="192 "></span></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;MediaVideo&quot;</span><span class="p">,</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><a href="#__codelineno-0-193"><span class="linenos" data-linenos="193 "></span></a>                <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><a href="#__codelineno-0-194"><span class="linenos" data-linenos="194 "></span></a>                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">video_filename</span><span class="p">,</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><a href="#__codelineno-0-195"><span class="linenos" data-linenos="195 "></span></a>                <span class="s2">&quot;grayscale&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">grayscale</span><span class="p">,</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><a href="#__codelineno-0-196"><span class="linenos" data-linenos="196 "></span></a>                <span class="s2">&quot;bgr&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><a href="#__codelineno-0-197"><span class="linenos" data-linenos="197 "></span></a>                <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><a href="#__codelineno-0-198"><span class="linenos" data-linenos="198 "></span></a>                <span class="s2">&quot;input_format&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><a href="#__codelineno-0-199"><span class="linenos" data-linenos="199 "></span></a>            <span class="p">},</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><a href="#__codelineno-0-200"><span class="linenos" data-linenos="200 "></span></a>        <span class="p">}</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><a href="#__codelineno-0-201"><span class="linenos" data-linenos="201 "></span></a>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><a href="#__codelineno-0-202"><span class="linenos" data-linenos="202 "></span></a>    <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span> <span class="o">==</span> <span class="n">HDF5Video</span><span class="p">:</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><a href="#__codelineno-0-203"><span class="linenos" data-linenos="203 "></span></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><a href="#__codelineno-0-204"><span class="linenos" data-linenos="204 "></span></a>            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">video_filename</span><span class="p">,</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><a href="#__codelineno-0-205"><span class="linenos" data-linenos="205 "></span></a>            <span class="s2">&quot;backend&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><a href="#__codelineno-0-206"><span class="linenos" data-linenos="206 "></span></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;HDF5Video&quot;</span><span class="p">,</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><a href="#__codelineno-0-207"><span class="linenos" data-linenos="207 "></span></a>                <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a><a href="#__codelineno-0-208"><span class="linenos" data-linenos="208 "></span></a>                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><a href="#__codelineno-0-209"><span class="linenos" data-linenos="209 "></span></a>                    <span class="s2">&quot;.&quot;</span> <span class="k">if</span> <span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">has_embedded_images</span> <span class="k">else</span> <span class="n">video_filename</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><a href="#__codelineno-0-210"><span class="linenos" data-linenos="210 "></span></a>                <span class="p">),</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><a href="#__codelineno-0-211"><span class="linenos" data-linenos="211 "></span></a>                <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><a href="#__codelineno-0-212"><span class="linenos" data-linenos="212 "></span></a>                <span class="s2">&quot;input_format&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">input_format</span><span class="p">,</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><a href="#__codelineno-0-213"><span class="linenos" data-linenos="213 "></span></a>                <span class="s2">&quot;convert_range&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><a href="#__codelineno-0-214"><span class="linenos" data-linenos="214 "></span></a>                <span class="s2">&quot;has_embedded_images&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">has_embedded_images</span><span class="p">,</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><a href="#__codelineno-0-215"><span class="linenos" data-linenos="215 "></span></a>                <span class="s2">&quot;grayscale&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">grayscale</span><span class="p">,</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><a href="#__codelineno-0-216"><span class="linenos" data-linenos="216 "></span></a>            <span class="p">},</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><a href="#__codelineno-0-217"><span class="linenos" data-linenos="217 "></span></a>        <span class="p">}</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><a href="#__codelineno-0-218"><span class="linenos" data-linenos="218 "></span></a>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><a href="#__codelineno-0-219"><span class="linenos" data-linenos="219 "></span></a>    <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span> <span class="o">==</span> <span class="n">ImageVideo</span><span class="p">:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><a href="#__codelineno-0-220"><span class="linenos" data-linenos="220 "></span></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><a href="#__codelineno-0-221"><span class="linenos" data-linenos="221 "></span></a>            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">video_filename</span><span class="p">,</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><a href="#__codelineno-0-222"><span class="linenos" data-linenos="222 "></span></a>            <span class="s2">&quot;backend&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><a href="#__codelineno-0-223"><span class="linenos" data-linenos="223 "></span></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ImageVideo&quot;</span><span class="p">,</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><a href="#__codelineno-0-224"><span class="linenos" data-linenos="224 "></span></a>                <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><a href="#__codelineno-0-225"><span class="linenos" data-linenos="225 "></span></a>                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">sanitize_filename</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">filename</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><a href="#__codelineno-0-226"><span class="linenos" data-linenos="226 "></span></a>                <span class="s2">&quot;filenames&quot;</span><span class="p">:</span> <span class="n">sanitize_filename</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">filename</span><span class="p">),</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><a href="#__codelineno-0-227"><span class="linenos" data-linenos="227 "></span></a>                <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">backend_metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dataset&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><a href="#__codelineno-0-228"><span class="linenos" data-linenos="228 "></span></a>                <span class="s2">&quot;grayscale&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">grayscale</span><span class="p">,</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><a href="#__codelineno-0-229"><span class="linenos" data-linenos="229 "></span></a>                <span class="s2">&quot;input_format&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">backend_metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_format&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a><a href="#__codelineno-0-230"><span class="linenos" data-linenos="230 "></span></a>            <span class="p">},</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><a href="#__codelineno-0-231"><span class="linenos" data-linenos="231 "></span></a>        <span class="p">}</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_labels</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">embed</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_labels" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file to save.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Labels&lt;/code&gt;" href="../../../../model/#sleap_io.Labels">Labels</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Labels</code> object to save.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>embed</code>
            </td>
            <td>
                  <code><span title="bool">bool</span> | <span title="str">str</span> | <span title="list">list</span>[<span title="tuple">tuple</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>, <span title="int">int</span>]] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frames to embed in the saved labels file. One of <code>None</code>, <code>True</code>,
<code>"all"</code>, <code>"user"</code>, <code>"suggestions"</code>, <code>"user+suggestions"</code>, <code>"source"</code> or list
of tuples of <code>(video, frame_idx)</code>.</p>
<p>If <code>None</code> is specified (the default) and the labels contains embedded
frames, those embedded frames will be re-saved to the new file.</p>
<p>If <code>True</code> or <code>"all"</code>, all labeled frames and suggested frames will be
embedded.</p>
<p>If <code>"source"</code> is specified, no images will be embedded and the source video
will be restored if available.</p>
<p>This argument is only valid for the SLP backend.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1673" name="__codelineno-0-1673"></a><a href="#__codelineno-0-1673"><span class="linenos" data-linenos="1673 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_labels</span><span class="p">(</span>
<a id="__codelineno-0-1674" name="__codelineno-0-1674"></a><a href="#__codelineno-0-1674"><span class="linenos" data-linenos="1674 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-1675" name="__codelineno-0-1675"></a><a href="#__codelineno-0-1675"><span class="linenos" data-linenos="1675 "></span></a>    <span class="n">labels</span><span class="p">:</span> <span class="n">Labels</span><span class="p">,</span>
<a id="__codelineno-0-1676" name="__codelineno-0-1676"></a><a href="#__codelineno-0-1676"><span class="linenos" data-linenos="1676 "></span></a>    <span class="n">embed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Video</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1677" name="__codelineno-0-1677"></a><a href="#__codelineno-0-1677"><span class="linenos" data-linenos="1677 "></span></a><span class="p">):</span>
<a id="__codelineno-0-1678" name="__codelineno-0-1678"></a><a href="#__codelineno-0-1678"><span class="linenos" data-linenos="1678 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write a SLEAP labels file.</span>
<a id="__codelineno-0-1679" name="__codelineno-0-1679"></a><a href="#__codelineno-0-1679"><span class="linenos" data-linenos="1679 "></span></a>
<a id="__codelineno-0-1680" name="__codelineno-0-1680"></a><a href="#__codelineno-0-1680"><span class="linenos" data-linenos="1680 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1681" name="__codelineno-0-1681"></a><a href="#__codelineno-0-1681"><span class="linenos" data-linenos="1681 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file to save.</span>
<a id="__codelineno-0-1682" name="__codelineno-0-1682"></a><a href="#__codelineno-0-1682"><span class="linenos" data-linenos="1682 "></span></a><span class="sd">        labels: A `Labels` object to save.</span>
<a id="__codelineno-0-1683" name="__codelineno-0-1683"></a><a href="#__codelineno-0-1683"><span class="linenos" data-linenos="1683 "></span></a><span class="sd">        embed: Frames to embed in the saved labels file. One of `None`, `True`,</span>
<a id="__codelineno-0-1684" name="__codelineno-0-1684"></a><a href="#__codelineno-0-1684"><span class="linenos" data-linenos="1684 "></span></a><span class="sd">            `&quot;all&quot;`, `&quot;user&quot;`, `&quot;suggestions&quot;`, `&quot;user+suggestions&quot;`, `&quot;source&quot;` or list</span>
<a id="__codelineno-0-1685" name="__codelineno-0-1685"></a><a href="#__codelineno-0-1685"><span class="linenos" data-linenos="1685 "></span></a><span class="sd">            of tuples of `(video, frame_idx)`.</span>
<a id="__codelineno-0-1686" name="__codelineno-0-1686"></a><a href="#__codelineno-0-1686"><span class="linenos" data-linenos="1686 "></span></a>
<a id="__codelineno-0-1687" name="__codelineno-0-1687"></a><a href="#__codelineno-0-1687"><span class="linenos" data-linenos="1687 "></span></a><span class="sd">            If `None` is specified (the default) and the labels contains embedded</span>
<a id="__codelineno-0-1688" name="__codelineno-0-1688"></a><a href="#__codelineno-0-1688"><span class="linenos" data-linenos="1688 "></span></a><span class="sd">            frames, those embedded frames will be re-saved to the new file.</span>
<a id="__codelineno-0-1689" name="__codelineno-0-1689"></a><a href="#__codelineno-0-1689"><span class="linenos" data-linenos="1689 "></span></a>
<a id="__codelineno-0-1690" name="__codelineno-0-1690"></a><a href="#__codelineno-0-1690"><span class="linenos" data-linenos="1690 "></span></a><span class="sd">            If `True` or `&quot;all&quot;`, all labeled frames and suggested frames will be</span>
<a id="__codelineno-0-1691" name="__codelineno-0-1691"></a><a href="#__codelineno-0-1691"><span class="linenos" data-linenos="1691 "></span></a><span class="sd">            embedded.</span>
<a id="__codelineno-0-1692" name="__codelineno-0-1692"></a><a href="#__codelineno-0-1692"><span class="linenos" data-linenos="1692 "></span></a>
<a id="__codelineno-0-1693" name="__codelineno-0-1693"></a><a href="#__codelineno-0-1693"><span class="linenos" data-linenos="1693 "></span></a><span class="sd">            If `&quot;source&quot;` is specified, no images will be embedded and the source video</span>
<a id="__codelineno-0-1694" name="__codelineno-0-1694"></a><a href="#__codelineno-0-1694"><span class="linenos" data-linenos="1694 "></span></a><span class="sd">            will be restored if available.</span>
<a id="__codelineno-0-1695" name="__codelineno-0-1695"></a><a href="#__codelineno-0-1695"><span class="linenos" data-linenos="1695 "></span></a>
<a id="__codelineno-0-1696" name="__codelineno-0-1696"></a><a href="#__codelineno-0-1696"><span class="linenos" data-linenos="1696 "></span></a><span class="sd">            This argument is only valid for the SLP backend.</span>
<a id="__codelineno-0-1697" name="__codelineno-0-1697"></a><a href="#__codelineno-0-1697"><span class="linenos" data-linenos="1697 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1698" name="__codelineno-0-1698"></a><a href="#__codelineno-0-1698"><span class="linenos" data-linenos="1698 "></span></a>    <span class="k">if</span> <span class="n">Path</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
<a id="__codelineno-0-1699" name="__codelineno-0-1699"></a><a href="#__codelineno-0-1699"><span class="linenos" data-linenos="1699 "></span></a>        <span class="n">Path</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
<a id="__codelineno-0-1700" name="__codelineno-0-1700"></a><a href="#__codelineno-0-1700"><span class="linenos" data-linenos="1700 "></span></a>
<a id="__codelineno-0-1701" name="__codelineno-0-1701"></a><a href="#__codelineno-0-1701"><span class="linenos" data-linenos="1701 "></span></a>    <span class="k">if</span> <span class="n">embed</span><span class="p">:</span>
<a id="__codelineno-0-1702" name="__codelineno-0-1702"></a><a href="#__codelineno-0-1702"><span class="linenos" data-linenos="1702 "></span></a>        <span class="n">embed_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">embed</span><span class="p">)</span>
<a id="__codelineno-0-1703" name="__codelineno-0-1703"></a><a href="#__codelineno-0-1703"><span class="linenos" data-linenos="1703 "></span></a>    <span class="n">write_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">videos</span><span class="p">,</span> <span class="n">restore_source</span><span class="o">=</span><span class="p">(</span><span class="n">embed</span> <span class="o">==</span> <span class="s2">&quot;source&quot;</span><span class="p">))</span>
<a id="__codelineno-0-1704" name="__codelineno-0-1704"></a><a href="#__codelineno-0-1704"><span class="linenos" data-linenos="1704 "></span></a>    <span class="n">write_tracks</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">tracks</span><span class="p">)</span>
<a id="__codelineno-0-1705" name="__codelineno-0-1705"></a><a href="#__codelineno-0-1705"><span class="linenos" data-linenos="1705 "></span></a>    <span class="n">write_suggestions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">suggestions</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">videos</span><span class="p">)</span>
<a id="__codelineno-0-1706" name="__codelineno-0-1706"></a><a href="#__codelineno-0-1706"><span class="linenos" data-linenos="1706 "></span></a>    <span class="n">write_sessions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">sessions</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">videos</span><span class="p">,</span> <span class="n">labels</span><span class="o">.</span><span class="n">labeled_frames</span><span class="p">)</span>
<a id="__codelineno-0-1707" name="__codelineno-0-1707"></a><a href="#__codelineno-0-1707"><span class="linenos" data-linenos="1707 "></span></a>    <span class="n">write_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<a id="__codelineno-0-1708" name="__codelineno-0-1708"></a><a href="#__codelineno-0-1708"><span class="linenos" data-linenos="1708 "></span></a>    <span class="n">write_lfs</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_lfs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_lfs</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_lfs" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write labeled frames, instances and points to a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Labels&lt;/code&gt;" href="../../../../model/#sleap_io.Labels">Labels</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Labels</code> object to store the metadata for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-913" name="__codelineno-0-913"></a><a href="#__codelineno-0-913"><span class="linenos" data-linenos=" 913 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_lfs</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">Labels</span><span class="p">):</span>
<a id="__codelineno-0-914" name="__codelineno-0-914"></a><a href="#__codelineno-0-914"><span class="linenos" data-linenos=" 914 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write labeled frames, instances and points to a SLEAP labels file.</span>
<a id="__codelineno-0-915" name="__codelineno-0-915"></a><a href="#__codelineno-0-915"><span class="linenos" data-linenos=" 915 "></span></a>
<a id="__codelineno-0-916" name="__codelineno-0-916"></a><a href="#__codelineno-0-916"><span class="linenos" data-linenos=" 916 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-917" name="__codelineno-0-917"></a><a href="#__codelineno-0-917"><span class="linenos" data-linenos=" 917 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-918" name="__codelineno-0-918"></a><a href="#__codelineno-0-918"><span class="linenos" data-linenos=" 918 "></span></a><span class="sd">        labels: A `Labels` object to store the metadata for.</span>
<a id="__codelineno-0-919" name="__codelineno-0-919"></a><a href="#__codelineno-0-919"><span class="linenos" data-linenos=" 919 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-920" name="__codelineno-0-920"></a><a href="#__codelineno-0-920"><span class="linenos" data-linenos=" 920 "></span></a>    <span class="c1"># We store the data in structured arrays for performance, so we first define the</span>
<a id="__codelineno-0-921" name="__codelineno-0-921"></a><a href="#__codelineno-0-921"><span class="linenos" data-linenos=" 921 "></span></a>    <span class="c1"># dtype fields.</span>
<a id="__codelineno-0-922" name="__codelineno-0-922"></a><a href="#__codelineno-0-922"><span class="linenos" data-linenos=" 922 "></span></a>    <span class="n">instance_dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span>
<a id="__codelineno-0-923" name="__codelineno-0-923"></a><a href="#__codelineno-0-923"><span class="linenos" data-linenos=" 923 "></span></a>        <span class="p">[</span>
<a id="__codelineno-0-924" name="__codelineno-0-924"></a><a href="#__codelineno-0-924"><span class="linenos" data-linenos=" 924 "></span></a>            <span class="p">(</span><span class="s2">&quot;instance_id&quot;</span><span class="p">,</span> <span class="s2">&quot;i8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-925" name="__codelineno-0-925"></a><a href="#__codelineno-0-925"><span class="linenos" data-linenos=" 925 "></span></a>            <span class="p">(</span><span class="s2">&quot;instance_type&quot;</span><span class="p">,</span> <span class="s2">&quot;u1&quot;</span><span class="p">),</span>
<a id="__codelineno-0-926" name="__codelineno-0-926"></a><a href="#__codelineno-0-926"><span class="linenos" data-linenos=" 926 "></span></a>            <span class="p">(</span><span class="s2">&quot;frame_id&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-927" name="__codelineno-0-927"></a><a href="#__codelineno-0-927"><span class="linenos" data-linenos=" 927 "></span></a>            <span class="p">(</span><span class="s2">&quot;skeleton&quot;</span><span class="p">,</span> <span class="s2">&quot;u4&quot;</span><span class="p">),</span>
<a id="__codelineno-0-928" name="__codelineno-0-928"></a><a href="#__codelineno-0-928"><span class="linenos" data-linenos=" 928 "></span></a>            <span class="p">(</span><span class="s2">&quot;track&quot;</span><span class="p">,</span> <span class="s2">&quot;i4&quot;</span><span class="p">),</span>
<a id="__codelineno-0-929" name="__codelineno-0-929"></a><a href="#__codelineno-0-929"><span class="linenos" data-linenos=" 929 "></span></a>            <span class="p">(</span><span class="s2">&quot;from_predicted&quot;</span><span class="p">,</span> <span class="s2">&quot;i8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-930" name="__codelineno-0-930"></a><a href="#__codelineno-0-930"><span class="linenos" data-linenos=" 930 "></span></a>            <span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="s2">&quot;f4&quot;</span><span class="p">),</span>
<a id="__codelineno-0-931" name="__codelineno-0-931"></a><a href="#__codelineno-0-931"><span class="linenos" data-linenos=" 931 "></span></a>            <span class="p">(</span><span class="s2">&quot;point_id_start&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-932" name="__codelineno-0-932"></a><a href="#__codelineno-0-932"><span class="linenos" data-linenos=" 932 "></span></a>            <span class="p">(</span><span class="s2">&quot;point_id_end&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-933" name="__codelineno-0-933"></a><a href="#__codelineno-0-933"><span class="linenos" data-linenos=" 933 "></span></a>            <span class="p">(</span><span class="s2">&quot;tracking_score&quot;</span><span class="p">,</span> <span class="s2">&quot;f4&quot;</span><span class="p">),</span>  <span class="c1"># FORMAT_ID &gt;= 1.2</span>
<a id="__codelineno-0-934" name="__codelineno-0-934"></a><a href="#__codelineno-0-934"><span class="linenos" data-linenos=" 934 "></span></a>        <span class="p">]</span>
<a id="__codelineno-0-935" name="__codelineno-0-935"></a><a href="#__codelineno-0-935"><span class="linenos" data-linenos=" 935 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-936" name="__codelineno-0-936"></a><a href="#__codelineno-0-936"><span class="linenos" data-linenos=" 936 "></span></a>    <span class="n">frame_dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span>
<a id="__codelineno-0-937" name="__codelineno-0-937"></a><a href="#__codelineno-0-937"><span class="linenos" data-linenos=" 937 "></span></a>        <span class="p">[</span>
<a id="__codelineno-0-938" name="__codelineno-0-938"></a><a href="#__codelineno-0-938"><span class="linenos" data-linenos=" 938 "></span></a>            <span class="p">(</span><span class="s2">&quot;frame_id&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-939" name="__codelineno-0-939"></a><a href="#__codelineno-0-939"><span class="linenos" data-linenos=" 939 "></span></a>            <span class="p">(</span><span class="s2">&quot;video&quot;</span><span class="p">,</span> <span class="s2">&quot;u4&quot;</span><span class="p">),</span>
<a id="__codelineno-0-940" name="__codelineno-0-940"></a><a href="#__codelineno-0-940"><span class="linenos" data-linenos=" 940 "></span></a>            <span class="p">(</span><span class="s2">&quot;frame_idx&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-941" name="__codelineno-0-941"></a><a href="#__codelineno-0-941"><span class="linenos" data-linenos=" 941 "></span></a>            <span class="p">(</span><span class="s2">&quot;instance_id_start&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-942" name="__codelineno-0-942"></a><a href="#__codelineno-0-942"><span class="linenos" data-linenos=" 942 "></span></a>            <span class="p">(</span><span class="s2">&quot;instance_id_end&quot;</span><span class="p">,</span> <span class="s2">&quot;u8&quot;</span><span class="p">),</span>
<a id="__codelineno-0-943" name="__codelineno-0-943"></a><a href="#__codelineno-0-943"><span class="linenos" data-linenos=" 943 "></span></a>        <span class="p">]</span>
<a id="__codelineno-0-944" name="__codelineno-0-944"></a><a href="#__codelineno-0-944"><span class="linenos" data-linenos=" 944 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-945" name="__codelineno-0-945"></a><a href="#__codelineno-0-945"><span class="linenos" data-linenos=" 945 "></span></a>    <span class="n">point_dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span>
<a id="__codelineno-0-946" name="__codelineno-0-946"></a><a href="#__codelineno-0-946"><span class="linenos" data-linenos=" 946 "></span></a>        <span class="p">[(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;f8&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;f8&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;complete&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)]</span>
<a id="__codelineno-0-947" name="__codelineno-0-947"></a><a href="#__codelineno-0-947"><span class="linenos" data-linenos=" 947 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-948" name="__codelineno-0-948"></a><a href="#__codelineno-0-948"><span class="linenos" data-linenos=" 948 "></span></a>    <span class="n">predicted_point_dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span>
<a id="__codelineno-0-949" name="__codelineno-0-949"></a><a href="#__codelineno-0-949"><span class="linenos" data-linenos=" 949 "></span></a>        <span class="p">[(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;f8&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;f8&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;complete&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="s2">&quot;f8&quot;</span><span class="p">)]</span>
<a id="__codelineno-0-950" name="__codelineno-0-950"></a><a href="#__codelineno-0-950"><span class="linenos" data-linenos=" 950 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-951" name="__codelineno-0-951"></a><a href="#__codelineno-0-951"><span class="linenos" data-linenos=" 951 "></span></a>
<a id="__codelineno-0-952" name="__codelineno-0-952"></a><a href="#__codelineno-0-952"><span class="linenos" data-linenos=" 952 "></span></a>    <span class="c1"># Next, we extract the data from the labels object into lists with the same fields.</span>
<a id="__codelineno-0-953" name="__codelineno-0-953"></a><a href="#__codelineno-0-953"><span class="linenos" data-linenos=" 953 "></span></a>    <span class="n">frames</span><span class="p">,</span> <span class="n">instances</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">predicted_points</span><span class="p">,</span> <span class="n">to_link</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
<a id="__codelineno-0-954" name="__codelineno-0-954"></a><a href="#__codelineno-0-954"><span class="linenos" data-linenos=" 954 "></span></a>    <span class="n">inst_to_id</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-955" name="__codelineno-0-955"></a><a href="#__codelineno-0-955"><span class="linenos" data-linenos=" 955 "></span></a>    <span class="k">for</span> <span class="n">lf</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
<a id="__codelineno-0-956" name="__codelineno-0-956"></a><a href="#__codelineno-0-956"><span class="linenos" data-linenos=" 956 "></span></a>        <span class="n">frame_id</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
<a id="__codelineno-0-957" name="__codelineno-0-957"></a><a href="#__codelineno-0-957"><span class="linenos" data-linenos=" 957 "></span></a>        <span class="n">instance_id_start</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">)</span>
<a id="__codelineno-0-958" name="__codelineno-0-958"></a><a href="#__codelineno-0-958"><span class="linenos" data-linenos=" 958 "></span></a>        <span class="k">for</span> <span class="n">inst</span> <span class="ow">in</span> <span class="n">lf</span><span class="p">:</span>
<a id="__codelineno-0-959" name="__codelineno-0-959"></a><a href="#__codelineno-0-959"><span class="linenos" data-linenos=" 959 "></span></a>            <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">)</span>
<a id="__codelineno-0-960" name="__codelineno-0-960"></a><a href="#__codelineno-0-960"><span class="linenos" data-linenos=" 960 "></span></a>            <span class="n">inst_to_id</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">inst</span><span class="p">)]</span> <span class="o">=</span> <span class="n">instance_id</span>
<a id="__codelineno-0-961" name="__codelineno-0-961"></a><a href="#__codelineno-0-961"><span class="linenos" data-linenos=" 961 "></span></a>            <span class="n">skeleton_id</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">skeletons</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">skeleton</span><span class="p">)</span>
<a id="__codelineno-0-962" name="__codelineno-0-962"></a><a href="#__codelineno-0-962"><span class="linenos" data-linenos=" 962 "></span></a>            <span class="n">track</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">tracks</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">track</span><span class="p">)</span> <span class="k">if</span> <span class="n">inst</span><span class="o">.</span><span class="n">track</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-0-963" name="__codelineno-0-963"></a><a href="#__codelineno-0-963"><span class="linenos" data-linenos=" 963 "></span></a>            <span class="n">from_predicted</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-0-964" name="__codelineno-0-964"></a><a href="#__codelineno-0-964"><span class="linenos" data-linenos=" 964 "></span></a>            <span class="k">if</span> <span class="n">inst</span><span class="o">.</span><span class="n">from_predicted</span><span class="p">:</span>
<a id="__codelineno-0-965" name="__codelineno-0-965"></a><a href="#__codelineno-0-965"><span class="linenos" data-linenos=" 965 "></span></a>                <span class="n">to_link</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">instance_id</span><span class="p">,</span> <span class="n">inst</span><span class="o">.</span><span class="n">from_predicted</span><span class="p">))</span>
<a id="__codelineno-0-966" name="__codelineno-0-966"></a><a href="#__codelineno-0-966"><span class="linenos" data-linenos=" 966 "></span></a>            <span class="n">score</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-967" name="__codelineno-0-967"></a><a href="#__codelineno-0-967"><span class="linenos" data-linenos=" 967 "></span></a>
<a id="__codelineno-0-968" name="__codelineno-0-968"></a><a href="#__codelineno-0-968"><span class="linenos" data-linenos=" 968 "></span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">inst</span><span class="p">)</span> <span class="o">==</span> <span class="n">Instance</span><span class="p">:</span>
<a id="__codelineno-0-969" name="__codelineno-0-969"></a><a href="#__codelineno-0-969"><span class="linenos" data-linenos=" 969 "></span></a>                <span class="n">instance_type</span> <span class="o">=</span> <span class="n">InstanceType</span><span class="o">.</span><span class="n">USER</span>
<a id="__codelineno-0-970" name="__codelineno-0-970"></a><a href="#__codelineno-0-970"><span class="linenos" data-linenos=" 970 "></span></a>                <span class="n">tracking_score</span> <span class="o">=</span> <span class="n">inst</span><span class="o">.</span><span class="n">tracking_score</span>
<a id="__codelineno-0-971" name="__codelineno-0-971"></a><a href="#__codelineno-0-971"><span class="linenos" data-linenos=" 971 "></span></a>                <span class="n">point_id_start</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<a id="__codelineno-0-972" name="__codelineno-0-972"></a><a href="#__codelineno-0-972"><span class="linenos" data-linenos=" 972 "></span></a>
<a id="__codelineno-0-973" name="__codelineno-0-973"></a><a href="#__codelineno-0-973"><span class="linenos" data-linenos=" 973 "></span></a>                <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
<a id="__codelineno-0-974" name="__codelineno-0-974"></a><a href="#__codelineno-0-974"><span class="linenos" data-linenos=" 974 "></span></a>                    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-975" name="__codelineno-0-975"></a><a href="#__codelineno-0-975"><span class="linenos" data-linenos=" 975 "></span></a>                        <span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span> <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">]]</span>
<a id="__codelineno-0-976" name="__codelineno-0-976"></a><a href="#__codelineno-0-976"><span class="linenos" data-linenos=" 976 "></span></a>                    <span class="p">)</span>
<a id="__codelineno-0-977" name="__codelineno-0-977"></a><a href="#__codelineno-0-977"><span class="linenos" data-linenos=" 977 "></span></a>
<a id="__codelineno-0-978" name="__codelineno-0-978"></a><a href="#__codelineno-0-978"><span class="linenos" data-linenos=" 978 "></span></a>                <span class="n">point_id_end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<a id="__codelineno-0-979" name="__codelineno-0-979"></a><a href="#__codelineno-0-979"><span class="linenos" data-linenos=" 979 "></span></a>
<a id="__codelineno-0-980" name="__codelineno-0-980"></a><a href="#__codelineno-0-980"><span class="linenos" data-linenos=" 980 "></span></a>            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">inst</span><span class="p">)</span> <span class="o">==</span> <span class="n">PredictedInstance</span><span class="p">:</span>
<a id="__codelineno-0-981" name="__codelineno-0-981"></a><a href="#__codelineno-0-981"><span class="linenos" data-linenos=" 981 "></span></a>                <span class="n">instance_type</span> <span class="o">=</span> <span class="n">InstanceType</span><span class="o">.</span><span class="n">PREDICTED</span>
<a id="__codelineno-0-982" name="__codelineno-0-982"></a><a href="#__codelineno-0-982"><span class="linenos" data-linenos=" 982 "></span></a>                <span class="n">score</span> <span class="o">=</span> <span class="n">inst</span><span class="o">.</span><span class="n">score</span>
<a id="__codelineno-0-983" name="__codelineno-0-983"></a><a href="#__codelineno-0-983"><span class="linenos" data-linenos=" 983 "></span></a>                <span class="n">tracking_score</span> <span class="o">=</span> <span class="n">inst</span><span class="o">.</span><span class="n">tracking_score</span>
<a id="__codelineno-0-984" name="__codelineno-0-984"></a><a href="#__codelineno-0-984"><span class="linenos" data-linenos=" 984 "></span></a>                <span class="n">point_id_start</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">predicted_points</span><span class="p">)</span>
<a id="__codelineno-0-985" name="__codelineno-0-985"></a><a href="#__codelineno-0-985"><span class="linenos" data-linenos=" 985 "></span></a>
<a id="__codelineno-0-986" name="__codelineno-0-986"></a><a href="#__codelineno-0-986"><span class="linenos" data-linenos=" 986 "></span></a>                <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">inst</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
<a id="__codelineno-0-987" name="__codelineno-0-987"></a><a href="#__codelineno-0-987"><span class="linenos" data-linenos=" 987 "></span></a>                    <span class="n">predicted_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-988" name="__codelineno-0-988"></a><a href="#__codelineno-0-988"><span class="linenos" data-linenos=" 988 "></span></a>                        <span class="p">[</span>
<a id="__codelineno-0-989" name="__codelineno-0-989"></a><a href="#__codelineno-0-989"><span class="linenos" data-linenos=" 989 "></span></a>                            <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-990" name="__codelineno-0-990"></a><a href="#__codelineno-0-990"><span class="linenos" data-linenos=" 990 "></span></a>                            <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;xy&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
<a id="__codelineno-0-991" name="__codelineno-0-991"></a><a href="#__codelineno-0-991"><span class="linenos" data-linenos=" 991 "></span></a>                            <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
<a id="__codelineno-0-992" name="__codelineno-0-992"></a><a href="#__codelineno-0-992"><span class="linenos" data-linenos=" 992 "></span></a>                            <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">],</span>
<a id="__codelineno-0-993" name="__codelineno-0-993"></a><a href="#__codelineno-0-993"><span class="linenos" data-linenos=" 993 "></span></a>                            <span class="n">pt</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">],</span>
<a id="__codelineno-0-994" name="__codelineno-0-994"></a><a href="#__codelineno-0-994"><span class="linenos" data-linenos=" 994 "></span></a>                        <span class="p">]</span>
<a id="__codelineno-0-995" name="__codelineno-0-995"></a><a href="#__codelineno-0-995"><span class="linenos" data-linenos=" 995 "></span></a>                    <span class="p">)</span>
<a id="__codelineno-0-996" name="__codelineno-0-996"></a><a href="#__codelineno-0-996"><span class="linenos" data-linenos=" 996 "></span></a>
<a id="__codelineno-0-997" name="__codelineno-0-997"></a><a href="#__codelineno-0-997"><span class="linenos" data-linenos=" 997 "></span></a>                <span class="n">point_id_end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">predicted_points</span><span class="p">)</span>
<a id="__codelineno-0-998" name="__codelineno-0-998"></a><a href="#__codelineno-0-998"><span class="linenos" data-linenos=" 998 "></span></a>
<a id="__codelineno-0-999" name="__codelineno-0-999"></a><a href="#__codelineno-0-999"><span class="linenos" data-linenos=" 999 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1000" name="__codelineno-0-1000"></a><a href="#__codelineno-0-1000"><span class="linenos" data-linenos="1000 "></span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown instance type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">inst</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1001" name="__codelineno-0-1001"></a><a href="#__codelineno-0-1001"><span class="linenos" data-linenos="1001 "></span></a>
<a id="__codelineno-0-1002" name="__codelineno-0-1002"></a><a href="#__codelineno-0-1002"><span class="linenos" data-linenos="1002 "></span></a>            <span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-1003" name="__codelineno-0-1003"></a><a href="#__codelineno-0-1003"><span class="linenos" data-linenos="1003 "></span></a>                <span class="p">[</span>
<a id="__codelineno-0-1004" name="__codelineno-0-1004"></a><a href="#__codelineno-0-1004"><span class="linenos" data-linenos="1004 "></span></a>                    <span class="n">instance_id</span><span class="p">,</span>
<a id="__codelineno-0-1005" name="__codelineno-0-1005"></a><a href="#__codelineno-0-1005"><span class="linenos" data-linenos="1005 "></span></a>                    <span class="nb">int</span><span class="p">(</span><span class="n">instance_type</span><span class="p">),</span>
<a id="__codelineno-0-1006" name="__codelineno-0-1006"></a><a href="#__codelineno-0-1006"><span class="linenos" data-linenos="1006 "></span></a>                    <span class="n">frame_id</span><span class="p">,</span>
<a id="__codelineno-0-1007" name="__codelineno-0-1007"></a><a href="#__codelineno-0-1007"><span class="linenos" data-linenos="1007 "></span></a>                    <span class="n">skeleton_id</span><span class="p">,</span>
<a id="__codelineno-0-1008" name="__codelineno-0-1008"></a><a href="#__codelineno-0-1008"><span class="linenos" data-linenos="1008 "></span></a>                    <span class="n">track</span><span class="p">,</span>
<a id="__codelineno-0-1009" name="__codelineno-0-1009"></a><a href="#__codelineno-0-1009"><span class="linenos" data-linenos="1009 "></span></a>                    <span class="n">from_predicted</span><span class="p">,</span>
<a id="__codelineno-0-1010" name="__codelineno-0-1010"></a><a href="#__codelineno-0-1010"><span class="linenos" data-linenos="1010 "></span></a>                    <span class="n">score</span><span class="p">,</span>
<a id="__codelineno-0-1011" name="__codelineno-0-1011"></a><a href="#__codelineno-0-1011"><span class="linenos" data-linenos="1011 "></span></a>                    <span class="n">point_id_start</span><span class="p">,</span>
<a id="__codelineno-0-1012" name="__codelineno-0-1012"></a><a href="#__codelineno-0-1012"><span class="linenos" data-linenos="1012 "></span></a>                    <span class="n">point_id_end</span><span class="p">,</span>
<a id="__codelineno-0-1013" name="__codelineno-0-1013"></a><a href="#__codelineno-0-1013"><span class="linenos" data-linenos="1013 "></span></a>                    <span class="n">tracking_score</span><span class="p">,</span>
<a id="__codelineno-0-1014" name="__codelineno-0-1014"></a><a href="#__codelineno-0-1014"><span class="linenos" data-linenos="1014 "></span></a>                <span class="p">]</span>
<a id="__codelineno-0-1015" name="__codelineno-0-1015"></a><a href="#__codelineno-0-1015"><span class="linenos" data-linenos="1015 "></span></a>            <span class="p">)</span>
<a id="__codelineno-0-1016" name="__codelineno-0-1016"></a><a href="#__codelineno-0-1016"><span class="linenos" data-linenos="1016 "></span></a>
<a id="__codelineno-0-1017" name="__codelineno-0-1017"></a><a href="#__codelineno-0-1017"><span class="linenos" data-linenos="1017 "></span></a>        <span class="n">instance_id_end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">)</span>
<a id="__codelineno-0-1018" name="__codelineno-0-1018"></a><a href="#__codelineno-0-1018"><span class="linenos" data-linenos="1018 "></span></a>
<a id="__codelineno-0-1019" name="__codelineno-0-1019"></a><a href="#__codelineno-0-1019"><span class="linenos" data-linenos="1019 "></span></a>        <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-0-1020" name="__codelineno-0-1020"></a><a href="#__codelineno-0-1020"><span class="linenos" data-linenos="1020 "></span></a>            <span class="p">[</span>
<a id="__codelineno-0-1021" name="__codelineno-0-1021"></a><a href="#__codelineno-0-1021"><span class="linenos" data-linenos="1021 "></span></a>                <span class="n">frame_id</span><span class="p">,</span>
<a id="__codelineno-0-1022" name="__codelineno-0-1022"></a><a href="#__codelineno-0-1022"><span class="linenos" data-linenos="1022 "></span></a>                <span class="n">labels</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">lf</span><span class="o">.</span><span class="n">video</span><span class="p">),</span>
<a id="__codelineno-0-1023" name="__codelineno-0-1023"></a><a href="#__codelineno-0-1023"><span class="linenos" data-linenos="1023 "></span></a>                <span class="n">lf</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">,</span>
<a id="__codelineno-0-1024" name="__codelineno-0-1024"></a><a href="#__codelineno-0-1024"><span class="linenos" data-linenos="1024 "></span></a>                <span class="n">instance_id_start</span><span class="p">,</span>
<a id="__codelineno-0-1025" name="__codelineno-0-1025"></a><a href="#__codelineno-0-1025"><span class="linenos" data-linenos="1025 "></span></a>                <span class="n">instance_id_end</span><span class="p">,</span>
<a id="__codelineno-0-1026" name="__codelineno-0-1026"></a><a href="#__codelineno-0-1026"><span class="linenos" data-linenos="1026 "></span></a>            <span class="p">]</span>
<a id="__codelineno-0-1027" name="__codelineno-0-1027"></a><a href="#__codelineno-0-1027"><span class="linenos" data-linenos="1027 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-1028" name="__codelineno-0-1028"></a><a href="#__codelineno-0-1028"><span class="linenos" data-linenos="1028 "></span></a>
<a id="__codelineno-0-1029" name="__codelineno-0-1029"></a><a href="#__codelineno-0-1029"><span class="linenos" data-linenos="1029 "></span></a>    <span class="c1"># Link instances based on from_predicted field.</span>
<a id="__codelineno-0-1030" name="__codelineno-0-1030"></a><a href="#__codelineno-0-1030"><span class="linenos" data-linenos="1030 "></span></a>    <span class="k">for</span> <span class="n">instance_id</span><span class="p">,</span> <span class="n">from_predicted</span> <span class="ow">in</span> <span class="n">to_link</span><span class="p">:</span>
<a id="__codelineno-0-1031" name="__codelineno-0-1031"></a><a href="#__codelineno-0-1031"><span class="linenos" data-linenos="1031 "></span></a>        <span class="c1"># Source instance may be missing if predictions were removed from the labels, in</span>
<a id="__codelineno-0-1032" name="__codelineno-0-1032"></a><a href="#__codelineno-0-1032"><span class="linenos" data-linenos="1032 "></span></a>        <span class="c1"># which case, remove the link.</span>
<a id="__codelineno-0-1033" name="__codelineno-0-1033"></a><a href="#__codelineno-0-1033"><span class="linenos" data-linenos="1033 "></span></a>        <span class="n">instances</span><span class="p">[</span><span class="n">instance_id</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">inst_to_id</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">from_predicted</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-1034" name="__codelineno-0-1034"></a><a href="#__codelineno-0-1034"><span class="linenos" data-linenos="1034 "></span></a>
<a id="__codelineno-0-1035" name="__codelineno-0-1035"></a><a href="#__codelineno-0-1035"><span class="linenos" data-linenos="1035 "></span></a>    <span class="c1"># Create structured arrays.</span>
<a id="__codelineno-0-1036" name="__codelineno-0-1036"></a><a href="#__codelineno-0-1036"><span class="linenos" data-linenos="1036 "></span></a>    <span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">points</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">point_dtype</span><span class="p">)</span>
<a id="__codelineno-0-1037" name="__codelineno-0-1037"></a><a href="#__codelineno-0-1037"><span class="linenos" data-linenos="1037 "></span></a>    <span class="n">predicted_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<a id="__codelineno-0-1038" name="__codelineno-0-1038"></a><a href="#__codelineno-0-1038"><span class="linenos" data-linenos="1038 "></span></a>        <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">predicted_points</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">predicted_point_dtype</span>
<a id="__codelineno-0-1039" name="__codelineno-0-1039"></a><a href="#__codelineno-0-1039"><span class="linenos" data-linenos="1039 "></span></a>    <span class="p">)</span>
<a id="__codelineno-0-1040" name="__codelineno-0-1040"></a><a href="#__codelineno-0-1040"><span class="linenos" data-linenos="1040 "></span></a>    <span class="n">instances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">instances</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">instance_dtype</span><span class="p">)</span>
<a id="__codelineno-0-1041" name="__codelineno-0-1041"></a><a href="#__codelineno-0-1041"><span class="linenos" data-linenos="1041 "></span></a>    <span class="n">frames</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">frame_dtype</span><span class="p">)</span>
<a id="__codelineno-0-1042" name="__codelineno-0-1042"></a><a href="#__codelineno-0-1042"><span class="linenos" data-linenos="1042 "></span></a>
<a id="__codelineno-0-1043" name="__codelineno-0-1043"></a><a href="#__codelineno-0-1043"><span class="linenos" data-linenos="1043 "></span></a>    <span class="c1"># Write to file.</span>
<a id="__codelineno-0-1044" name="__codelineno-0-1044"></a><a href="#__codelineno-0-1044"><span class="linenos" data-linenos="1044 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-1045" name="__codelineno-0-1045"></a><a href="#__codelineno-0-1045"><span class="linenos" data-linenos="1045 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;points&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">points</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<a id="__codelineno-0-1046" name="__codelineno-0-1046"></a><a href="#__codelineno-0-1046"><span class="linenos" data-linenos="1046 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
<a id="__codelineno-0-1047" name="__codelineno-0-1047"></a><a href="#__codelineno-0-1047"><span class="linenos" data-linenos="1047 "></span></a>            <span class="s2">&quot;pred_points&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1048" name="__codelineno-0-1048"></a><a href="#__codelineno-0-1048"><span class="linenos" data-linenos="1048 "></span></a>            <span class="n">data</span><span class="o">=</span><span class="n">predicted_points</span><span class="p">,</span>
<a id="__codelineno-0-1049" name="__codelineno-0-1049"></a><a href="#__codelineno-0-1049"><span class="linenos" data-linenos="1049 "></span></a>            <span class="n">dtype</span><span class="o">=</span><span class="n">predicted_points</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
<a id="__codelineno-0-1050" name="__codelineno-0-1050"></a><a href="#__codelineno-0-1050"><span class="linenos" data-linenos="1050 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-1051" name="__codelineno-0-1051"></a><a href="#__codelineno-0-1051"><span class="linenos" data-linenos="1051 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
<a id="__codelineno-0-1052" name="__codelineno-0-1052"></a><a href="#__codelineno-0-1052"><span class="linenos" data-linenos="1052 "></span></a>            <span class="s2">&quot;instances&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1053" name="__codelineno-0-1053"></a><a href="#__codelineno-0-1053"><span class="linenos" data-linenos="1053 "></span></a>            <span class="n">data</span><span class="o">=</span><span class="n">instances</span><span class="p">,</span>
<a id="__codelineno-0-1054" name="__codelineno-0-1054"></a><a href="#__codelineno-0-1054"><span class="linenos" data-linenos="1054 "></span></a>            <span class="n">dtype</span><span class="o">=</span><span class="n">instances</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
<a id="__codelineno-0-1055" name="__codelineno-0-1055"></a><a href="#__codelineno-0-1055"><span class="linenos" data-linenos="1055 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-1056" name="__codelineno-0-1056"></a><a href="#__codelineno-0-1056"><span class="linenos" data-linenos="1056 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
<a id="__codelineno-0-1057" name="__codelineno-0-1057"></a><a href="#__codelineno-0-1057"><span class="linenos" data-linenos="1057 "></span></a>            <span class="s2">&quot;frames&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1058" name="__codelineno-0-1058"></a><a href="#__codelineno-0-1058"><span class="linenos" data-linenos="1058 "></span></a>            <span class="n">data</span><span class="o">=</span><span class="n">frames</span><span class="p">,</span>
<a id="__codelineno-0-1059" name="__codelineno-0-1059"></a><a href="#__codelineno-0-1059"><span class="linenos" data-linenos="1059 "></span></a>            <span class="n">dtype</span><span class="o">=</span><span class="n">frames</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
<a id="__codelineno-0-1060" name="__codelineno-0-1060"></a><a href="#__codelineno-0-1060"><span class="linenos" data-linenos="1060 "></span></a>        <span class="p">)</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_metadata" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write metadata to a SLEAP labels file.</p>
<p>This function will write the skeletons and provenance for the labels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Labels&lt;/code&gt;" href="../../../../model/#sleap_io.Labels">Labels</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Labels</code> object to store the metadata for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>See also: serialize_skeletons</p>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-754" name="__codelineno-0-754"></a><a href="#__codelineno-0-754"><span class="linenos" data-linenos="754 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_metadata</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">Labels</span><span class="p">):</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a><a href="#__codelineno-0-755"><span class="linenos" data-linenos="755 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write metadata to a SLEAP labels file.</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><a href="#__codelineno-0-756"><span class="linenos" data-linenos="756 "></span></a>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><a href="#__codelineno-0-757"><span class="linenos" data-linenos="757 "></span></a><span class="sd">    This function will write the skeletons and provenance for the labels.</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><a href="#__codelineno-0-758"><span class="linenos" data-linenos="758 "></span></a>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><a href="#__codelineno-0-759"><span class="linenos" data-linenos="759 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><a href="#__codelineno-0-760"><span class="linenos" data-linenos="760 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><a href="#__codelineno-0-761"><span class="linenos" data-linenos="761 "></span></a><span class="sd">        labels: A `Labels` object to store the metadata for.</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><a href="#__codelineno-0-762"><span class="linenos" data-linenos="762 "></span></a>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><a href="#__codelineno-0-763"><span class="linenos" data-linenos="763 "></span></a><span class="sd">    See also: serialize_skeletons</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a><a href="#__codelineno-0-764"><span class="linenos" data-linenos="764 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a><a href="#__codelineno-0-765"><span class="linenos" data-linenos="765 "></span></a>    <span class="n">skeletons_dicts</span><span class="p">,</span> <span class="n">nodes_dicts</span> <span class="o">=</span> <span class="n">serialize_skeletons</span><span class="p">(</span><span class="n">labels</span><span class="o">.</span><span class="n">skeletons</span><span class="p">)</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a><a href="#__codelineno-0-766"><span class="linenos" data-linenos="766 "></span></a>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a><a href="#__codelineno-0-767"><span class="linenos" data-linenos="767 "></span></a>    <span class="n">md</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a><a href="#__codelineno-0-768"><span class="linenos" data-linenos="768 "></span></a>        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a><a href="#__codelineno-0-769"><span class="linenos" data-linenos="769 "></span></a>        <span class="s2">&quot;skeletons&quot;</span><span class="p">:</span> <span class="n">skeletons_dicts</span><span class="p">,</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a><a href="#__codelineno-0-770"><span class="linenos" data-linenos="770 "></span></a>        <span class="s2">&quot;nodes&quot;</span><span class="p">:</span> <span class="n">nodes_dicts</span><span class="p">,</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a><a href="#__codelineno-0-771"><span class="linenos" data-linenos="771 "></span></a>        <span class="s2">&quot;videos&quot;</span><span class="p">:</span> <span class="p">[],</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a><a href="#__codelineno-0-772"><span class="linenos" data-linenos="772 "></span></a>        <span class="s2">&quot;tracks&quot;</span><span class="p">:</span> <span class="p">[],</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a><a href="#__codelineno-0-773"><span class="linenos" data-linenos="773 "></span></a>        <span class="s2">&quot;suggestions&quot;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># TODO: Handle suggestions metadata.</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a><a href="#__codelineno-0-774"><span class="linenos" data-linenos="774 "></span></a>        <span class="s2">&quot;negative_anchors&quot;</span><span class="p">:</span> <span class="p">{},</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a><a href="#__codelineno-0-775"><span class="linenos" data-linenos="775 "></span></a>        <span class="s2">&quot;provenance&quot;</span><span class="p">:</span> <span class="n">labels</span><span class="o">.</span><span class="n">provenance</span><span class="p">,</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a><a href="#__codelineno-0-776"><span class="linenos" data-linenos="776 "></span></a>    <span class="p">}</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a><a href="#__codelineno-0-777"><span class="linenos" data-linenos="777 "></span></a>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a><a href="#__codelineno-0-778"><span class="linenos" data-linenos="778 "></span></a>    <span class="c1"># Custom encoding.</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a><a href="#__codelineno-0-779"><span class="linenos" data-linenos="779 "></span></a>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">md</span><span class="p">[</span><span class="s2">&quot;provenance&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a><a href="#__codelineno-0-780"><span class="linenos" data-linenos="780 "></span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">md</span><span class="p">[</span><span class="s2">&quot;provenance&quot;</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="n">Path</span><span class="p">):</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a><a href="#__codelineno-0-781"><span class="linenos" data-linenos="781 "></span></a>            <span class="c1"># Path -&gt; str</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a><a href="#__codelineno-0-782"><span class="linenos" data-linenos="782 "></span></a>            <span class="n">md</span><span class="p">[</span><span class="s2">&quot;provenance&quot;</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">md</span><span class="p">[</span><span class="s2">&quot;provenance&quot;</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a><a href="#__codelineno-0-783"><span class="linenos" data-linenos="783 "></span></a>
<a id="__codelineno-0-784" name="__codelineno-0-784"></a><a href="#__codelineno-0-784"><span class="linenos" data-linenos="784 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-785" name="__codelineno-0-785"></a><a href="#__codelineno-0-785"><span class="linenos" data-linenos="785 "></span></a>        <span class="n">grp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">require_group</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">)</span>
<a id="__codelineno-0-786" name="__codelineno-0-786"></a><a href="#__codelineno-0-786"><span class="linenos" data-linenos="786 "></span></a>        <span class="n">grp</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;format_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.2</span>
<a id="__codelineno-0-787" name="__codelineno-0-787"></a><a href="#__codelineno-0-787"><span class="linenos" data-linenos="787 "></span></a>        <span class="n">grp</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bytes_</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">md</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)))</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_sessions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_sessions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">sessions</span><span class="p">,</span> <span class="n">videos</span><span class="p">,</span> <span class="n">labeled_frames</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_sessions" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write <code>RecordingSession</code> metadata to a SLEAP labels file.</p>
<p>Creates a new dataset "sessions_json" in the <code>labels_path</code> file to store the
sessions data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sessions</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;RecordingSession&lt;/code&gt; (&lt;code&gt;sleap_io.RecordingSession&lt;/code&gt;)" href="../../model/camera/#sleap_io.model.camera.RecordingSession">RecordingSession</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>RecordingSession</code> objects to store in the <code>labels_path</code>
file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>videos</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Video</code> objects referenced in the <code>RecordingSession</code>s
(expecting <code>Labels.videos</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labeled_frames</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.LabeledFrame&lt;/code&gt;" href="../../../../model/#sleap_io.LabeledFrame">LabeledFrame</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>LabeledFrame</code> objects referenced in the
<code>RecordingSession</code>s (expecting <code>Labels.labeled_frames</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1585" name="__codelineno-0-1585"></a><a href="#__codelineno-0-1585"><span class="linenos" data-linenos="1585 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_sessions</span><span class="p">(</span>
<a id="__codelineno-0-1586" name="__codelineno-0-1586"></a><a href="#__codelineno-0-1586"><span class="linenos" data-linenos="1586 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-1587" name="__codelineno-0-1587"></a><a href="#__codelineno-0-1587"><span class="linenos" data-linenos="1587 "></span></a>    <span class="n">sessions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">RecordingSession</span><span class="p">],</span>
<a id="__codelineno-0-1588" name="__codelineno-0-1588"></a><a href="#__codelineno-0-1588"><span class="linenos" data-linenos="1588 "></span></a>    <span class="n">videos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">],</span>
<a id="__codelineno-0-1589" name="__codelineno-0-1589"></a><a href="#__codelineno-0-1589"><span class="linenos" data-linenos="1589 "></span></a>    <span class="n">labeled_frames</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">LabeledFrame</span><span class="p">],</span>
<a id="__codelineno-0-1590" name="__codelineno-0-1590"></a><a href="#__codelineno-0-1590"><span class="linenos" data-linenos="1590 "></span></a><span class="p">):</span>
<a id="__codelineno-0-1591" name="__codelineno-0-1591"></a><a href="#__codelineno-0-1591"><span class="linenos" data-linenos="1591 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write `RecordingSession` metadata to a SLEAP labels file.</span>
<a id="__codelineno-0-1592" name="__codelineno-0-1592"></a><a href="#__codelineno-0-1592"><span class="linenos" data-linenos="1592 "></span></a>
<a id="__codelineno-0-1593" name="__codelineno-0-1593"></a><a href="#__codelineno-0-1593"><span class="linenos" data-linenos="1593 "></span></a><span class="sd">    Creates a new dataset &quot;sessions_json&quot; in the `labels_path` file to store the</span>
<a id="__codelineno-0-1594" name="__codelineno-0-1594"></a><a href="#__codelineno-0-1594"><span class="linenos" data-linenos="1594 "></span></a><span class="sd">    sessions data.</span>
<a id="__codelineno-0-1595" name="__codelineno-0-1595"></a><a href="#__codelineno-0-1595"><span class="linenos" data-linenos="1595 "></span></a>
<a id="__codelineno-0-1596" name="__codelineno-0-1596"></a><a href="#__codelineno-0-1596"><span class="linenos" data-linenos="1596 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1597" name="__codelineno-0-1597"></a><a href="#__codelineno-0-1597"><span class="linenos" data-linenos="1597 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-1598" name="__codelineno-0-1598"></a><a href="#__codelineno-0-1598"><span class="linenos" data-linenos="1598 "></span></a><span class="sd">        sessions: A list of `RecordingSession` objects to store in the `labels_path`</span>
<a id="__codelineno-0-1599" name="__codelineno-0-1599"></a><a href="#__codelineno-0-1599"><span class="linenos" data-linenos="1599 "></span></a><span class="sd">            file.</span>
<a id="__codelineno-0-1600" name="__codelineno-0-1600"></a><a href="#__codelineno-0-1600"><span class="linenos" data-linenos="1600 "></span></a><span class="sd">        videos: A list of `Video` objects referenced in the `RecordingSession`s</span>
<a id="__codelineno-0-1601" name="__codelineno-0-1601"></a><a href="#__codelineno-0-1601"><span class="linenos" data-linenos="1601 "></span></a><span class="sd">            (expecting `Labels.videos`).</span>
<a id="__codelineno-0-1602" name="__codelineno-0-1602"></a><a href="#__codelineno-0-1602"><span class="linenos" data-linenos="1602 "></span></a><span class="sd">        labeled_frames: A list of `LabeledFrame` objects referenced in the</span>
<a id="__codelineno-0-1603" name="__codelineno-0-1603"></a><a href="#__codelineno-0-1603"><span class="linenos" data-linenos="1603 "></span></a><span class="sd">            `RecordingSession`s (expecting `Labels.labeled_frames`).</span>
<a id="__codelineno-0-1604" name="__codelineno-0-1604"></a><a href="#__codelineno-0-1604"><span class="linenos" data-linenos="1604 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1605" name="__codelineno-0-1605"></a><a href="#__codelineno-0-1605"><span class="linenos" data-linenos="1605 "></span></a>    <span class="n">sessions_json</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-1606" name="__codelineno-0-1606"></a><a href="#__codelineno-0-1606"><span class="linenos" data-linenos="1606 "></span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sessions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-1607" name="__codelineno-0-1607"></a><a href="#__codelineno-0-1607"><span class="linenos" data-linenos="1607 "></span></a>        <span class="n">labeled_frame_to_idx</span> <span class="o">=</span> <span class="p">{</span><span class="n">lf</span><span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">lf</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labeled_frames</span><span class="p">)}</span>
<a id="__codelineno-0-1608" name="__codelineno-0-1608"></a><a href="#__codelineno-0-1608"><span class="linenos" data-linenos="1608 "></span></a>        <span class="n">video_to_idx</span> <span class="o">=</span> <span class="p">{</span><span class="n">video</span><span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">video</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">videos</span><span class="p">)}</span>
<a id="__codelineno-0-1609" name="__codelineno-0-1609"></a><a href="#__codelineno-0-1609"><span class="linenos" data-linenos="1609 "></span></a>    <span class="k">for</span> <span class="n">session</span> <span class="ow">in</span> <span class="n">sessions</span><span class="p">:</span>
<a id="__codelineno-0-1610" name="__codelineno-0-1610"></a><a href="#__codelineno-0-1610"><span class="linenos" data-linenos="1610 "></span></a>        <span class="n">session_json</span> <span class="o">=</span> <span class="n">session_to_dict</span><span class="p">(</span>
<a id="__codelineno-0-1611" name="__codelineno-0-1611"></a><a href="#__codelineno-0-1611"><span class="linenos" data-linenos="1611 "></span></a>            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
<a id="__codelineno-0-1612" name="__codelineno-0-1612"></a><a href="#__codelineno-0-1612"><span class="linenos" data-linenos="1612 "></span></a>            <span class="n">video_to_idx</span><span class="o">=</span><span class="n">video_to_idx</span><span class="p">,</span>
<a id="__codelineno-0-1613" name="__codelineno-0-1613"></a><a href="#__codelineno-0-1613"><span class="linenos" data-linenos="1613 "></span></a>            <span class="n">labeled_frame_to_idx</span><span class="o">=</span><span class="n">labeled_frame_to_idx</span><span class="p">,</span>
<a id="__codelineno-0-1614" name="__codelineno-0-1614"></a><a href="#__codelineno-0-1614"><span class="linenos" data-linenos="1614 "></span></a>        <span class="p">)</span>
<a id="__codelineno-0-1615" name="__codelineno-0-1615"></a><a href="#__codelineno-0-1615"><span class="linenos" data-linenos="1615 "></span></a>        <span class="n">sessions_json</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">bytes_</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">session_json</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">))))</span>
<a id="__codelineno-0-1616" name="__codelineno-0-1616"></a><a href="#__codelineno-0-1616"><span class="linenos" data-linenos="1616 "></span></a>
<a id="__codelineno-0-1617" name="__codelineno-0-1617"></a><a href="#__codelineno-0-1617"><span class="linenos" data-linenos="1617 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-1618" name="__codelineno-0-1618"></a><a href="#__codelineno-0-1618"><span class="linenos" data-linenos="1618 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;sessions_json&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">sessions_json</span><span class="p">,</span> <span class="n">maxshape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,))</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_suggestions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_suggestions</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">suggestions</span><span class="p">,</span> <span class="n">videos</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_suggestions" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write track metadata to a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>suggestions</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.SuggestionFrame&lt;/code&gt;" href="../../../../model/#sleap_io.SuggestionFrame">SuggestionFrame</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>SuggestionFrame</code> objects to store the metadata for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>videos</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Video</code> objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-543" name="__codelineno-0-543"></a><a href="#__codelineno-0-543"><span class="linenos" data-linenos="543 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_suggestions</span><span class="p">(</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a><a href="#__codelineno-0-544"><span class="linenos" data-linenos="544 "></span></a>    <span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">suggestions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">SuggestionFrame</span><span class="p">],</span> <span class="n">videos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">]</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><a href="#__codelineno-0-545"><span class="linenos" data-linenos="545 "></span></a><span class="p">):</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><a href="#__codelineno-0-546"><span class="linenos" data-linenos="546 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write track metadata to a SLEAP labels file.</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a><a href="#__codelineno-0-547"><span class="linenos" data-linenos="547 "></span></a>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a><a href="#__codelineno-0-548"><span class="linenos" data-linenos="548 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><a href="#__codelineno-0-549"><span class="linenos" data-linenos="549 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><a href="#__codelineno-0-550"><span class="linenos" data-linenos="550 "></span></a><span class="sd">        suggestions: A list of `SuggestionFrame` objects to store the metadata for.</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a><a href="#__codelineno-0-551"><span class="linenos" data-linenos="551 "></span></a><span class="sd">        videos: A list of `Video` objects.</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><a href="#__codelineno-0-552"><span class="linenos" data-linenos="552 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><a href="#__codelineno-0-553"><span class="linenos" data-linenos="553 "></span></a>    <span class="n">GROUP</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># TODO: Handle storing extraneous metadata.</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><a href="#__codelineno-0-554"><span class="linenos" data-linenos="554 "></span></a>    <span class="n">suggestions_json</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><a href="#__codelineno-0-555"><span class="linenos" data-linenos="555 "></span></a>    <span class="k">for</span> <span class="n">suggestion</span> <span class="ow">in</span> <span class="n">suggestions</span><span class="p">:</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a><a href="#__codelineno-0-556"><span class="linenos" data-linenos="556 "></span></a>        <span class="n">suggestion_dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a><a href="#__codelineno-0-557"><span class="linenos" data-linenos="557 "></span></a>            <span class="s2">&quot;video&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">videos</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">suggestion</span><span class="o">.</span><span class="n">video</span><span class="p">)),</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a><a href="#__codelineno-0-558"><span class="linenos" data-linenos="558 "></span></a>            <span class="s2">&quot;frame_idx&quot;</span><span class="p">:</span> <span class="n">suggestion</span><span class="o">.</span><span class="n">frame_idx</span><span class="p">,</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a><a href="#__codelineno-0-559"><span class="linenos" data-linenos="559 "></span></a>            <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="n">GROUP</span><span class="p">,</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a><a href="#__codelineno-0-560"><span class="linenos" data-linenos="560 "></span></a>        <span class="p">}</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a><a href="#__codelineno-0-561"><span class="linenos" data-linenos="561 "></span></a>        <span class="n">suggestion_json</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bytes_</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">suggestion_dict</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a><a href="#__codelineno-0-562"><span class="linenos" data-linenos="562 "></span></a>        <span class="n">suggestions_json</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">suggestion_json</span><span class="p">)</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a><a href="#__codelineno-0-563"><span class="linenos" data-linenos="563 "></span></a>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a><a href="#__codelineno-0-564"><span class="linenos" data-linenos="564 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a><a href="#__codelineno-0-565"><span class="linenos" data-linenos="565 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;suggestions_json&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">suggestions_json</span><span class="p">,</span> <span class="n">maxshape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,))</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_tracks" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_tracks</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">tracks</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_tracks" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write track metadata to a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tracks</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Track&lt;/code&gt;" href="../../../../model/#sleap_io.Track">Track</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Track</code> objects to store the metadata for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-500" name="__codelineno-0-500"></a><a href="#__codelineno-0-500"><span class="linenos" data-linenos="500 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_tracks</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Track</span><span class="p">]):</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a><a href="#__codelineno-0-501"><span class="linenos" data-linenos="501 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write track metadata to a SLEAP labels file.</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a><a href="#__codelineno-0-502"><span class="linenos" data-linenos="502 "></span></a>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a><a href="#__codelineno-0-503"><span class="linenos" data-linenos="503 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a><a href="#__codelineno-0-504"><span class="linenos" data-linenos="504 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a><a href="#__codelineno-0-505"><span class="linenos" data-linenos="505 "></span></a><span class="sd">        tracks: A list of `Track` objects to store the metadata for.</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a><a href="#__codelineno-0-506"><span class="linenos" data-linenos="506 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a><a href="#__codelineno-0-507"><span class="linenos" data-linenos="507 "></span></a>    <span class="c1"># TODO: Add support for track metadata like spawned on frame.</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><a href="#__codelineno-0-508"><span class="linenos" data-linenos="508 "></span></a>    <span class="n">SPAWNED_ON</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a><a href="#__codelineno-0-509"><span class="linenos" data-linenos="509 "></span></a>    <span class="n">tracks_json</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><a href="#__codelineno-0-510"><span class="linenos" data-linenos="510 "></span></a>        <span class="n">np</span><span class="o">.</span><span class="n">bytes_</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">SPAWNED_ON</span><span class="p">,</span> <span class="n">track</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)))</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a><a href="#__codelineno-0-511"><span class="linenos" data-linenos="511 "></span></a>        <span class="k">for</span> <span class="n">track</span> <span class="ow">in</span> <span class="n">tracks</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><a href="#__codelineno-0-512"><span class="linenos" data-linenos="512 "></span></a>    <span class="p">]</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a><a href="#__codelineno-0-513"><span class="linenos" data-linenos="513 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a><a href="#__codelineno-0-514"><span class="linenos" data-linenos="514 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;tracks_json&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">tracks_json</span><span class="p">,</span> <span class="n">maxshape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,))</span>
</code></pre></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sleap_io.io.slp.write_videos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">videos</span><span class="p">,</span> <span class="n">restore_source</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#sleap_io.io.slp.write_videos" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Write video metadata to a SLEAP labels file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>labels_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to the SLEAP labels file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>videos</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code&gt;sleap_io.Video&lt;/code&gt;" href="../../../../model/#sleap_io.Video">Video</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Video</code> objects to store the metadata for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>restore_source</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, restore source videos if available and will not
re-embed the embedded images. If <code>False</code> (the default), will re-embed images
that were previously embedded.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>sleap_io/io/slp.py</code></summary>
              <div class="highlight"><pre><span></span><code><a id="__codelineno-0-444" name="__codelineno-0-444"></a><a href="#__codelineno-0-444"><span class="linenos" data-linenos="444 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">write_videos</span><span class="p">(</span><span class="n">labels_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">videos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Video</span><span class="p">],</span> <span class="n">restore_source</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><a href="#__codelineno-0-445"><span class="linenos" data-linenos="445 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Write video metadata to a SLEAP labels file.</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><a href="#__codelineno-0-446"><span class="linenos" data-linenos="446 "></span></a>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a><a href="#__codelineno-0-447"><span class="linenos" data-linenos="447 "></span></a><span class="sd">    Args:</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><a href="#__codelineno-0-448"><span class="linenos" data-linenos="448 "></span></a><span class="sd">        labels_path: A string path to the SLEAP labels file.</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><a href="#__codelineno-0-449"><span class="linenos" data-linenos="449 "></span></a><span class="sd">        videos: A list of `Video` objects to store the metadata for.</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><a href="#__codelineno-0-450"><span class="linenos" data-linenos="450 "></span></a><span class="sd">        restore_source: If `True`, restore source videos if available and will not</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a><a href="#__codelineno-0-451"><span class="linenos" data-linenos="451 "></span></a><span class="sd">            re-embed the embedded images. If `False` (the default), will re-embed images</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a><a href="#__codelineno-0-452"><span class="linenos" data-linenos="452 "></span></a><span class="sd">            that were previously embedded.</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a><a href="#__codelineno-0-453"><span class="linenos" data-linenos="453 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a><a href="#__codelineno-0-454"><span class="linenos" data-linenos="454 "></span></a>    <span class="n">video_jsons</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a><a href="#__codelineno-0-455"><span class="linenos" data-linenos="455 "></span></a>    <span class="k">for</span> <span class="n">video_ind</span><span class="p">,</span> <span class="n">video</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">videos</span><span class="p">):</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a><a href="#__codelineno-0-456"><span class="linenos" data-linenos="456 "></span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span> <span class="o">==</span> <span class="n">HDF5Video</span> <span class="ow">and</span> <span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">has_embedded_images</span><span class="p">:</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a><a href="#__codelineno-0-457"><span class="linenos" data-linenos="457 "></span></a>            <span class="k">if</span> <span class="n">restore_source</span><span class="p">:</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a><a href="#__codelineno-0-458"><span class="linenos" data-linenos="458 "></span></a>                <span class="n">video</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">source_video</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a><a href="#__codelineno-0-459"><span class="linenos" data-linenos="459 "></span></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a><a href="#__codelineno-0-460"><span class="linenos" data-linenos="460 "></span></a>                <span class="c1"># If the video has embedded images, embed them images again if we haven&#39;t</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a><a href="#__codelineno-0-461"><span class="linenos" data-linenos="461 "></span></a>                <span class="c1"># already.</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a><a href="#__codelineno-0-462"><span class="linenos" data-linenos="462 "></span></a>                <span class="n">already_embedded</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a><a href="#__codelineno-0-463"><span class="linenos" data-linenos="463 "></span></a>                <span class="k">if</span> <span class="n">Path</span><span class="p">(</span><span class="n">labels_path</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a><a href="#__codelineno-0-464"><span class="linenos" data-linenos="464 "></span></a>                    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a><a href="#__codelineno-0-465"><span class="linenos" data-linenos="465 "></span></a>                        <span class="n">already_embedded</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;video</span><span class="si">{</span><span class="n">video_ind</span><span class="si">}</span><span class="s2">/video&quot;</span> <span class="ow">in</span> <span class="n">f</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><a href="#__codelineno-0-466"><span class="linenos" data-linenos="466 "></span></a>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><a href="#__codelineno-0-467"><span class="linenos" data-linenos="467 "></span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">already_embedded</span><span class="p">:</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a><a href="#__codelineno-0-468"><span class="linenos" data-linenos="468 "></span></a>                    <span class="n">video</span> <span class="o">=</span> <span class="n">embed_video</span><span class="p">(</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><a href="#__codelineno-0-469"><span class="linenos" data-linenos="469 "></span></a>                        <span class="n">labels_path</span><span class="p">,</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><a href="#__codelineno-0-470"><span class="linenos" data-linenos="470 "></span></a>                        <span class="n">video</span><span class="p">,</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a><a href="#__codelineno-0-471"><span class="linenos" data-linenos="471 "></span></a>                        <span class="n">group</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;video</span><span class="si">{</span><span class="n">video_ind</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><a href="#__codelineno-0-472"><span class="linenos" data-linenos="472 "></span></a>                        <span class="n">frame_inds</span><span class="o">=</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">source_inds</span><span class="p">,</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><a href="#__codelineno-0-473"><span class="linenos" data-linenos="473 "></span></a>                        <span class="n">image_format</span><span class="o">=</span><span class="n">video</span><span class="o">.</span><span class="n">backend</span><span class="o">.</span><span class="n">image_format</span><span class="p">,</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a><a href="#__codelineno-0-474"><span class="linenos" data-linenos="474 "></span></a>                    <span class="p">)</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><a href="#__codelineno-0-475"><span class="linenos" data-linenos="475 "></span></a>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><a href="#__codelineno-0-476"><span class="linenos" data-linenos="476 "></span></a>        <span class="n">video_json</span> <span class="o">=</span> <span class="n">video_to_dict</span><span class="p">(</span><span class="n">video</span><span class="p">)</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><a href="#__codelineno-0-477"><span class="linenos" data-linenos="477 "></span></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><a href="#__codelineno-0-478"><span class="linenos" data-linenos="478 "></span></a>        <span class="n">video_jsons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">bytes_</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">video_json</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">))))</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><a href="#__codelineno-0-479"><span class="linenos" data-linenos="479 "></span></a>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><a href="#__codelineno-0-480"><span class="linenos" data-linenos="480 "></span></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">labels_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><a href="#__codelineno-0-481"><span class="linenos" data-linenos="481 "></span></a>        <span class="n">f</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;videos_json&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">video_jsons</span><span class="p">,</span> <span class="n">maxshape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,))</span>
</code></pre></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2024 Talmo Lab  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/talmolab" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/talmop" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "toc.follow", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate", "content.tooltips", "content.code.select", "content.footnote.tooltips"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>